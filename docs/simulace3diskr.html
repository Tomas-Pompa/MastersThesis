<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapitola 8 Závislost na diskretizaci | Diplomová práce</title>
  <meta name="description" content="Kapitola 8 Závislost na diskretizaci | Diplomová práce" />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapitola 8 Závislost na diskretizaci | Diplomová práce" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapitola 8 Závislost na diskretizaci | Diplomová práce" />
  
  
  

<meta name="author" content="Tomáš Pompa" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="simulace3shift.html"/>
<link rel="next" href="simulace4.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/codefolding-lua-1.1/codefolding-lua.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="sci-lg-eng-rgb.png"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>SVM pro funkcionální data</a></li>
<li class="part"><span><b>Simulační studie</b></span></li>
<li class="chapter" data-level="1" data-path="simulace1.html"><a href="simulace1.html"><i class="fa fa-check"></i><b>1</b> Simulace 1</a>
<ul>
<li class="chapter" data-level="1.1" data-path="simulace1.html"><a href="simulace1.html#simulace-funkcionálních-dat"><i class="fa fa-check"></i><b>1.1</b> Simulace funkcionálních dat</a></li>
<li class="chapter" data-level="1.2" data-path="simulace1.html"><a href="simulace1.html#vyhlazení-pozorovaných-křivek"><i class="fa fa-check"></i><b>1.2</b> Vyhlazení pozorovaných křivek</a></li>
<li class="chapter" data-level="1.3" data-path="simulace1.html"><a href="simulace1.html#klasifikace-křivek"><i class="fa fa-check"></i><b>1.3</b> Klasifikace křivek</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="simulace1.html"><a href="simulace1.html#k-nejbližších-sousedů"><i class="fa fa-check"></i><b>1.3.1</b> <span class="math inline">\(K\)</span> nejbližších sousedů</a></li>
<li class="chapter" data-level="1.3.2" data-path="simulace1.html"><a href="simulace1.html#lineární-diskriminační-analýza"><i class="fa fa-check"></i><b>1.3.2</b> Lineární diskriminační analýza</a></li>
<li class="chapter" data-level="1.3.3" data-path="simulace1.html"><a href="simulace1.html#kvadratická-diskriminační-analýza"><i class="fa fa-check"></i><b>1.3.3</b> Kvadratická diskriminační analýza</a></li>
<li class="chapter" data-level="1.3.4" data-path="simulace1.html"><a href="simulace1.html#logistická-regrese"><i class="fa fa-check"></i><b>1.3.4</b> Logistická regrese</a></li>
<li class="chapter" data-level="1.3.5" data-path="simulace1.html"><a href="simulace1.html#rozhodovací-stromy"><i class="fa fa-check"></i><b>1.3.5</b> Rozhodovací stromy</a></li>
<li class="chapter" data-level="1.3.6" data-path="simulace1.html"><a href="simulace1.html#náhodné-lesy"><i class="fa fa-check"></i><b>1.3.6</b> Náhodné lesy</a></li>
<li class="chapter" data-level="1.3.7" data-path="simulace1.html"><a href="simulace1.html#support-vector-machines"><i class="fa fa-check"></i><b>1.3.7</b> Support Vector Machines</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="simulace1.html"><a href="simulace1.html#tabulka-výsledků"><i class="fa fa-check"></i><b>1.4</b> Tabulka výsledků</a></li>
<li class="chapter" data-level="1.5" data-path="simulace1.html"><a href="simulace1.html#simulační-studie"><i class="fa fa-check"></i><b>1.5</b> Simulační studie</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="simulace1.html"><a href="simulace1.html#výsledky"><i class="fa fa-check"></i><b>1.5.1</b> Výsledky</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="simulace2.html"><a href="simulace2.html"><i class="fa fa-check"></i><b>2</b> Simulace 2</a>
<ul>
<li class="chapter" data-level="2.1" data-path="simulace2.html"><a href="simulace2.html#simulace-funkcionálních-dat-1"><i class="fa fa-check"></i><b>2.1</b> Simulace funkcionálních dat</a></li>
<li class="chapter" data-level="2.2" data-path="simulace2.html"><a href="simulace2.html#vyhlazení-pozorovaných-křivek-1"><i class="fa fa-check"></i><b>2.2</b> Vyhlazení pozorovaných křivek</a></li>
<li class="chapter" data-level="2.3" data-path="simulace2.html"><a href="simulace2.html#klasifikace-křivek-1"><i class="fa fa-check"></i><b>2.3</b> Klasifikace křivek</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="simulace2.html"><a href="simulace2.html#k-nejbližších-sousedů-1"><i class="fa fa-check"></i><b>2.3.1</b> <span class="math inline">\(K\)</span> nejbližších sousedů</a></li>
<li class="chapter" data-level="2.3.2" data-path="simulace2.html"><a href="simulace2.html#lineární-diskriminační-analýza-1"><i class="fa fa-check"></i><b>2.3.2</b> Lineární diskriminační analýza</a></li>
<li class="chapter" data-level="2.3.3" data-path="simulace2.html"><a href="simulace2.html#kvadratická-diskriminační-analýza-1"><i class="fa fa-check"></i><b>2.3.3</b> Kvadratická diskriminační analýza</a></li>
<li class="chapter" data-level="2.3.4" data-path="simulace2.html"><a href="simulace2.html#logistická-regrese-1"><i class="fa fa-check"></i><b>2.3.4</b> Logistická regrese</a></li>
<li class="chapter" data-level="2.3.5" data-path="simulace2.html"><a href="simulace2.html#rozhodovací-stromy-1"><i class="fa fa-check"></i><b>2.3.5</b> Rozhodovací stromy</a></li>
<li class="chapter" data-level="2.3.6" data-path="simulace2.html"><a href="simulace2.html#náhodné-lesy-1"><i class="fa fa-check"></i><b>2.3.6</b> Náhodné lesy</a></li>
<li class="chapter" data-level="2.3.7" data-path="simulace2.html"><a href="simulace2.html#support-vector-machines-1"><i class="fa fa-check"></i><b>2.3.7</b> Support Vector Machines</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="simulace2.html"><a href="simulace2.html#tabulka-výsledků-1"><i class="fa fa-check"></i><b>2.4</b> Tabulka výsledků</a></li>
<li class="chapter" data-level="2.5" data-path="simulace2.html"><a href="simulace2.html#simulační-studie-1"><i class="fa fa-check"></i><b>2.5</b> Simulační studie</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="simulace2.html"><a href="simulace2.html#výsledky-1"><i class="fa fa-check"></i><b>2.5.1</b> Výsledky</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="simulace2sigma.html"><a href="simulace2sigma.html"><i class="fa fa-check"></i><b>3</b> Závislost na parametru <span class="math inline">\(\sigma^2\)</span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="simulace2sigma.html"><a href="simulace2sigma.html#simulace-funkcionálních-dat-2"><i class="fa fa-check"></i><b>3.1</b> Simulace funkcionálních dat</a></li>
<li class="chapter" data-level="3.2" data-path="simulace2sigma.html"><a href="simulace2sigma.html#vyhlazení-pozorovaných-křivek-2"><i class="fa fa-check"></i><b>3.2</b> Vyhlazení pozorovaných křivek</a></li>
<li class="chapter" data-level="3.3" data-path="simulace2sigma.html"><a href="simulace2sigma.html#klasifikace-křivek-2"><i class="fa fa-check"></i><b>3.3</b> Klasifikace křivek</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="simulace2sigma.html"><a href="simulace2sigma.html#k-nejbližších-sousedů-2"><i class="fa fa-check"></i><b>3.3.1</b> <span class="math inline">\(K\)</span> nejbližších sousedů</a></li>
<li class="chapter" data-level="3.3.2" data-path="simulace2sigma.html"><a href="simulace2sigma.html#lineární-diskriminační-analýza-2"><i class="fa fa-check"></i><b>3.3.2</b> Lineární diskriminační analýza</a></li>
<li class="chapter" data-level="3.3.3" data-path="simulace2sigma.html"><a href="simulace2sigma.html#kvadratická-diskriminační-analýza-2"><i class="fa fa-check"></i><b>3.3.3</b> Kvadratická diskriminační analýza</a></li>
<li class="chapter" data-level="3.3.4" data-path="simulace2sigma.html"><a href="simulace2sigma.html#support-vector-machines-2"><i class="fa fa-check"></i><b>3.3.4</b> Support Vector Machines</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="simulace2sigma.html"><a href="simulace2sigma.html#tabulka-výsledků-2"><i class="fa fa-check"></i><b>3.4</b> Tabulka výsledků</a></li>
<li class="chapter" data-level="3.5" data-path="simulace2sigma.html"><a href="simulace2sigma.html#simulační-studie-2"><i class="fa fa-check"></i><b>3.5</b> Simulační studie</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="simulace2sigma.html"><a href="simulace2sigma.html#grafický-výstup"><i class="fa fa-check"></i><b>3.5.1</b> Grafický výstup</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="simulace2shift.html"><a href="simulace2shift.html"><i class="fa fa-check"></i><b>4</b> Závislost na parametru <span class="math inline">\(\sigma_{shift}\)</span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="simulace2shift.html"><a href="simulace2shift.html#simulace-funkcionálních-dat-3"><i class="fa fa-check"></i><b>4.1</b> Simulace funkcionálních dat</a></li>
<li class="chapter" data-level="4.2" data-path="simulace2shift.html"><a href="simulace2shift.html#vyhlazení-pozorovaných-křivek-3"><i class="fa fa-check"></i><b>4.2</b> Vyhlazení pozorovaných křivek</a></li>
<li class="chapter" data-level="4.3" data-path="simulace2shift.html"><a href="simulace2shift.html#klasifikace-křivek-3"><i class="fa fa-check"></i><b>4.3</b> Klasifikace křivek</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="simulace2shift.html"><a href="simulace2shift.html#k-nejbližších-sousedů-3"><i class="fa fa-check"></i><b>4.3.1</b> <span class="math inline">\(K\)</span> nejbližších sousedů</a></li>
<li class="chapter" data-level="4.3.2" data-path="simulace2shift.html"><a href="simulace2shift.html#lineární-diskriminační-analýza-3"><i class="fa fa-check"></i><b>4.3.2</b> Lineární diskriminační analýza</a></li>
<li class="chapter" data-level="4.3.3" data-path="simulace2shift.html"><a href="simulace2shift.html#kvadratická-diskriminační-analýza-3"><i class="fa fa-check"></i><b>4.3.3</b> Kvadratická diskriminační analýza</a></li>
<li class="chapter" data-level="4.3.4" data-path="simulace2shift.html"><a href="simulace2shift.html#support-vector-machines-3"><i class="fa fa-check"></i><b>4.3.4</b> Support Vector Machines</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="simulace2shift.html"><a href="simulace2shift.html#tabulka-výsledků-3"><i class="fa fa-check"></i><b>4.4</b> Tabulka výsledků</a></li>
<li class="chapter" data-level="4.5" data-path="simulace2shift.html"><a href="simulace2shift.html#simulační-studie-3"><i class="fa fa-check"></i><b>4.5</b> Simulační studie</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="simulace2shift.html"><a href="simulace2shift.html#grafický-výstup-1"><i class="fa fa-check"></i><b>4.5.1</b> Grafický výstup</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="simulace3.html"><a href="simulace3.html"><i class="fa fa-check"></i><b>5</b> Simulace 3</a>
<ul>
<li class="chapter" data-level="5.1" data-path="simulace3.html"><a href="simulace3.html#simulace-funkcionálních-dat-4"><i class="fa fa-check"></i><b>5.1</b> Simulace funkcionálních dat</a></li>
<li class="chapter" data-level="5.2" data-path="simulace3.html"><a href="simulace3.html#vyhlazení-pozorovaných-křivek-4"><i class="fa fa-check"></i><b>5.2</b> Vyhlazení pozorovaných křivek</a></li>
<li class="chapter" data-level="5.3" data-path="simulace3.html"><a href="simulace3.html#klasifikace-křivek-4"><i class="fa fa-check"></i><b>5.3</b> Klasifikace křivek</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="simulace3.html"><a href="simulace3.html#k-nejbližších-sousedů-4"><i class="fa fa-check"></i><b>5.3.1</b> <span class="math inline">\(K\)</span> nejbližších sousedů</a></li>
<li class="chapter" data-level="5.3.2" data-path="simulace3.html"><a href="simulace3.html#lineární-diskriminační-analýza-4"><i class="fa fa-check"></i><b>5.3.2</b> Lineární diskriminační analýza</a></li>
<li class="chapter" data-level="5.3.3" data-path="simulace3.html"><a href="simulace3.html#kvadratická-diskriminační-analýza-4"><i class="fa fa-check"></i><b>5.3.3</b> Kvadratická diskriminační analýza</a></li>
<li class="chapter" data-level="5.3.4" data-path="simulace3.html"><a href="simulace3.html#logistická-regrese-2"><i class="fa fa-check"></i><b>5.3.4</b> Logistická regrese</a></li>
<li class="chapter" data-level="5.3.5" data-path="simulace3.html"><a href="simulace3.html#rozhodovací-stromy-2"><i class="fa fa-check"></i><b>5.3.5</b> Rozhodovací stromy</a></li>
<li class="chapter" data-level="5.3.6" data-path="simulace3.html"><a href="simulace3.html#náhodné-lesy-2"><i class="fa fa-check"></i><b>5.3.6</b> Náhodné lesy</a></li>
<li class="chapter" data-level="5.3.7" data-path="simulace3.html"><a href="simulace3.html#support-vector-machines-4"><i class="fa fa-check"></i><b>5.3.7</b> Support Vector Machines</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="simulace3.html"><a href="simulace3.html#tabulka-výsledků-4"><i class="fa fa-check"></i><b>5.4</b> Tabulka výsledků</a></li>
<li class="chapter" data-level="5.5" data-path="simulace3.html"><a href="simulace3.html#simulační-studie-4"><i class="fa fa-check"></i><b>5.5</b> Simulační studie</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="simulace3.html"><a href="simulace3.html#výsledky-2"><i class="fa fa-check"></i><b>5.5.1</b> Výsledky</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="simulace3sigma.html"><a href="simulace3sigma.html"><i class="fa fa-check"></i><b>6</b> Závislost na parametru <span class="math inline">\(\sigma^2\)</span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="simulace3sigma.html"><a href="simulace3sigma.html#simulace-funkcionálních-dat-5"><i class="fa fa-check"></i><b>6.1</b> Simulace funkcionálních dat</a></li>
<li class="chapter" data-level="6.2" data-path="simulace3sigma.html"><a href="simulace3sigma.html#vyhlazení-pozorovaných-křivek-5"><i class="fa fa-check"></i><b>6.2</b> Vyhlazení pozorovaných křivek</a></li>
<li class="chapter" data-level="6.3" data-path="simulace3sigma.html"><a href="simulace3sigma.html#klasifikace-křivek-5"><i class="fa fa-check"></i><b>6.3</b> Klasifikace křivek</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="simulace3sigma.html"><a href="simulace3sigma.html#k-nejbližších-sousedů-5"><i class="fa fa-check"></i><b>6.3.1</b> <span class="math inline">\(K\)</span> nejbližších sousedů</a></li>
<li class="chapter" data-level="6.3.2" data-path="simulace3sigma.html"><a href="simulace3sigma.html#lineární-diskriminační-analýza-5"><i class="fa fa-check"></i><b>6.3.2</b> Lineární diskriminační analýza</a></li>
<li class="chapter" data-level="6.3.3" data-path="simulace3sigma.html"><a href="simulace3sigma.html#kvadratická-diskriminační-analýza-5"><i class="fa fa-check"></i><b>6.3.3</b> Kvadratická diskriminační analýza</a></li>
<li class="chapter" data-level="6.3.4" data-path="simulace3sigma.html"><a href="simulace3sigma.html#logistická-regrese-3"><i class="fa fa-check"></i><b>6.3.4</b> Logistická regrese</a></li>
<li class="chapter" data-level="6.3.5" data-path="simulace3sigma.html"><a href="simulace3sigma.html#support-vector-machines-5"><i class="fa fa-check"></i><b>6.3.5</b> Support Vector Machines</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="simulace3sigma.html"><a href="simulace3sigma.html#tabulka-výsledků-5"><i class="fa fa-check"></i><b>6.4</b> Tabulka výsledků</a></li>
<li class="chapter" data-level="6.5" data-path="simulace3sigma.html"><a href="simulace3sigma.html#simulační-studie-5"><i class="fa fa-check"></i><b>6.5</b> Simulační studie</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="simulace3shift.html"><a href="simulace3shift.html"><i class="fa fa-check"></i><b>7</b> Závislost na parametru <span class="math inline">\(\sigma_{shift}\)</span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="simulace3shift.html"><a href="simulace3shift.html#simulace-funkcionálních-dat-6"><i class="fa fa-check"></i><b>7.1</b> Simulace funkcionálních dat</a></li>
<li class="chapter" data-level="7.2" data-path="simulace3shift.html"><a href="simulace3shift.html#vyhlazení-pozorovaných-křivek-6"><i class="fa fa-check"></i><b>7.2</b> Vyhlazení pozorovaných křivek</a></li>
<li class="chapter" data-level="7.3" data-path="simulace3shift.html"><a href="simulace3shift.html#klasifikace-křivek-6"><i class="fa fa-check"></i><b>7.3</b> Klasifikace křivek</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="simulace3shift.html"><a href="simulace3shift.html#k-nejbližších-sousedů-6"><i class="fa fa-check"></i><b>7.3.1</b> <span class="math inline">\(K\)</span> nejbližších sousedů</a></li>
<li class="chapter" data-level="7.3.2" data-path="simulace3shift.html"><a href="simulace3shift.html#lineární-diskriminační-analýza-6"><i class="fa fa-check"></i><b>7.3.2</b> Lineární diskriminační analýza</a></li>
<li class="chapter" data-level="7.3.3" data-path="simulace3shift.html"><a href="simulace3shift.html#kvadratická-diskriminační-analýza-6"><i class="fa fa-check"></i><b>7.3.3</b> Kvadratická diskriminační analýza</a></li>
<li class="chapter" data-level="7.3.4" data-path="simulace3shift.html"><a href="simulace3shift.html#logistická-regrese-4"><i class="fa fa-check"></i><b>7.3.4</b> Logistická regrese</a></li>
<li class="chapter" data-level="7.3.5" data-path="simulace3shift.html"><a href="simulace3shift.html#support-vector-machines-6"><i class="fa fa-check"></i><b>7.3.5</b> Support Vector Machines</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="simulace3shift.html"><a href="simulace3shift.html#tabulka-výsledků-6"><i class="fa fa-check"></i><b>7.4</b> Tabulka výsledků</a></li>
<li class="chapter" data-level="7.5" data-path="simulace3shift.html"><a href="simulace3shift.html#simulační-studie-6"><i class="fa fa-check"></i><b>7.5</b> Simulační studie</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="simulace3shift.html"><a href="simulace3shift.html#grafický-výstup-2"><i class="fa fa-check"></i><b>7.5.1</b> Grafický výstup</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="simulace3diskr.html"><a href="simulace3diskr.html"><i class="fa fa-check"></i><b>8</b> Závislost na diskretizaci</a>
<ul>
<li class="chapter" data-level="8.1" data-path="simulace3diskr.html"><a href="simulace3diskr.html#simulace-funkcionálních-dat-7"><i class="fa fa-check"></i><b>8.1</b> Simulace funkcionálních dat</a></li>
<li class="chapter" data-level="8.2" data-path="simulace3diskr.html"><a href="simulace3diskr.html#vyhlazení-pozorovaných-křivek-7"><i class="fa fa-check"></i><b>8.2</b> Vyhlazení pozorovaných křivek</a></li>
<li class="chapter" data-level="8.3" data-path="simulace3diskr.html"><a href="simulace3diskr.html#klasif3diskr"><i class="fa fa-check"></i><b>8.3</b> Klasifikace křivek</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="simulace3diskr.html"><a href="simulace3diskr.html#rozhodovací-stromy-3"><i class="fa fa-check"></i><b>8.3.1</b> Rozhodovací stromy</a></li>
<li class="chapter" data-level="8.3.2" data-path="simulace3diskr.html"><a href="simulace3diskr.html#náhodné-lesy-3"><i class="fa fa-check"></i><b>8.3.2</b> Náhodné lesy</a></li>
<li class="chapter" data-level="8.3.3" data-path="simulace3diskr.html"><a href="simulace3diskr.html#support-vector-machines-7"><i class="fa fa-check"></i><b>8.3.3</b> Support Vector Machines</a></li>
<li class="chapter" data-level="8.3.4" data-path="simulace3diskr.html"><a href="simulace3diskr.html#tabulka-výsledků-7"><i class="fa fa-check"></i><b>8.3.4</b> Tabulka výsledků</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="simulace3diskr.html"><a href="simulace3diskr.html#simul3diskr"><i class="fa fa-check"></i><b>8.4</b> Simulační studie</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="simulace3diskr.html"><a href="simulace3diskr.html#grafický-výstup-3"><i class="fa fa-check"></i><b>8.4.1</b> Grafický výstup</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="simulace4.html"><a href="simulace4.html"><i class="fa fa-check"></i><b>9</b> Simulace 4</a>
<ul>
<li class="chapter" data-level="9.1" data-path="simulace4.html"><a href="simulace4.html#simulace-funkcionálních-dat-8"><i class="fa fa-check"></i><b>9.1</b> Simulace funkcionálních dat</a></li>
<li class="chapter" data-level="9.2" data-path="simulace4.html"><a href="simulace4.html#vyhlazení-pozorovaných-křivek-8"><i class="fa fa-check"></i><b>9.2</b> Vyhlazení pozorovaných křivek</a></li>
<li class="chapter" data-level="9.3" data-path="simulace4.html"><a href="simulace4.html#výpočet-derivací"><i class="fa fa-check"></i><b>9.3</b> Výpočet derivací</a></li>
<li class="chapter" data-level="9.4" data-path="simulace4.html"><a href="simulace4.html#klasifikace-křivek-7"><i class="fa fa-check"></i><b>9.4</b> Klasifikace křivek</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="simulace4.html"><a href="simulace4.html#k-nejbližších-sousedů-7"><i class="fa fa-check"></i><b>9.4.1</b> <span class="math inline">\(K\)</span> nejbližších sousedů</a></li>
<li class="chapter" data-level="9.4.2" data-path="simulace4.html"><a href="simulace4.html#lineární-diskriminační-analýza-7"><i class="fa fa-check"></i><b>9.4.2</b> Lineární diskriminační analýza</a></li>
<li class="chapter" data-level="9.4.3" data-path="simulace4.html"><a href="simulace4.html#kvadratická-diskriminační-analýza-7"><i class="fa fa-check"></i><b>9.4.3</b> Kvadratická diskriminační analýza</a></li>
<li class="chapter" data-level="9.4.4" data-path="simulace4.html"><a href="simulace4.html#logistická-regrese-5"><i class="fa fa-check"></i><b>9.4.4</b> Logistická regrese</a></li>
<li class="chapter" data-level="9.4.5" data-path="simulace4.html"><a href="simulace4.html#rozhodovací-stromy-4"><i class="fa fa-check"></i><b>9.4.5</b> Rozhodovací stromy</a></li>
<li class="chapter" data-level="9.4.6" data-path="simulace4.html"><a href="simulace4.html#náhodné-lesy-4"><i class="fa fa-check"></i><b>9.4.6</b> Náhodné lesy</a></li>
<li class="chapter" data-level="9.4.7" data-path="simulace4.html"><a href="simulace4.html#support-vector-machines-8"><i class="fa fa-check"></i><b>9.4.7</b> Support Vector Machines</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="simulace4.html"><a href="simulace4.html#tabulka-výsledků-8"><i class="fa fa-check"></i><b>9.5</b> Tabulka výsledků</a></li>
<li class="chapter" data-level="9.6" data-path="simulace4.html"><a href="simulace4.html#simulační-studie-7"><i class="fa fa-check"></i><b>9.6</b> Simulační studie</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="simulace4.html"><a href="simulace4.html#výsledky-3"><i class="fa fa-check"></i><b>9.6.1</b> Výsledky</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Aplikace na datech</b></span></li>
<li class="chapter" data-level="10" data-path="aplikace1.html"><a href="aplikace1.html"><i class="fa fa-check"></i><b>10</b> Aplikace na reálných datech 1</a>
<ul>
<li class="chapter" data-level="10.1" data-path="aplikace1.html"><a href="aplikace1.html#vyhlazení-pozorovaných-křivek-9"><i class="fa fa-check"></i><b>10.1</b> Vyhlazení pozorovaných křivek</a></li>
<li class="chapter" data-level="10.2" data-path="aplikace1.html"><a href="aplikace1.html#klasifikace-křivek-8"><i class="fa fa-check"></i><b>10.2</b> Klasifikace křivek</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="aplikace1.html"><a href="aplikace1.html#k-nejbližších-sousedů-8"><i class="fa fa-check"></i><b>10.2.1</b> <span class="math inline">\(K\)</span> nejbližších sousedů</a></li>
<li class="chapter" data-level="10.2.2" data-path="aplikace1.html"><a href="aplikace1.html#lineární-diskriminační-analýza-8"><i class="fa fa-check"></i><b>10.2.2</b> Lineární diskriminační analýza</a></li>
<li class="chapter" data-level="10.2.3" data-path="aplikace1.html"><a href="aplikace1.html#kvadratická-diskriminační-analýza-8"><i class="fa fa-check"></i><b>10.2.3</b> Kvadratická diskriminační analýza</a></li>
<li class="chapter" data-level="10.2.4" data-path="aplikace1.html"><a href="aplikace1.html#logistická-regrese-6"><i class="fa fa-check"></i><b>10.2.4</b> Logistická regrese</a></li>
<li class="chapter" data-level="10.2.5" data-path="aplikace1.html"><a href="aplikace1.html#rozhodovací-stromy-5"><i class="fa fa-check"></i><b>10.2.5</b> Rozhodovací stromy</a></li>
<li class="chapter" data-level="10.2.6" data-path="aplikace1.html"><a href="aplikace1.html#náhodné-lesy-5"><i class="fa fa-check"></i><b>10.2.6</b> Náhodné lesy</a></li>
<li class="chapter" data-level="10.2.7" data-path="aplikace1.html"><a href="aplikace1.html#support-vector-machines-9"><i class="fa fa-check"></i><b>10.2.7</b> Support Vector Machines</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="aplikace1.html"><a href="aplikace1.html#tabulka-výsledků-9"><i class="fa fa-check"></i><b>10.3</b> Tabulka výsledků</a></li>
<li class="chapter" data-level="10.4" data-path="aplikace1.html"><a href="aplikace1.html#simstudyA1"><i class="fa fa-check"></i><b>10.4</b> Simulační studie</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="aplikace1.html"><a href="aplikace1.html#výsledky-4"><i class="fa fa-check"></i><b>10.4.1</b> Výsledky</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="aplikace2.html"><a href="aplikace2.html"><i class="fa fa-check"></i><b>11</b> Aplikace na reálných datech 2</a>
<ul>
<li class="chapter" data-level="11.1" data-path="aplikace2.html"><a href="aplikace2.html#vyhlazení-pozorovaných-křivek-10"><i class="fa fa-check"></i><b>11.1</b> Vyhlazení pozorovaných křivek</a></li>
<li class="chapter" data-level="11.2" data-path="aplikace2.html"><a href="aplikace2.html#klasifikace-křivek-9"><i class="fa fa-check"></i><b>11.2</b> Klasifikace křivek</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="aplikace2.html"><a href="aplikace2.html#k-nejbližších-sousedů-9"><i class="fa fa-check"></i><b>11.2.1</b> <span class="math inline">\(K\)</span> nejbližších sousedů</a></li>
<li class="chapter" data-level="11.2.2" data-path="aplikace2.html"><a href="aplikace2.html#lineární-diskriminační-analýza-9"><i class="fa fa-check"></i><b>11.2.2</b> Lineární diskriminační analýza</a></li>
<li class="chapter" data-level="11.2.3" data-path="aplikace2.html"><a href="aplikace2.html#kvadratická-diskriminační-analýza-9"><i class="fa fa-check"></i><b>11.2.3</b> Kvadratická diskriminační analýza</a></li>
<li class="chapter" data-level="11.2.4" data-path="aplikace2.html"><a href="aplikace2.html#logistická-regrese-7"><i class="fa fa-check"></i><b>11.2.4</b> Logistická regrese</a></li>
<li class="chapter" data-level="11.2.5" data-path="aplikace2.html"><a href="aplikace2.html#rozhodovací-stromy-6"><i class="fa fa-check"></i><b>11.2.5</b> Rozhodovací stromy</a></li>
<li class="chapter" data-level="11.2.6" data-path="aplikace2.html"><a href="aplikace2.html#náhodné-lesy-6"><i class="fa fa-check"></i><b>11.2.6</b> Náhodné lesy</a></li>
<li class="chapter" data-level="11.2.7" data-path="aplikace2.html"><a href="aplikace2.html#support-vector-machines-10"><i class="fa fa-check"></i><b>11.2.7</b> Support Vector Machines</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="aplikace2.html"><a href="aplikace2.html#tabulka-výsledků-10"><i class="fa fa-check"></i><b>11.3</b> Tabulka výsledků</a></li>
<li class="chapter" data-level="11.4" data-path="aplikace2.html"><a href="aplikace2.html#klasifikace-dalších-fonémů"><i class="fa fa-check"></i><b>11.4</b> Klasifikace dalších fonémů</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="aplikace2.html"><a href="aplikace2.html#ao-proti-dcl"><i class="fa fa-check"></i><b>11.4.1</b> <em>ao</em> proti <em>dcl</em></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="aplikace3.html"><a href="aplikace3.html"><i class="fa fa-check"></i><b>12</b> Aplikace na reálných datech 3</a>
<ul>
<li class="chapter" data-level="12.1" data-path="aplikace3.html"><a href="aplikace3.html#vyhlazení-pozorovaných-křivek-12"><i class="fa fa-check"></i><b>12.1</b> Vyhlazení pozorovaných křivek</a></li>
<li class="chapter" data-level="12.2" data-path="aplikace3.html"><a href="aplikace3.html#výpočet-derivací-1"><i class="fa fa-check"></i><b>12.2</b> Výpočet derivací</a></li>
<li class="chapter" data-level="12.3" data-path="aplikace3.html"><a href="aplikace3.html#klasifikace-křivek-11"><i class="fa fa-check"></i><b>12.3</b> Klasifikace křivek</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="aplikace3.html"><a href="aplikace3.html#k-nejbližších-sousedů-10"><i class="fa fa-check"></i><b>12.3.1</b> <span class="math inline">\(K\)</span> nejbližších sousedů</a></li>
<li class="chapter" data-level="12.3.2" data-path="aplikace3.html"><a href="aplikace3.html#lineární-diskriminační-analýza-11"><i class="fa fa-check"></i><b>12.3.2</b> Lineární diskriminační analýza</a></li>
<li class="chapter" data-level="12.3.3" data-path="aplikace3.html"><a href="aplikace3.html#kvadratická-diskriminační-analýza-10"><i class="fa fa-check"></i><b>12.3.3</b> Kvadratická diskriminační analýza</a></li>
<li class="chapter" data-level="12.3.4" data-path="aplikace3.html"><a href="aplikace3.html#logistická-regrese-9"><i class="fa fa-check"></i><b>12.3.4</b> Logistická regrese</a></li>
<li class="chapter" data-level="12.3.5" data-path="aplikace3.html"><a href="aplikace3.html#rozhodovací-stromy-7"><i class="fa fa-check"></i><b>12.3.5</b> Rozhodovací stromy</a></li>
<li class="chapter" data-level="12.3.6" data-path="aplikace3.html"><a href="aplikace3.html#náhodné-lesy-7"><i class="fa fa-check"></i><b>12.3.6</b> Náhodné lesy</a></li>
<li class="chapter" data-level="12.3.7" data-path="aplikace3.html"><a href="aplikace3.html#support-vector-machines-12"><i class="fa fa-check"></i><b>12.3.7</b> Support Vector Machines</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="aplikace3.html"><a href="aplikace3.html#tabulka-výsledků-12"><i class="fa fa-check"></i><b>12.4</b> Tabulka výsledků</a></li>
<li class="chapter" data-level="12.5" data-path="aplikace3.html"><a href="aplikace3.html#klasA3deriv"><i class="fa fa-check"></i><b>12.5</b> Klasifikace pomocí druhé derivace</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="aplikace3.html"><a href="aplikace3.html#k-nejbližších-sousedů-11"><i class="fa fa-check"></i><b>12.5.1</b> <span class="math inline">\(K\)</span> nejbližších sousedů</a></li>
<li class="chapter" data-level="12.5.2" data-path="aplikace3.html"><a href="aplikace3.html#lineární-diskriminační-analýza-12"><i class="fa fa-check"></i><b>12.5.2</b> Lineární diskriminační analýza</a></li>
<li class="chapter" data-level="12.5.3" data-path="aplikace3.html"><a href="aplikace3.html#kvadratická-diskriminační-analýza-11"><i class="fa fa-check"></i><b>12.5.3</b> Kvadratická diskriminační analýza</a></li>
<li class="chapter" data-level="12.5.4" data-path="aplikace3.html"><a href="aplikace3.html#logistická-regrese-10"><i class="fa fa-check"></i><b>12.5.4</b> Logistická regrese</a></li>
<li class="chapter" data-level="12.5.5" data-path="aplikace3.html"><a href="aplikace3.html#rozhodovací-stromy-8"><i class="fa fa-check"></i><b>12.5.5</b> Rozhodovací stromy</a></li>
<li class="chapter" data-level="12.5.6" data-path="aplikace3.html"><a href="aplikace3.html#náhodné-lesy-8"><i class="fa fa-check"></i><b>12.5.6</b> Náhodné lesy</a></li>
<li class="chapter" data-level="12.5.7" data-path="aplikace3.html"><a href="aplikace3.html#support-vector-machines-13"><i class="fa fa-check"></i><b>12.5.7</b> Support Vector Machines</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="aplikace3.html"><a href="aplikace3.html#tabulka-výsledků-13"><i class="fa fa-check"></i><b>12.6</b> Tabulka výsledků</a></li>
<li class="chapter" data-level="12.7" data-path="aplikace3.html"><a href="aplikace3.html#simstudyA3"><i class="fa fa-check"></i><b>12.7</b> Simulační studie</a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="aplikace3.html"><a href="aplikace3.html#simulace-pro-nederivovaná-data"><i class="fa fa-check"></i><b>12.7.1</b> Simulace pro nederivovaná data</a></li>
<li class="chapter" data-level="12.7.2" data-path="aplikace3.html"><a href="aplikace3.html#simulace-pro-derivovaná-data"><i class="fa fa-check"></i><b>12.7.2</b> Simulace pro derivovaná data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="aplikace-na-reálných-datech-4.html"><a href="aplikace-na-reálných-datech-4.html"><i class="fa fa-check"></i><b>13</b> Aplikace na reálných datech 4</a>
<ul>
<li class="chapter" data-level="13.1" data-path="aplikace-na-reálných-datech-4.html"><a href="aplikace-na-reálných-datech-4.html#handwrit-data"><i class="fa fa-check"></i><b>13.1</b> <code>handwrit</code> data</a></li>
<li class="chapter" data-level="13.2" data-path="aplikace-na-reálných-datech-4.html"><a href="aplikace-na-reálných-datech-4.html#growth-data"><i class="fa fa-check"></i><b>13.2</b> <code>growth</code> data</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html"><i class="fa fa-check"></i><b>14</b> Podpůrné materiály pro diplomovou práci</a>
<ul>
<li class="chapter" data-level="14.1" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#materiály-pro-kapitolu-1"><i class="fa fa-check"></i><b>14.1</b> Materiály pro Kapitolu 1</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#funkcionální-průměr"><i class="fa fa-check"></i><b>14.1.1</b> Funkcionální průměr</a></li>
<li class="chapter" data-level="14.1.2" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#variance"><i class="fa fa-check"></i><b>14.1.2</b> Variance</a></li>
<li class="chapter" data-level="14.1.3" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#kovariance-a-korelace"><i class="fa fa-check"></i><b>14.1.3</b> Kovariance a Korelace</a></li>
<li class="chapter" data-level="14.1.4" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#b-splinová-báze"><i class="fa fa-check"></i><b>14.1.4</b> B-splinová báze</a></li>
<li class="chapter" data-level="14.1.5" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#fourierova-báze"><i class="fa fa-check"></i><b>14.1.5</b> Fourierova báze</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#materiály-pro-kapitolu-2"><i class="fa fa-check"></i><b>14.2</b> Materiály pro Kapitolu 2</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#počet-bázových-funkcí-a-výsledný-odhad"><i class="fa fa-check"></i><b>14.2.1</b> Počet bázových funkcí a výsledný odhad</a></li>
<li class="chapter" data-level="14.2.2" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#volba-lambda"><i class="fa fa-check"></i><b>14.2.2</b> Volba <span class="math inline">\(\lambda\)</span></a></li>
<li class="chapter" data-level="14.2.3" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#vyhlazení-s-optimální-lambda"><i class="fa fa-check"></i><b>14.2.3</b> Vyhlazení s optimální <span class="math inline">\(\lambda\)</span></a></li>
<li class="chapter" data-level="14.2.4" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#funkcionální-pca"><i class="fa fa-check"></i><b>14.2.4</b> Funkcionální PCA</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#materiály-pro-kapitolu-3"><i class="fa fa-check"></i><b>14.3</b> Materiály pro Kapitolu 3</a></li>
<li class="chapter" data-level="14.4" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#materiály-pro-kapitolu-4"><i class="fa fa-check"></i><b>14.4</b> Materiály pro Kapitolu 4</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#maximal-margin-classifier"><i class="fa fa-check"></i><b>14.4.1</b> Maximal margin classifier</a></li>
<li class="chapter" data-level="14.4.2" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#support-vector-classifier"><i class="fa fa-check"></i><b>14.4.2</b> Support vector classifier</a></li>
<li class="chapter" data-level="14.4.3" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#support-vector-machines-14"><i class="fa fa-check"></i><b>14.4.3</b> Support vector machines</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#materiály-pro-kapitolu-5"><i class="fa fa-check"></i><b>14.5</b> Materiály pro Kapitolu 5</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#diskretizace-intervalu-22"><i class="fa fa-check"></i><b>14.5.1</b> Diskretizace intervalu</a></li>
<li class="chapter" data-level="14.5.2" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#support-vector-regression-svr"><i class="fa fa-check"></i><b>14.5.2</b> Support vector regression (SVR)</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#materiály-pro-kapitolu-6"><i class="fa fa-check"></i><b>14.6</b> Materiály pro Kapitolu 6</a></li>
<li class="chapter" data-level="14.7" data-path="podpůrné-materiály-pro-diplomovou-práci.html"><a href="podpůrné-materiály-pro-diplomovou-práci.html#materiály-pro-kapitolu-7"><i class="fa fa-check"></i><b>14.7</b> Materiály pro Kapitolu 7</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Diplomová práce</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="simulace3diskr" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Kapitola 8</span> Závislost na diskretizaci<a href="simulace3diskr.html#simulace3diskr" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>V této části se budeme zabývat závislostí výsledků z předchozí sekce <a href="simulace3.html#simulace3">5</a> na hodnotě <span class="math inline">\(p\)</span>, která definuje délku ekvidistantní posloupnosti bodů, které jsou použity k diskretizaci pozorovaných funkcionálních objektů. Bude nás zajímat, jak se mění chybovosti jednotlivých klasifikačních metod při zjemňování dělení intervalu, tedy při zvětšující se dimenzi diskretizovaných vektorů.</p>
<p>Naším předpokladem je, že metoda podpůrných vektorů aplikovaná na diskretizovaná data by měla při zvětšujícím se <span class="math inline">\(p\)</span> dávat menší chybovosti, neboť lépe aproximujeme integrály a tedy hodnoty jádrových funkcí funkcionálních analogií. Naopak bychom čekali, že rozhodovací stromy i náhodné lesy budou od jistého počtu <span class="math inline">\(p\)</span> stagnovat.</p>
<p>Jelikož se bavíme o diskretizaci intervalu, v této Kapitole se budeme zabývat pouze metodami pracujícími s diskretizovanými daty – tedy metodami:</p>
<ul>
<li>Rozhodovací strom,</li>
<li>Náhodný les,</li>
<li>metoda SVM.</li>
</ul>
<p>Kromě průměrné testovací chybovosti by nás také zajímala časová náročnost jednotlivých metod při zvětšující se hodnotě <span class="math inline">\(p\)</span>, neboť minimální chybovost není v praxi jediné kritérium pro použití dané klasifikační metody. Poměrně důležitou roli hraje právě i výpočetní obtížnost a s ní spojená časová náročnost.</p>
<p>Tato kapitola sestává ze dvou částí. V první Sekci <a href="simulace3diskr.html#klasif3diskr">8.3</a> zvolíme pevný počet <span class="math inline">\(p=101\)</span> diskretizovaných hodnot a podíváme se na jednotlivé metody, jejich chybovost i časovou náročnost. Následně V Sekci <a href="simulace3diskr.html#simul3diskr">8.4</a> definujeme posloupnost hodnot <span class="math inline">\(p\)</span> a pro každou několikrát celý proces zopakujeme tak, abychom mohli stanovit pro tuto hodnotu průměrné výsledky. Nakonec si vykreslíme závislost chybovosti a časové náročnosti na hodnotě <span class="math inline">\(p\)</span> počtu bodů.</p>
<div id="simulace-funkcionálních-dat-7" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Simulace funkcionálních dat<a href="simulace3diskr.html#simulace-funkcionálních-dat-7" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Nejprve si simulujeme funkce, které budeme následně chtít klasifikovat.
Budeme uvažovat pro jednoduchost dvě klasifikační třídy.
Pro simulaci nejprve:</p>
<ul>
<li>zvolíme vhodné funkce,</li>
<li>generujeme body ze zvoleného intervalu, které obsahují, například gaussovský, šum,</li>
<li>takto získané diskrétní body vyhladíme do podoby funkcionálního objektu pomocí nějakého vhodného bázového systému.</li>
</ul>
<p>Tímto postupem získáme funkcionální objekty společně s hodnotou kategoriální proměnné <span class="math inline">\(Y\)</span>, která rozlišuje příslušnost do klasifikační třídy.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="simulace3diskr.html#cb1-1" tabindex="-1"></a><span class="co"># nacteme potrebne balicky </span></span>
<span id="cb1-2"><a href="simulace3diskr.html#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="simulace3diskr.html#cb1-3" tabindex="-1"></a><span class="fu">library</span>(fda)</span>
<span id="cb1-4"><a href="simulace3diskr.html#cb1-4" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-5"><a href="simulace3diskr.html#cb1-5" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-6"><a href="simulace3diskr.html#cb1-6" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-7"><a href="simulace3diskr.html#cb1-7" tabindex="-1"></a><span class="fu">library</span>(ddalpha)</span>
<span id="cb1-8"><a href="simulace3diskr.html#cb1-8" tabindex="-1"></a><span class="fu">library</span>(polynom)</span>
<span id="cb1-9"><a href="simulace3diskr.html#cb1-9" tabindex="-1"></a></span>
<span id="cb1-10"><a href="simulace3diskr.html#cb1-10" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span></code></pre></div>
</details>
<p>Uvažujme tedy dvě klasifikační třídy, <span class="math inline">\(Y \in \{0, 1\}\)</span>, pro každou ze tříd stejný počet <code>n</code> generovaných funkcí.
Definujme si nejprve dvě funkce, každá bude pro jednu třídu.
Funkce budeme uvažovat na intervalu <span class="math inline">\(I = [0, 6]\)</span>.</p>
<p>Nyní vytvoříme funkce pomocí interpolačních polynomů. Nejprve si definujeme body, kterými má procházet naše křivka, a následně jimi proložíme interpolační polynom, který použijeme pro generování křivek pro klasifikaci.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="simulace3diskr.html#cb2-1" tabindex="-1"></a><span class="co"># definujici body pro tridu 0</span></span>
<span id="cb2-2"><a href="simulace3diskr.html#cb2-2" tabindex="-1"></a>x<span class="fl">.0</span> <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.00</span>, <span class="fl">0.65</span>, <span class="fl">0.94</span>, <span class="fl">1.42</span>, <span class="fl">2.26</span>, <span class="fl">2.84</span>, <span class="fl">3.73</span>, <span class="fl">4.50</span>, <span class="fl">5.43</span>, <span class="fl">6.00</span>)</span>
<span id="cb2-3"><a href="simulace3diskr.html#cb2-3" tabindex="-1"></a>y<span class="fl">.0</span> <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.25</span>, <span class="fl">0.86</span>, <span class="fl">1.49</span>, <span class="fl">1.1</span>, <span class="fl">0.15</span>, <span class="sc">-</span><span class="fl">0.11</span>, <span class="sc">-</span><span class="fl">0.36</span>, <span class="fl">0.23</span>, <span class="dv">0</span>)</span>
<span id="cb2-4"><a href="simulace3diskr.html#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="simulace3diskr.html#cb2-5" tabindex="-1"></a><span class="co"># definujici body pro tridu 1</span></span>
<span id="cb2-6"><a href="simulace3diskr.html#cb2-6" tabindex="-1"></a>x<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.00</span>, <span class="fl">0.51</span>, <span class="fl">0.91</span>, <span class="fl">1.25</span>, <span class="fl">1.51</span>, <span class="fl">2.14</span>, <span class="fl">2.43</span>, <span class="fl">2.96</span>, <span class="fl">3.70</span>, <span class="fl">4.60</span>,</span>
<span id="cb2-7"><a href="simulace3diskr.html#cb2-7" tabindex="-1"></a>         <span class="fl">5.25</span>, <span class="fl">5.67</span>, <span class="fl">6.00</span>)</span>
<span id="cb2-8"><a href="simulace3diskr.html#cb2-8" tabindex="-1"></a>y<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.4</span>, <span class="fl">0.71</span>, <span class="fl">1.08</span>, <span class="fl">1.47</span>, <span class="fl">1.39</span>, <span class="fl">0.81</span>, <span class="fl">0.05</span>, <span class="sc">-</span><span class="fl">0.1</span>, <span class="sc">-</span><span class="fl">0.4</span>,</span>
<span id="cb2-9"><a href="simulace3diskr.html#cb2-9" tabindex="-1"></a>         <span class="fl">0.3</span>, <span class="fl">0.37</span>, <span class="dv">0</span>)</span></code></pre></div>
</details>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="simulace3diskr.html#cb3-1" tabindex="-1"></a><span class="co"># graf bodu</span></span>
<span id="cb3-2"><a href="simulace3diskr.html#cb3-2" tabindex="-1"></a>dat_points <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">c</span>(x<span class="fl">.0</span>, x<span class="fl">.1</span>),</span>
<span id="cb3-3"><a href="simulace3diskr.html#cb3-3" tabindex="-1"></a>                         <span class="at">y =</span> <span class="fu">c</span>(y<span class="fl">.0</span>, y<span class="fl">.1</span>),</span>
<span id="cb3-4"><a href="simulace3diskr.html#cb3-4" tabindex="-1"></a>                         <span class="at">Class =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&#39;Y = 0&#39;</span>, <span class="st">&#39;Y = 1&#39;</span>), </span>
<span id="cb3-5"><a href="simulace3diskr.html#cb3-5" tabindex="-1"></a>                                     <span class="fu">c</span>(<span class="fu">length</span>(x<span class="fl">.0</span>), <span class="fu">length</span>(x<span class="fl">.1</span>))))</span>
<span id="cb3-6"><a href="simulace3diskr.html#cb3-6" tabindex="-1"></a></span>
<span id="cb3-7"><a href="simulace3diskr.html#cb3-7" tabindex="-1"></a><span class="fu">ggplot</span>(dat_points, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">colour =</span> Class)) <span class="sc">+</span> </span>
<span id="cb3-8"><a href="simulace3diskr.html#cb3-8" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="fl">1.5</span>) <span class="sc">+</span> </span>
<span id="cb3-9"><a href="simulace3diskr.html#cb3-9" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb3-10"><a href="simulace3diskr.html#cb3-10" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">colour =</span> <span class="st">&#39;Klasifikační</span><span class="sc">\n</span><span class="st">      třída&#39;</span>)</span></code></pre></div>
</details>
<p><img src="08-Simulace_3_discretisation_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>Pro výpočet interpolačních polynomů využijeme funkci <code>poly.calc()</code> z knihovny <code>polynom</code>. Dále definujeme funkce <code>poly.0()</code> a <code>poly.1()</code>, které budou počítat hodnoty polynomů v daném bodě intervalu. K jejich vytvoření použijeme funkci <code>predict()</code>, na jejíž vstup zadáme příslušný polynom a bod, ve kterám chceme polynom vyhodnotit.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="simulace3diskr.html#cb4-1" tabindex="-1"></a><span class="co"># vypocet polynomu</span></span>
<span id="cb4-2"><a href="simulace3diskr.html#cb4-2" tabindex="-1"></a>polynom<span class="fl">.0</span> <span class="ot">&lt;-</span> <span class="fu">poly.calc</span>(x<span class="fl">.0</span>, y<span class="fl">.0</span>)</span>
<span id="cb4-3"><a href="simulace3diskr.html#cb4-3" tabindex="-1"></a>polynom<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">poly.calc</span>(x<span class="fl">.1</span>, y<span class="fl">.1</span>)</span></code></pre></div>
</details>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="simulace3diskr.html#cb5-1" tabindex="-1"></a>poly<span class="fl">.0</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">return</span>(<span class="fu">predict</span>(polynom<span class="fl">.0</span>, x))</span>
<span id="cb5-2"><a href="simulace3diskr.html#cb5-2" tabindex="-1"></a>poly<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">return</span>(<span class="fu">predict</span>(polynom<span class="fl">.1</span>, x))</span></code></pre></div>
</details>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="simulace3diskr.html#cb6-1" tabindex="-1"></a><span class="co"># vykresleni polynomu</span></span>
<span id="cb6-2"><a href="simulace3diskr.html#cb6-2" tabindex="-1"></a>xx <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">min</span>(x<span class="fl">.0</span>), <span class="fu">max</span>(x<span class="fl">.0</span>), <span class="at">length =</span> <span class="dv">501</span>)</span>
<span id="cb6-3"><a href="simulace3diskr.html#cb6-3" tabindex="-1"></a>yy<span class="fl">.0</span> <span class="ot">&lt;-</span> <span class="fu">poly.0</span>(xx)</span>
<span id="cb6-4"><a href="simulace3diskr.html#cb6-4" tabindex="-1"></a>yy<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">poly.1</span>(xx)</span>
<span id="cb6-5"><a href="simulace3diskr.html#cb6-5" tabindex="-1"></a></span>
<span id="cb6-6"><a href="simulace3diskr.html#cb6-6" tabindex="-1"></a>dat_poly_plot <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">c</span>(xx, xx),</span>
<span id="cb6-7"><a href="simulace3diskr.html#cb6-7" tabindex="-1"></a>                            <span class="at">y =</span> <span class="fu">c</span>(yy<span class="fl">.0</span>, yy<span class="fl">.1</span>),</span>
<span id="cb6-8"><a href="simulace3diskr.html#cb6-8" tabindex="-1"></a>                            <span class="at">Class =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&#39;Y = 0&#39;</span>, <span class="st">&#39;Y = 1&#39;</span>), </span>
<span id="cb6-9"><a href="simulace3diskr.html#cb6-9" tabindex="-1"></a>                                        <span class="fu">c</span>(<span class="fu">length</span>(xx), <span class="fu">length</span>(xx))))</span>
<span id="cb6-10"><a href="simulace3diskr.html#cb6-10" tabindex="-1"></a></span>
<span id="cb6-11"><a href="simulace3diskr.html#cb6-11" tabindex="-1"></a><span class="fu">ggplot</span>(dat_points, <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">colour =</span> Class)) <span class="sc">+</span> </span>
<span id="cb6-12"><a href="simulace3diskr.html#cb6-12" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="fl">1.5</span>) <span class="sc">+</span> </span>
<span id="cb6-13"><a href="simulace3diskr.html#cb6-13" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb6-14"><a href="simulace3diskr.html#cb6-14" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> dat_poly_plot,</span>
<span id="cb6-15"><a href="simulace3diskr.html#cb6-15" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">colour =</span> Class),</span>
<span id="cb6-16"><a href="simulace3diskr.html#cb6-16" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">0.8</span>) <span class="sc">+</span> </span>
<span id="cb6-17"><a href="simulace3diskr.html#cb6-17" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">colour =</span> <span class="st">&#39;Klasifikační</span><span class="sc">\n</span><span class="st">      třída&#39;</span>)</span></code></pre></div>
</details>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-6"></span>
<img src="08-Simulace_3_discretisation_files/figure-html/unnamed-chunk-6-1.png" alt="Znázornění dvou funkcí na intervalu $I = [0, 6]$, ze kterých generujeme pozorování ze tříd 0 a 1." width="672" />
<p class="caption">
Obrázek 8.1: Znázornění dvou funkcí na intervalu <span class="math inline">\(I = [0, 6]\)</span>, ze kterých generujeme pozorování ze tříd 0 a 1.
</p>
</div>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="simulace3diskr.html#cb7-1" tabindex="-1"></a><span class="co"># generujici funkce pro Y = 0 a Y = 1</span></span>
<span id="cb7-2"><a href="simulace3diskr.html#cb7-2" tabindex="-1"></a>funkce_0 <span class="ot">&lt;-</span> poly<span class="fl">.0</span></span>
<span id="cb7-3"><a href="simulace3diskr.html#cb7-3" tabindex="-1"></a>funkce_1 <span class="ot">&lt;-</span> poly<span class="fl">.1</span></span></code></pre></div>
</details>
<p>Nyní si vytvoříme funkci pro generování náhodných funkcí s přidaným šumem (resp. bodů na předem dané síti) ze zvolené generující funkce.
Argument <code>t</code> označuje vektor hodnot, ve kterých chceme dané funkce vyhodnotit, <code>fun</code> značí generující funkci, <code>n</code> počet funkcí a <code>sigma</code> směrodatnou odchylku <span class="math inline">\(\sigma\)</span> normálního rozdělení <span class="math inline">\(\text{N}(\mu, \sigma^2)\)</span>, ze kterého náhodně generujeme gaussovský bílý šum s <span class="math inline">\(\mu = 0\)</span>.
Abychom ukázali výhodu použití metod, které pracují s funkcionálními daty, přidáme při generování ke každému simulovanému pozorování navíc i náhodný člen, který bude mít význam vertikálního posunu celé funkce (parametr <code>sigma_shift</code>).
Tento posun budeme generovat s normálního rozdělení s parametrem <span class="math inline">\(\sigma^2 = 4\)</span>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="simulace3diskr.html#cb8-1" tabindex="-1"></a>generate_values <span class="ot">&lt;-</span> <span class="cf">function</span>(t, fun, n, sigma, <span class="at">sigma_shift =</span> <span class="dv">0</span>) {</span>
<span id="cb8-2"><a href="simulace3diskr.html#cb8-2" tabindex="-1"></a>  <span class="co"># Arguments:</span></span>
<span id="cb8-3"><a href="simulace3diskr.html#cb8-3" tabindex="-1"></a>  <span class="co"># t ... vector of values, where the function will be evaluated</span></span>
<span id="cb8-4"><a href="simulace3diskr.html#cb8-4" tabindex="-1"></a>  <span class="co"># fun ... generating function of t </span></span>
<span id="cb8-5"><a href="simulace3diskr.html#cb8-5" tabindex="-1"></a>  <span class="co"># n ... the number of generated functions / objects</span></span>
<span id="cb8-6"><a href="simulace3diskr.html#cb8-6" tabindex="-1"></a>  <span class="co"># sigma ... standard deviation of normal distribution to add noise to data</span></span>
<span id="cb8-7"><a href="simulace3diskr.html#cb8-7" tabindex="-1"></a>  <span class="co"># sigma_shift ... parameter of normal distribution for generating shift</span></span>
<span id="cb8-8"><a href="simulace3diskr.html#cb8-8" tabindex="-1"></a>  </span>
<span id="cb8-9"><a href="simulace3diskr.html#cb8-9" tabindex="-1"></a>  <span class="co"># Value:</span></span>
<span id="cb8-10"><a href="simulace3diskr.html#cb8-10" tabindex="-1"></a>  <span class="co"># X ... matrix of dimension length(t) times n with generated values of one </span></span>
<span id="cb8-11"><a href="simulace3diskr.html#cb8-11" tabindex="-1"></a>  <span class="co"># function in a column </span></span>
<span id="cb8-12"><a href="simulace3diskr.html#cb8-12" tabindex="-1"></a>  </span>
<span id="cb8-13"><a href="simulace3diskr.html#cb8-13" tabindex="-1"></a>  X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(t, <span class="at">times =</span> n), <span class="at">ncol =</span> n, <span class="at">nrow =</span> <span class="fu">length</span>(t), <span class="at">byrow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb8-14"><a href="simulace3diskr.html#cb8-14" tabindex="-1"></a>  noise <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rnorm</span>(n <span class="sc">*</span> <span class="fu">length</span>(t), <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> sigma),</span>
<span id="cb8-15"><a href="simulace3diskr.html#cb8-15" tabindex="-1"></a>                  <span class="at">ncol =</span> n, <span class="at">nrow =</span> <span class="fu">length</span>(t), <span class="at">byrow =</span> <span class="cn">FALSE</span>)</span>
<span id="cb8-16"><a href="simulace3diskr.html#cb8-16" tabindex="-1"></a>  shift <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="fu">rnorm</span>(n, <span class="dv">0</span>, sigma_shift), <span class="at">each =</span> <span class="fu">length</span>(t)),</span>
<span id="cb8-17"><a href="simulace3diskr.html#cb8-17" tabindex="-1"></a>                  <span class="at">ncol =</span> n, <span class="at">nrow =</span> <span class="fu">length</span>(t))</span>
<span id="cb8-18"><a href="simulace3diskr.html#cb8-18" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">fun</span>(X) <span class="sc">+</span> noise <span class="sc">+</span> shift)</span>
<span id="cb8-19"><a href="simulace3diskr.html#cb8-19" tabindex="-1"></a>}</span></code></pre></div>
</details>
<p>Nyní můžeme generovat funkce.
V každé ze dvou tříd budeme uvažovat 100 pozorování, tedy <code>n = 100</code>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="simulace3diskr.html#cb9-1" tabindex="-1"></a><span class="co"># pocet vygenerovanych pozorovani pro kazdou tridu</span></span>
<span id="cb9-2"><a href="simulace3diskr.html#cb9-2" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb9-3"><a href="simulace3diskr.html#cb9-3" tabindex="-1"></a><span class="co"># vektor casu ekvidistantni na intervalu [0, 6]</span></span>
<span id="cb9-4"><a href="simulace3diskr.html#cb9-4" tabindex="-1"></a>t <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">6</span>, <span class="at">length =</span> <span class="dv">51</span>)</span>
<span id="cb9-5"><a href="simulace3diskr.html#cb9-5" tabindex="-1"></a></span>
<span id="cb9-6"><a href="simulace3diskr.html#cb9-6" tabindex="-1"></a><span class="co"># pro Y = 0</span></span>
<span id="cb9-7"><a href="simulace3diskr.html#cb9-7" tabindex="-1"></a>X0 <span class="ot">&lt;-</span> <span class="fu">generate_values</span>(t, funkce_0, n, <span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb9-8"><a href="simulace3diskr.html#cb9-8" tabindex="-1"></a><span class="co"># pro Y = 1</span></span>
<span id="cb9-9"><a href="simulace3diskr.html#cb9-9" tabindex="-1"></a>X1 <span class="ot">&lt;-</span> <span class="fu">generate_values</span>(t, funkce_1, n, <span class="dv">1</span>, <span class="dv">2</span>)</span></code></pre></div>
</details>
<p>Vykreslíme vygenerované (ještě nevyhlazené) funkce barevně v závislosti na třídě (pouze prvních 10 pozorování z každé třídy pro přehlednost).</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="simulace3diskr.html#cb10-1" tabindex="-1"></a>n_curves_plot <span class="ot">&lt;-</span> <span class="dv">10</span> <span class="co"># pocet krivek, ktere chceme vykreslit z kazde skupiny</span></span>
<span id="cb10-2"><a href="simulace3diskr.html#cb10-2" tabindex="-1"></a></span>
<span id="cb10-3"><a href="simulace3diskr.html#cb10-3" tabindex="-1"></a>DF0 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(t, X0[, <span class="dv">1</span><span class="sc">:</span>n_curves_plot]) <span class="sc">|&gt;</span> </span>
<span id="cb10-4"><a href="simulace3diskr.html#cb10-4" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb10-5"><a href="simulace3diskr.html#cb10-5" tabindex="-1"></a>  <span class="fu">reshape</span>(<span class="at">varying =</span> <span class="dv">2</span><span class="sc">:</span>(n_curves_plot <span class="sc">+</span> <span class="dv">1</span>), <span class="at">direction =</span> <span class="st">&#39;long&#39;</span>, <span class="at">sep =</span> <span class="st">&#39;&#39;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb10-6"><a href="simulace3diskr.html#cb10-6" tabindex="-1"></a>  <span class="fu">subset</span>(<span class="at">select =</span> <span class="sc">-</span>id) <span class="sc">|&gt;</span> </span>
<span id="cb10-7"><a href="simulace3diskr.html#cb10-7" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-8"><a href="simulace3diskr.html#cb10-8" tabindex="-1"></a>  <span class="at">time =</span> time <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb10-9"><a href="simulace3diskr.html#cb10-9" tabindex="-1"></a>  <span class="at">group =</span> <span class="dv">0</span></span>
<span id="cb10-10"><a href="simulace3diskr.html#cb10-10" tabindex="-1"></a>  )</span>
<span id="cb10-11"><a href="simulace3diskr.html#cb10-11" tabindex="-1"></a></span>
<span id="cb10-12"><a href="simulace3diskr.html#cb10-12" tabindex="-1"></a>DF1 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(t, X1[, <span class="dv">1</span><span class="sc">:</span>n_curves_plot]) <span class="sc">|&gt;</span> </span>
<span id="cb10-13"><a href="simulace3diskr.html#cb10-13" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb10-14"><a href="simulace3diskr.html#cb10-14" tabindex="-1"></a>  <span class="fu">reshape</span>(<span class="at">varying =</span> <span class="dv">2</span><span class="sc">:</span>(n_curves_plot <span class="sc">+</span> <span class="dv">1</span>), <span class="at">direction =</span> <span class="st">&#39;long&#39;</span>, <span class="at">sep =</span> <span class="st">&#39;&#39;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb10-15"><a href="simulace3diskr.html#cb10-15" tabindex="-1"></a>  <span class="fu">subset</span>(<span class="at">select =</span> <span class="sc">-</span>id) <span class="sc">|&gt;</span> </span>
<span id="cb10-16"><a href="simulace3diskr.html#cb10-16" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-17"><a href="simulace3diskr.html#cb10-17" tabindex="-1"></a>  <span class="at">time =</span> time <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb10-18"><a href="simulace3diskr.html#cb10-18" tabindex="-1"></a>  <span class="at">group =</span> <span class="dv">1</span></span>
<span id="cb10-19"><a href="simulace3diskr.html#cb10-19" tabindex="-1"></a>  )</span>
<span id="cb10-20"><a href="simulace3diskr.html#cb10-20" tabindex="-1"></a></span>
<span id="cb10-21"><a href="simulace3diskr.html#cb10-21" tabindex="-1"></a>DF <span class="ot">&lt;-</span> <span class="fu">rbind</span>(DF0, DF1) <span class="sc">|&gt;</span></span>
<span id="cb10-22"><a href="simulace3diskr.html#cb10-22" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">factor</span>(group))</span>
<span id="cb10-23"><a href="simulace3diskr.html#cb10-23" tabindex="-1"></a></span>
<span id="cb10-24"><a href="simulace3diskr.html#cb10-24" tabindex="-1"></a>DF <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> t, <span class="at">y =</span> V, <span class="at">group =</span> <span class="fu">interaction</span>(time, group), </span>
<span id="cb10-25"><a href="simulace3diskr.html#cb10-25" tabindex="-1"></a>                 <span class="at">colour =</span> group)) <span class="sc">+</span> </span>
<span id="cb10-26"><a href="simulace3diskr.html#cb10-26" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb10-27"><a href="simulace3diskr.html#cb10-27" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb10-28"><a href="simulace3diskr.html#cb10-28" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">expression</span>(x[<span class="dv">1</span>]),</span>
<span id="cb10-29"><a href="simulace3diskr.html#cb10-29" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">expression</span>(x[<span class="dv">2</span>]),</span>
<span id="cb10-30"><a href="simulace3diskr.html#cb10-30" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">&#39;Klasifikační</span><span class="sc">\n</span><span class="st">      třída&#39;</span>) <span class="sc">+</span></span>
<span id="cb10-31"><a href="simulace3diskr.html#cb10-31" tabindex="-1"></a>  <span class="fu">scale_colour_discrete</span>(<span class="at">labels=</span><span class="fu">c</span>(<span class="st">&#39;Y = 0&#39;</span>, <span class="st">&#39;Y = 1&#39;</span>))</span></code></pre></div>
</details>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-10"></span>
<img src="08-Simulace_3_discretisation_files/figure-html/unnamed-chunk-10-1.png" alt="Prvních 10 vygenerovaných pozorování z každé ze dvou klasifikačních tříd. Pozorovaná data nejsou vyhlazená." width="672" />
<p class="caption">
Obrázek 8.2: Prvních 10 vygenerovaných pozorování z každé ze dvou klasifikačních tříd. Pozorovaná data nejsou vyhlazená.
</p>
</div>
</div>
<div id="vyhlazení-pozorovaných-křivek-7" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Vyhlazení pozorovaných křivek<a href="simulace3diskr.html#vyhlazení-pozorovaných-křivek-7" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Nyní převedeme pozorované diskrétní hodnoty (vektory hodnot) na funkcionální objekty, se kterými budeme následně pracovat.
Opět využijeme k vyhlazení B-sline bázi.</p>
<p>Za uzly bereme celý vektor <code>t</code>, standardně uvažujeme kubické spliny, proto volíme (implicitní volba v <code>R</code>) <code>norder = 4</code>.
Budeme penalizovat druhou derivaci funkcí.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="simulace3diskr.html#cb11-1" tabindex="-1"></a>rangeval <span class="ot">&lt;-</span> <span class="fu">range</span>(t)</span>
<span id="cb11-2"><a href="simulace3diskr.html#cb11-2" tabindex="-1"></a>breaks <span class="ot">&lt;-</span> t</span>
<span id="cb11-3"><a href="simulace3diskr.html#cb11-3" tabindex="-1"></a>norder <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb11-4"><a href="simulace3diskr.html#cb11-4" tabindex="-1"></a></span>
<span id="cb11-5"><a href="simulace3diskr.html#cb11-5" tabindex="-1"></a>bbasis <span class="ot">&lt;-</span> <span class="fu">create.bspline.basis</span>(<span class="at">rangeval =</span> rangeval, </span>
<span id="cb11-6"><a href="simulace3diskr.html#cb11-6" tabindex="-1"></a>                               <span class="at">norder =</span> norder, </span>
<span id="cb11-7"><a href="simulace3diskr.html#cb11-7" tabindex="-1"></a>                               <span class="at">breaks =</span> breaks)</span>
<span id="cb11-8"><a href="simulace3diskr.html#cb11-8" tabindex="-1"></a></span>
<span id="cb11-9"><a href="simulace3diskr.html#cb11-9" tabindex="-1"></a>curv.Lfd <span class="ot">&lt;-</span> <span class="fu">int2Lfd</span>(<span class="dv">2</span>) <span class="co"># penalizujeme 2. derivaci</span></span></code></pre></div>
</details>
<p>Najdeme vhodnou hodnotu vyhlazovacího parametru <span class="math inline">\(\lambda &gt; 0\)</span> pomocí <span class="math inline">\(GCV(\lambda)\)</span>, tedy pomocí zobecněné cross–validace.
Hodnotu <span class="math inline">\(\lambda\)</span> budeme uvažovat pro obě klasifikační skupiny stejnou, neboť pro testovací pozorování bychom dopředu nevěděli, kterou hodnotu <span class="math inline">\(\lambda\)</span>, v případě rozdílné volby pro každou třídu, máme volit.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="simulace3diskr.html#cb12-1" tabindex="-1"></a><span class="co"># spojeni pozorovani do jedne matice</span></span>
<span id="cb12-2"><a href="simulace3diskr.html#cb12-2" tabindex="-1"></a>XX <span class="ot">&lt;-</span> <span class="fu">cbind</span>(X0, X1)</span>
<span id="cb12-3"><a href="simulace3diskr.html#cb12-3" tabindex="-1"></a></span>
<span id="cb12-4"><a href="simulace3diskr.html#cb12-4" tabindex="-1"></a>lambda.vect <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">^</span><span class="fu">seq</span>(<span class="at">from =</span> <span class="sc">-</span><span class="dv">2</span>, <span class="at">to =</span> <span class="dv">1</span>, <span class="at">length.out =</span> <span class="dv">50</span>) <span class="co"># vektor lambd</span></span>
<span id="cb12-5"><a href="simulace3diskr.html#cb12-5" tabindex="-1"></a>gcv <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="at">length =</span> <span class="fu">length</span>(lambda.vect)) <span class="co"># prazdny vektor pro ulozebi GCV</span></span>
<span id="cb12-6"><a href="simulace3diskr.html#cb12-6" tabindex="-1"></a></span>
<span id="cb12-7"><a href="simulace3diskr.html#cb12-7" tabindex="-1"></a><span class="cf">for</span>(index <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(lambda.vect)) {</span>
<span id="cb12-8"><a href="simulace3diskr.html#cb12-8" tabindex="-1"></a>  curv.Fdpar <span class="ot">&lt;-</span> <span class="fu">fdPar</span>(bbasis, curv.Lfd, lambda.vect[index])</span>
<span id="cb12-9"><a href="simulace3diskr.html#cb12-9" tabindex="-1"></a>  BSmooth <span class="ot">&lt;-</span> <span class="fu">smooth.basis</span>(t, XX, curv.Fdpar) <span class="co"># vyhlazeni</span></span>
<span id="cb12-10"><a href="simulace3diskr.html#cb12-10" tabindex="-1"></a>  gcv[index] <span class="ot">&lt;-</span> <span class="fu">mean</span>(BSmooth<span class="sc">$</span>gcv) <span class="co"># prumer pres vsechny pozorovane krivky</span></span>
<span id="cb12-11"><a href="simulace3diskr.html#cb12-11" tabindex="-1"></a>}</span>
<span id="cb12-12"><a href="simulace3diskr.html#cb12-12" tabindex="-1"></a></span>
<span id="cb12-13"><a href="simulace3diskr.html#cb12-13" tabindex="-1"></a>GCV <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb12-14"><a href="simulace3diskr.html#cb12-14" tabindex="-1"></a>  <span class="at">lambda =</span> <span class="fu">round</span>(<span class="fu">log10</span>(lambda.vect), <span class="dv">3</span>),</span>
<span id="cb12-15"><a href="simulace3diskr.html#cb12-15" tabindex="-1"></a>  <span class="at">GCV =</span> gcv</span>
<span id="cb12-16"><a href="simulace3diskr.html#cb12-16" tabindex="-1"></a>)</span>
<span id="cb12-17"><a href="simulace3diskr.html#cb12-17" tabindex="-1"></a></span>
<span id="cb12-18"><a href="simulace3diskr.html#cb12-18" tabindex="-1"></a><span class="co"># najdeme hodnotu minima</span></span>
<span id="cb12-19"><a href="simulace3diskr.html#cb12-19" tabindex="-1"></a>lambda.opt <span class="ot">&lt;-</span> lambda.vect[<span class="fu">which.min</span>(gcv)]</span></code></pre></div>
</details>
<p>Pro lepší znázornění si vykreslíme průběh <span class="math inline">\(GCV(\lambda)\)</span>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="simulace3diskr.html#cb13-1" tabindex="-1"></a>GCV <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> lambda, <span class="at">y =</span> GCV)) <span class="sc">+</span> </span>
<span id="cb13-2"><a href="simulace3diskr.html#cb13-2" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linetype =</span> <span class="st">&#39;solid&#39;</span>, <span class="at">linewidth =</span> <span class="fl">0.6</span>) <span class="sc">+</span> </span>
<span id="cb13-3"><a href="simulace3diskr.html#cb13-3" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span> </span>
<span id="cb13-4"><a href="simulace3diskr.html#cb13-4" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb13-5"><a href="simulace3diskr.html#cb13-5" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">bquote</span>(<span class="fu">paste</span>(log[<span class="dv">10</span>](lambda), <span class="st">&#39; ;   &#39;</span>, </span>
<span id="cb13-6"><a href="simulace3diskr.html#cb13-6" tabindex="-1"></a>                        lambda[optimal] <span class="sc">==</span> .(<span class="fu">round</span>(lambda.opt, <span class="dv">4</span>)))),</span>
<span id="cb13-7"><a href="simulace3diskr.html#cb13-7" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">expression</span>(<span class="fu">GCV</span>(lambda))) <span class="sc">+</span> </span>
<span id="cb13-8"><a href="simulace3diskr.html#cb13-8" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log10</span>(lambda.opt), <span class="at">y =</span> <span class="fu">min</span>(gcv)), <span class="at">colour =</span> <span class="st">&#39;red&#39;</span>, <span class="at">size =</span> <span class="fl">2.5</span>)</span></code></pre></div>
</details>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-13"></span>
<img src="08-Simulace_3_discretisation_files/figure-html/unnamed-chunk-13-1.png" alt="Průběh $GCV(\lambda)$ pro zvolený vektor $\boldsymbol\lambda$. Na ose $x$ jsou hodnoty vyneseny v logaritmické škále. Červeně je znázorněna optimální hodnota vyhlazovacího parametru $\lambda_{optimal}$." width="672" />
<p class="caption">
Obrázek 8.3: Průběh <span class="math inline">\(GCV(\lambda)\)</span> pro zvolený vektor <span class="math inline">\(\boldsymbol\lambda\)</span>. Na ose <span class="math inline">\(x\)</span> jsou hodnoty vyneseny v logaritmické škále. Červeně je znázorněna optimální hodnota vyhlazovacího parametru <span class="math inline">\(\lambda_{optimal}\)</span>.
</p>
</div>
<p>S touto optimální volbou vyhlazovacího parametru <span class="math inline">\(\lambda\)</span> nyní vyhladíme všechny funkce a opět znázorníme graficky prvních 10 pozorovaných křivek z každé klasifikační třídy.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="simulace3diskr.html#cb14-1" tabindex="-1"></a>curv.fdPar <span class="ot">&lt;-</span> <span class="fu">fdPar</span>(bbasis, curv.Lfd, lambda.opt)</span>
<span id="cb14-2"><a href="simulace3diskr.html#cb14-2" tabindex="-1"></a>BSmooth <span class="ot">&lt;-</span> <span class="fu">smooth.basis</span>(t, XX, curv.fdPar)</span>
<span id="cb14-3"><a href="simulace3diskr.html#cb14-3" tabindex="-1"></a>XXfd <span class="ot">&lt;-</span> BSmooth<span class="sc">$</span>fd</span>
<span id="cb14-4"><a href="simulace3diskr.html#cb14-4" tabindex="-1"></a></span>
<span id="cb14-5"><a href="simulace3diskr.html#cb14-5" tabindex="-1"></a>fdobjSmootheval <span class="ot">&lt;-</span> <span class="fu">eval.fd</span>(<span class="at">fdobj =</span> XXfd, <span class="at">evalarg =</span> t)</span>
<span id="cb14-6"><a href="simulace3diskr.html#cb14-6" tabindex="-1"></a>DF<span class="sc">$</span>Vsmooth <span class="ot">&lt;-</span> <span class="fu">c</span>(fdobjSmootheval[, <span class="fu">c</span>(<span class="dv">1</span> <span class="sc">:</span> n_curves_plot, </span>
<span id="cb14-7"><a href="simulace3diskr.html#cb14-7" tabindex="-1"></a>                                    (n <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">:</span> (n <span class="sc">+</span> n_curves_plot))])</span>
<span id="cb14-8"><a href="simulace3diskr.html#cb14-8" tabindex="-1"></a></span>
<span id="cb14-9"><a href="simulace3diskr.html#cb14-9" tabindex="-1"></a>DF <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> t, <span class="at">y =</span> Vsmooth, <span class="at">group =</span> <span class="fu">interaction</span>(time, group), </span>
<span id="cb14-10"><a href="simulace3diskr.html#cb14-10" tabindex="-1"></a>                 <span class="at">colour =</span> group)) <span class="sc">+</span> </span>
<span id="cb14-11"><a href="simulace3diskr.html#cb14-11" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb14-12"><a href="simulace3diskr.html#cb14-12" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb14-13"><a href="simulace3diskr.html#cb14-13" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">expression</span>(x[<span class="dv">1</span>]),</span>
<span id="cb14-14"><a href="simulace3diskr.html#cb14-14" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">expression</span>(x[<span class="dv">2</span>]),</span>
<span id="cb14-15"><a href="simulace3diskr.html#cb14-15" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">&#39;Klasifikační</span><span class="sc">\n</span><span class="st">      třída&#39;</span>) <span class="sc">+</span></span>
<span id="cb14-16"><a href="simulace3diskr.html#cb14-16" tabindex="-1"></a>  <span class="fu">scale_colour_discrete</span>(<span class="at">labels=</span><span class="fu">c</span>(<span class="st">&#39;Y = 0&#39;</span>, <span class="st">&#39;Y = 1&#39;</span>))</span></code></pre></div>
</details>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-14"></span>
<img src="08-Simulace_3_discretisation_files/figure-html/unnamed-chunk-14-1.png" alt="Prvních 10 vyhlazených křivek z každé klasifikační třídy." width="672" />
<p class="caption">
Obrázek 8.4: Prvních 10 vyhlazených křivek z každé klasifikační třídy.
</p>
</div>
<p>Ještě znázorněme všechny křivky včetně průměru zvlášť pro každou třídu.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="simulace3diskr.html#cb15-1" tabindex="-1"></a>DFsmooth <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb15-2"><a href="simulace3diskr.html#cb15-2" tabindex="-1"></a>  <span class="at">t =</span> <span class="fu">rep</span>(t, <span class="dv">2</span> <span class="sc">*</span> n),</span>
<span id="cb15-3"><a href="simulace3diskr.html#cb15-3" tabindex="-1"></a>  <span class="at">time =</span> <span class="fu">rep</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span>n, <span class="at">each =</span> <span class="fu">length</span>(t)), <span class="dv">2</span>),</span>
<span id="cb15-4"><a href="simulace3diskr.html#cb15-4" tabindex="-1"></a>  <span class="at">Smooth =</span> <span class="fu">c</span>(fdobjSmootheval),</span>
<span id="cb15-5"><a href="simulace3diskr.html#cb15-5" tabindex="-1"></a>  <span class="at">Mean =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="fu">apply</span>(fdobjSmootheval[ , <span class="dv">1</span> <span class="sc">:</span> n], <span class="dv">1</span>, mean), n),</span>
<span id="cb15-6"><a href="simulace3diskr.html#cb15-6" tabindex="-1"></a>            <span class="fu">rep</span>(<span class="fu">apply</span>(fdobjSmootheval[ , (n <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">:</span> (<span class="dv">2</span> <span class="sc">*</span> n)], <span class="dv">1</span>, mean), n)),</span>
<span id="cb15-7"><a href="simulace3diskr.html#cb15-7" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">each =</span> n <span class="sc">*</span> <span class="fu">length</span>(t)))</span>
<span id="cb15-8"><a href="simulace3diskr.html#cb15-8" tabindex="-1"></a>)</span>
<span id="cb15-9"><a href="simulace3diskr.html#cb15-9" tabindex="-1"></a></span>
<span id="cb15-10"><a href="simulace3diskr.html#cb15-10" tabindex="-1"></a>DFmean <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb15-11"><a href="simulace3diskr.html#cb15-11" tabindex="-1"></a>  <span class="at">t =</span> <span class="fu">rep</span>(t, <span class="dv">2</span>),</span>
<span id="cb15-12"><a href="simulace3diskr.html#cb15-12" tabindex="-1"></a>  <span class="at">Mean =</span> <span class="fu">c</span>(<span class="fu">apply</span>(fdobjSmootheval[ , <span class="dv">1</span> <span class="sc">:</span> n], <span class="dv">1</span>, mean), </span>
<span id="cb15-13"><a href="simulace3diskr.html#cb15-13" tabindex="-1"></a>            <span class="fu">apply</span>(fdobjSmootheval[ , (n <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">:</span> (<span class="dv">2</span> <span class="sc">*</span> n)], <span class="dv">1</span>, mean)),</span>
<span id="cb15-14"><a href="simulace3diskr.html#cb15-14" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">each =</span> <span class="fu">length</span>(t)))</span>
<span id="cb15-15"><a href="simulace3diskr.html#cb15-15" tabindex="-1"></a>)</span>
<span id="cb15-16"><a href="simulace3diskr.html#cb15-16" tabindex="-1"></a></span>
<span id="cb15-17"><a href="simulace3diskr.html#cb15-17" tabindex="-1"></a>DFsmooth <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> t, <span class="at">y =</span> Smooth, <span class="at">group =</span> <span class="fu">interaction</span>(time, group), </span>
<span id="cb15-18"><a href="simulace3diskr.html#cb15-18" tabindex="-1"></a>                 <span class="at">colour =</span> group)) <span class="sc">+</span> </span>
<span id="cb15-19"><a href="simulace3diskr.html#cb15-19" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">0.25</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb15-20"><a href="simulace3diskr.html#cb15-20" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb15-21"><a href="simulace3diskr.html#cb15-21" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">expression</span>(x[<span class="dv">1</span>]),</span>
<span id="cb15-22"><a href="simulace3diskr.html#cb15-22" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">expression</span>(x[<span class="dv">2</span>]),</span>
<span id="cb15-23"><a href="simulace3diskr.html#cb15-23" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">&#39;Klasifikační</span><span class="sc">\n</span><span class="st">      třída&#39;</span>) <span class="sc">+</span></span>
<span id="cb15-24"><a href="simulace3diskr.html#cb15-24" tabindex="-1"></a>  <span class="fu">scale_colour_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;Y = 0&#39;</span>, <span class="st">&#39;Y = 1&#39;</span>)) <span class="sc">+</span> </span>
<span id="cb15-25"><a href="simulace3diskr.html#cb15-25" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> t, <span class="at">y =</span> Mean, <span class="at">colour =</span> group), </span>
<span id="cb15-26"><a href="simulace3diskr.html#cb15-26" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">1.2</span>, <span class="at">linetype =</span> <span class="st">&#39;solid&#39;</span>) <span class="sc">+</span> </span>
<span id="cb15-27"><a href="simulace3diskr.html#cb15-27" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="fl">0.01</span>)) <span class="sc">+</span> </span>
<span id="cb15-28"><a href="simulace3diskr.html#cb15-28" tabindex="-1"></a>  <span class="co">#ylim(c(-1, 2)) + </span></span>
<span id="cb15-29"><a href="simulace3diskr.html#cb15-29" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="fl">0.01</span>))<span class="co">#, limits = c(-1, 2))</span></span></code></pre></div>
</details>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-15"></span>
<img src="08-Simulace_3_discretisation_files/figure-html/unnamed-chunk-15-1.png" alt="Vykreslení všech vyhlazených pozorovaných křivek, barevně jsou odlišeny křivky podle příslušnosti do klasifikační třídy. Černou čerchovanou čarou je zakreslen průměr pro každou třídu." width="672" />
<p class="caption">
Obrázek 8.5: Vykreslení všech vyhlazených pozorovaných křivek, barevně jsou odlišeny křivky podle příslušnosti do klasifikační třídy. Černou čerchovanou čarou je zakreslen průměr pro každou třídu.
</p>
</div>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="simulace3diskr.html#cb16-1" tabindex="-1"></a>DFsmooth <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb16-2"><a href="simulace3diskr.html#cb16-2" tabindex="-1"></a>  <span class="at">t =</span> <span class="fu">rep</span>(t, <span class="dv">2</span> <span class="sc">*</span> n),</span>
<span id="cb16-3"><a href="simulace3diskr.html#cb16-3" tabindex="-1"></a>  <span class="at">time =</span> <span class="fu">rep</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span>n, <span class="at">each =</span> <span class="fu">length</span>(t)), <span class="dv">2</span>),</span>
<span id="cb16-4"><a href="simulace3diskr.html#cb16-4" tabindex="-1"></a>  <span class="at">Smooth =</span> <span class="fu">c</span>(fdobjSmootheval),</span>
<span id="cb16-5"><a href="simulace3diskr.html#cb16-5" tabindex="-1"></a>  <span class="at">Mean =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="fu">apply</span>(fdobjSmootheval[ , <span class="dv">1</span> <span class="sc">:</span> n], <span class="dv">1</span>, mean), n),</span>
<span id="cb16-6"><a href="simulace3diskr.html#cb16-6" tabindex="-1"></a>            <span class="fu">rep</span>(<span class="fu">apply</span>(fdobjSmootheval[ , (n <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">:</span> (<span class="dv">2</span> <span class="sc">*</span> n)], <span class="dv">1</span>, mean), n)),</span>
<span id="cb16-7"><a href="simulace3diskr.html#cb16-7" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">each =</span> n <span class="sc">*</span> <span class="fu">length</span>(t)))</span>
<span id="cb16-8"><a href="simulace3diskr.html#cb16-8" tabindex="-1"></a>)</span>
<span id="cb16-9"><a href="simulace3diskr.html#cb16-9" tabindex="-1"></a></span>
<span id="cb16-10"><a href="simulace3diskr.html#cb16-10" tabindex="-1"></a>DFmean <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb16-11"><a href="simulace3diskr.html#cb16-11" tabindex="-1"></a>  <span class="at">t =</span> <span class="fu">rep</span>(t, <span class="dv">2</span>),</span>
<span id="cb16-12"><a href="simulace3diskr.html#cb16-12" tabindex="-1"></a>  <span class="at">Mean =</span> <span class="fu">c</span>(<span class="fu">apply</span>(fdobjSmootheval[ , <span class="dv">1</span> <span class="sc">:</span> n], <span class="dv">1</span>, mean), </span>
<span id="cb16-13"><a href="simulace3diskr.html#cb16-13" tabindex="-1"></a>            <span class="fu">apply</span>(fdobjSmootheval[ , (n <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">:</span> (<span class="dv">2</span> <span class="sc">*</span> n)], <span class="dv">1</span>, mean)),</span>
<span id="cb16-14"><a href="simulace3diskr.html#cb16-14" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">each =</span> <span class="fu">length</span>(t)))</span>
<span id="cb16-15"><a href="simulace3diskr.html#cb16-15" tabindex="-1"></a>)</span>
<span id="cb16-16"><a href="simulace3diskr.html#cb16-16" tabindex="-1"></a></span>
<span id="cb16-17"><a href="simulace3diskr.html#cb16-17" tabindex="-1"></a>DFsmooth <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> t, <span class="at">y =</span> Smooth, <span class="at">group =</span> <span class="fu">interaction</span>(time, group), </span>
<span id="cb16-18"><a href="simulace3diskr.html#cb16-18" tabindex="-1"></a>                 <span class="at">colour =</span> group)) <span class="sc">+</span> </span>
<span id="cb16-19"><a href="simulace3diskr.html#cb16-19" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">linewidth =</span> <span class="fl">0.25</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb16-20"><a href="simulace3diskr.html#cb16-20" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb16-21"><a href="simulace3diskr.html#cb16-21" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">expression</span>(x[<span class="dv">1</span>]),</span>
<span id="cb16-22"><a href="simulace3diskr.html#cb16-22" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">expression</span>(x[<span class="dv">2</span>]),</span>
<span id="cb16-23"><a href="simulace3diskr.html#cb16-23" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">&#39;Klasifikační</span><span class="sc">\n</span><span class="st">      třída&#39;</span>) <span class="sc">+</span></span>
<span id="cb16-24"><a href="simulace3diskr.html#cb16-24" tabindex="-1"></a>  <span class="fu">scale_colour_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;Y = 0&#39;</span>, <span class="st">&#39;Y = 1&#39;</span>)) <span class="sc">+</span> </span>
<span id="cb16-25"><a href="simulace3diskr.html#cb16-25" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> t, <span class="at">y =</span> Mean, <span class="at">colour =</span> group), </span>
<span id="cb16-26"><a href="simulace3diskr.html#cb16-26" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">1.2</span>, <span class="at">linetype =</span> <span class="st">&#39;solid&#39;</span>) <span class="sc">+</span> </span>
<span id="cb16-27"><a href="simulace3diskr.html#cb16-27" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="fl">0.01</span>)) <span class="sc">+</span> </span>
<span id="cb16-28"><a href="simulace3diskr.html#cb16-28" tabindex="-1"></a>  <span class="co">#ylim(c(-1, 2)) + </span></span>
<span id="cb16-29"><a href="simulace3diskr.html#cb16-29" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="fl">0.01</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">2</span>))</span></code></pre></div>
</details>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-16"></span>
<img src="08-Simulace_3_discretisation_files/figure-html/unnamed-chunk-16-1.png" alt="Vykreslení všech vyhlazených pozorovaných křivek, barevně jsou odlišeny křivky podle příslušnosti do klasifikační třídy. Černou čerchovanou čarou je zakreslen průměr pro každou třídu. Přiblížený pohled." width="672" />
<p class="caption">
Obrázek 8.6: Vykreslení všech vyhlazených pozorovaných křivek, barevně jsou odlišeny křivky podle příslušnosti do klasifikační třídy. Černou čerchovanou čarou je zakreslen průměr pro každou třídu. Přiblížený pohled.
</p>
</div>
</div>
<div id="klasif3diskr" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Klasifikace křivek<a href="simulace3diskr.html#klasif3diskr" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Nejprve načteme potřebné knihovny pro klasifikaci.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="simulace3diskr.html#cb17-1" tabindex="-1"></a><span class="fu">library</span>(caTools) <span class="co"># pro rozdeleni na testovaci a trenovaci</span></span>
<span id="cb17-2"><a href="simulace3diskr.html#cb17-2" tabindex="-1"></a><span class="fu">library</span>(caret) <span class="co"># pro k-fold CV</span></span>
<span id="cb17-3"><a href="simulace3diskr.html#cb17-3" tabindex="-1"></a><span class="fu">library</span>(fda.usc) <span class="co"># pro KNN, fLR</span></span>
<span id="cb17-4"><a href="simulace3diskr.html#cb17-4" tabindex="-1"></a><span class="fu">library</span>(MASS) <span class="co"># pro LDA</span></span>
<span id="cb17-5"><a href="simulace3diskr.html#cb17-5" tabindex="-1"></a><span class="fu">library</span>(fdapace)</span>
<span id="cb17-6"><a href="simulace3diskr.html#cb17-6" tabindex="-1"></a><span class="fu">library</span>(pracma)</span>
<span id="cb17-7"><a href="simulace3diskr.html#cb17-7" tabindex="-1"></a><span class="fu">library</span>(refund) <span class="co"># pro LR na skorech</span></span>
<span id="cb17-8"><a href="simulace3diskr.html#cb17-8" tabindex="-1"></a><span class="fu">library</span>(nnet) <span class="co"># pro LR na skorech</span></span>
<span id="cb17-9"><a href="simulace3diskr.html#cb17-9" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb17-10"><a href="simulace3diskr.html#cb17-10" tabindex="-1"></a><span class="fu">library</span>(rpart) <span class="co"># stromy</span></span>
<span id="cb17-11"><a href="simulace3diskr.html#cb17-11" tabindex="-1"></a><span class="fu">library</span>(rattle) <span class="co"># grafika</span></span>
<span id="cb17-12"><a href="simulace3diskr.html#cb17-12" tabindex="-1"></a><span class="fu">library</span>(e1071)</span>
<span id="cb17-13"><a href="simulace3diskr.html#cb17-13" tabindex="-1"></a><span class="fu">library</span>(randomForest) <span class="co"># nahodny les</span></span></code></pre></div>
</details>
<p>Abychom mohli jednotlivé klasifikátory porovnat, rozdělíme množinu vygenerovaných pozorování na dvě části v poměru 70:30, a to na trénovací a testovací (validační) část.
Trénovací část použijeme při konstrukci klasifikátoru a testovací na výpočet chyby klasifikace a případně dalších charakteristik našeho modelu.
Výsledné klasifikátory podle těchto spočtených charakteristik můžeme následně porovnat mezi sebou z pohledu jejich úspěšnosti klasifikace.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="simulace3diskr.html#cb18-1" tabindex="-1"></a><span class="co"># rozdeleni na testovaci a trenovaci cast</span></span>
<span id="cb18-2"><a href="simulace3diskr.html#cb18-2" tabindex="-1"></a>split <span class="ot">&lt;-</span> <span class="fu">sample.split</span>(XXfd<span class="sc">$</span>fdnames<span class="sc">$</span>reps, <span class="at">SplitRatio =</span> <span class="fl">0.7</span>)</span>
<span id="cb18-3"><a href="simulace3diskr.html#cb18-3" tabindex="-1"></a></span>
<span id="cb18-4"><a href="simulace3diskr.html#cb18-4" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">each =</span> n)</span>
<span id="cb18-5"><a href="simulace3diskr.html#cb18-5" tabindex="-1"></a></span>
<span id="cb18-6"><a href="simulace3diskr.html#cb18-6" tabindex="-1"></a>X.train <span class="ot">&lt;-</span> <span class="fu">subset</span>(XXfd, split <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb18-7"><a href="simulace3diskr.html#cb18-7" tabindex="-1"></a>X.test <span class="ot">&lt;-</span> <span class="fu">subset</span>(XXfd, split <span class="sc">==</span> <span class="cn">FALSE</span>)</span>
<span id="cb18-8"><a href="simulace3diskr.html#cb18-8" tabindex="-1"></a></span>
<span id="cb18-9"><a href="simulace3diskr.html#cb18-9" tabindex="-1"></a>Y.train <span class="ot">&lt;-</span> <span class="fu">subset</span>(Y, split <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb18-10"><a href="simulace3diskr.html#cb18-10" tabindex="-1"></a>Y.test <span class="ot">&lt;-</span> <span class="fu">subset</span>(Y, split <span class="sc">==</span> <span class="cn">FALSE</span>)</span></code></pre></div>
</details>
<p>Ještě se podíváme na zastoupení jednotlivých skupin v testovací a trénovací části dat.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="simulace3diskr.html#cb19-1" tabindex="-1"></a><span class="co"># absolutni zastoupeni</span></span>
<span id="cb19-2"><a href="simulace3diskr.html#cb19-2" tabindex="-1"></a><span class="fu">table</span>(Y.train)</span></code></pre></div>
</details>
<pre><code>## Y.train
##  0  1 
## 71 69</code></pre>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="simulace3diskr.html#cb21-1" tabindex="-1"></a><span class="fu">table</span>(Y.test)</span></code></pre></div>
</details>
<pre><code>## Y.test
##  0  1 
## 29 31</code></pre>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="simulace3diskr.html#cb23-1" tabindex="-1"></a><span class="co"># relativni zastoupeni</span></span>
<span id="cb23-2"><a href="simulace3diskr.html#cb23-2" tabindex="-1"></a><span class="fu">table</span>(Y.train) <span class="sc">/</span> <span class="fu">sum</span>(<span class="fu">table</span>(Y.train))</span></code></pre></div>
</details>
<pre><code>## Y.train
##         0         1 
## 0.5071429 0.4928571</code></pre>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="simulace3diskr.html#cb25-1" tabindex="-1"></a><span class="fu">table</span>(Y.test) <span class="sc">/</span> <span class="fu">sum</span>(<span class="fu">table</span>(Y.test))</span></code></pre></div>
</details>
<pre><code>## Y.test
##         0         1 
## 0.4833333 0.5166667</code></pre>
<div id="rozhodovací-stromy-3" class="section level3 hasAnchor" number="8.3.1">
<h3><span class="header-section-number">8.3.1</span> Rozhodovací stromy<a href="simulace3diskr.html#rozhodovací-stromy-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Rozhodovací stromy jsou velmi oblíbeným nástrojem ke klasifikaci, avšak jako v případě některých předchozích metod nejsou přímo určeny pro funkcionální data.
Existují však postupy, jak funkcionální objekty převést na mnohorozměrné a následně na ně aplikovat algoritmus rozhodovacích stromů.
Můžeme uvažovat následující postupy:</p>
<ul>
<li>algoritmus sestrojený na bázových koeficientech,</li>
<li>využití skórů hlavních komponent,</li>
<li>použít diskretizaci intervalu a vyhodnotit funkci jen na nějaké konečné síti bodů.</li>
</ul>
<p>My samozřejmě nyní zvolíme poslední možnost.
Nejprve si musíme definovat body z intervalu <span class="math inline">\(I = [0, 6]\)</span>, ve kterých funkce vyhodnotíme.
Následně vytvoříme objekt, ve kterém budou řádky představovat jednotlivé (diskretizované) funkce a sloupce časy.
Nakonec připojíme sloupec <span class="math inline">\(Y\)</span> s informací o příslušnosti do klasifikační třídy a totéž zopakujeme i pro testovací data.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="simulace3diskr.html#cb27-1" tabindex="-1"></a><span class="co"># posloupnost bodu, ve kterych funkce vyhodnotime</span></span>
<span id="cb27-2"><a href="simulace3diskr.html#cb27-2" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="dv">101</span></span>
<span id="cb27-3"><a href="simulace3diskr.html#cb27-3" tabindex="-1"></a>t.seq <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">6</span>, <span class="at">length =</span> p)</span>
<span id="cb27-4"><a href="simulace3diskr.html#cb27-4" tabindex="-1"></a>   </span>
<span id="cb27-5"><a href="simulace3diskr.html#cb27-5" tabindex="-1"></a>grid.data <span class="ot">&lt;-</span> <span class="fu">eval.fd</span>(<span class="at">fdobj =</span> X.train, <span class="at">evalarg =</span> t.seq)</span>
<span id="cb27-6"><a href="simulace3diskr.html#cb27-6" tabindex="-1"></a>grid.data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(grid.data)) <span class="co"># transpozice kvuli funkcim v radku</span></span>
<span id="cb27-7"><a href="simulace3diskr.html#cb27-7" tabindex="-1"></a>grid.data<span class="sc">$</span>Y <span class="ot">&lt;-</span> Y.train <span class="sc">|&gt;</span> <span class="fu">factor</span>()</span>
<span id="cb27-8"><a href="simulace3diskr.html#cb27-8" tabindex="-1"></a></span>
<span id="cb27-9"><a href="simulace3diskr.html#cb27-9" tabindex="-1"></a>grid.data.test <span class="ot">&lt;-</span> <span class="fu">eval.fd</span>(<span class="at">fdobj =</span> X.test, <span class="at">evalarg =</span> t.seq)</span>
<span id="cb27-10"><a href="simulace3diskr.html#cb27-10" tabindex="-1"></a>grid.data.test <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(grid.data.test))</span>
<span id="cb27-11"><a href="simulace3diskr.html#cb27-11" tabindex="-1"></a>grid.data.test<span class="sc">$</span>Y <span class="ot">&lt;-</span> Y.test <span class="sc">|&gt;</span> <span class="fu">factor</span>()</span></code></pre></div>
</details>
<p>Nyní mážeme sestrojit rozhodovací strom, ve kterém budou jakožto prediktory vystupovat všechny časy z vektoru <code>t.seq</code>.
Tato klasifikační není náchylná na multikolinearitu, tudíž se jí nemusíme zabývat.
Jako metriku zvolíme přesnost.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="simulace3diskr.html#cb28-1" tabindex="-1"></a><span class="co"># sestrojeni modelu</span></span>
<span id="cb28-2"><a href="simulace3diskr.html#cb28-2" tabindex="-1"></a>start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb28-3"><a href="simulace3diskr.html#cb28-3" tabindex="-1"></a>clf.tree <span class="ot">&lt;-</span> <span class="fu">train</span>(Y <span class="sc">~</span> ., <span class="at">data =</span> grid.data, </span>
<span id="cb28-4"><a href="simulace3diskr.html#cb28-4" tabindex="-1"></a>                 <span class="at">method =</span> <span class="st">&quot;rpart&quot;</span>, </span>
<span id="cb28-5"><a href="simulace3diskr.html#cb28-5" tabindex="-1"></a>                 <span class="at">trControl =</span> <span class="fu">trainControl</span>(<span class="at">method =</span> <span class="st">&quot;CV&quot;</span>, <span class="at">number =</span> <span class="dv">10</span>),</span>
<span id="cb28-6"><a href="simulace3diskr.html#cb28-6" tabindex="-1"></a>                 <span class="at">metric =</span> <span class="st">&quot;Accuracy&quot;</span>)</span>
<span id="cb28-7"><a href="simulace3diskr.html#cb28-7" tabindex="-1"></a>end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb28-8"><a href="simulace3diskr.html#cb28-8" tabindex="-1"></a></span>
<span id="cb28-9"><a href="simulace3diskr.html#cb28-9" tabindex="-1"></a><span class="co"># presnost na trenovacich datech</span></span>
<span id="cb28-10"><a href="simulace3diskr.html#cb28-10" tabindex="-1"></a>predictions.train <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.tree, <span class="at">newdata =</span> grid.data)</span>
<span id="cb28-11"><a href="simulace3diskr.html#cb28-11" tabindex="-1"></a>presnost.train <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.train, predictions.train) <span class="sc">|&gt;</span></span>
<span id="cb28-12"><a href="simulace3diskr.html#cb28-12" tabindex="-1"></a>  <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb28-13"><a href="simulace3diskr.html#cb28-13" tabindex="-1"></a>  </span>
<span id="cb28-14"><a href="simulace3diskr.html#cb28-14" tabindex="-1"></a><span class="co"># presnost na testovacich datech</span></span>
<span id="cb28-15"><a href="simulace3diskr.html#cb28-15" tabindex="-1"></a>predictions.test <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.tree, <span class="at">newdata =</span> grid.data.test)</span>
<span id="cb28-16"><a href="simulace3diskr.html#cb28-16" tabindex="-1"></a>presnost.test <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.test, predictions.test) <span class="sc">|&gt;</span></span>
<span id="cb28-17"><a href="simulace3diskr.html#cb28-17" tabindex="-1"></a>  <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span></code></pre></div>
</details>
<p>Chybovost klasifikátoru na testovacích datech je tedy 46.67 % a na trénovacích datech 33.57 %. Časovou náročnost spočítáme následovně.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="simulace3diskr.html#cb29-1" tabindex="-1"></a>duration <span class="ot">&lt;-</span> end_time <span class="sc">-</span> start_time</span>
<span id="cb29-2"><a href="simulace3diskr.html#cb29-2" tabindex="-1"></a>duration <span class="sc">|&gt;</span> <span class="fu">print</span>()</span></code></pre></div>
</details>
<pre><code>## Time difference of 0.49158 secs</code></pre>
<p>Graficky si rozhodovací strom můžeme vykreslit pomocí funkce <code>fancyRpartPlot()</code>.
Nastavíme barvy uzlů tak, aby reflektovaly předchozí barevné odlišení.
Jedná se o neprořezaný strom.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="simulace3diskr.html#cb31-1" tabindex="-1"></a><span class="fu">colnames</span>(grid.data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">paste0</span>(<span class="st">&#39;time:&#39;</span>, t.seq), <span class="st">&#39;Y&#39;</span>)</span>
<span id="cb31-2"><a href="simulace3diskr.html#cb31-2" tabindex="-1"></a><span class="fu">fancyRpartPlot</span>(<span class="fu">rpart</span>(Y <span class="sc">~</span> ., <span class="at">data =</span> grid.data, <span class="at">method =</span> <span class="st">&quot;class&quot;</span>),</span>
<span id="cb31-3"><a href="simulace3diskr.html#cb31-3" tabindex="-1"></a>               <span class="at">sub =</span> <span class="st">&#39;&#39;</span>, <span class="at">palettes =</span> <span class="fu">c</span>(<span class="st">&#39;Reds&#39;</span>, <span class="st">&#39;Blues&#39;</span>)) </span></code></pre></div>
</details>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-23"></span>
<img src="08-Simulace_3_discretisation_files/figure-html/unnamed-chunk-23-1.png" alt="Grafické znázornění neprořezaného rozhodovacího stromu. Modrými odstíny jsou vykresleny uzly příslušející klasifikační třídě 1 a červenými odstíny třídě 0." width="672" />
<p class="caption">
Obrázek 8.7: Grafické znázornění neprořezaného rozhodovacího stromu. Modrými odstíny jsou vykresleny uzly příslušející klasifikační třídě 1 a červenými odstíny třídě 0.
</p>
</div>
<p>Můžeme si také vykreslit již prořezaný finální rozhodovací strom.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="simulace3diskr.html#cb32-1" tabindex="-1"></a>rpart.plot<span class="sc">::</span><span class="fu">rpart.plot</span>(clf.tree<span class="sc">$</span>finalModel, <span class="co"># finalni model ... prorezany strom</span></span>
<span id="cb32-2"><a href="simulace3diskr.html#cb32-2" tabindex="-1"></a>                       <span class="at">extra =</span> <span class="dv">104</span>, <span class="co"># zobrazeni pozadovanych informaci</span></span>
<span id="cb32-3"><a href="simulace3diskr.html#cb32-3" tabindex="-1"></a>                       <span class="at">box.palette =</span> <span class="fu">c</span>(<span class="st">&#39;Reds&#39;</span>, <span class="st">&#39;Blues&#39;</span>),</span>
<span id="cb32-4"><a href="simulace3diskr.html#cb32-4" tabindex="-1"></a>                       <span class="at">branch.lty =</span> <span class="dv">3</span>, <span class="co"># dotted branch lines</span></span>
<span id="cb32-5"><a href="simulace3diskr.html#cb32-5" tabindex="-1"></a>                       <span class="at">shadow.col =</span> <span class="dv">0</span>, <span class="co"># shadows under the node boxes</span></span>
<span id="cb32-6"><a href="simulace3diskr.html#cb32-6" tabindex="-1"></a>                       <span class="at">nn =</span> <span class="cn">FALSE</span>, </span>
<span id="cb32-7"><a href="simulace3diskr.html#cb32-7" tabindex="-1"></a>                       <span class="at">under =</span> <span class="cn">FALSE</span>, </span>
<span id="cb32-8"><a href="simulace3diskr.html#cb32-8" tabindex="-1"></a>                       <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
</details>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-24"></span>
<img src="08-Simulace_3_discretisation_files/figure-html/unnamed-chunk-24-1.png" alt="Finální prořezaný rozhodovací strom." width="672" />
<p class="caption">
Obrázek 8.8: Finální prořezaný rozhodovací strom.
</p>
</div>
<p>Nakonec opět přidejme trénovací a testovací chybovost do souhrnné tabulky.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="simulace3diskr.html#cb33-1" tabindex="-1"></a>RESULTS <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">model =</span> <span class="st">&#39;Tree - diskr.&#39;</span>, </span>
<span id="cb33-2"><a href="simulace3diskr.html#cb33-2" tabindex="-1"></a>                  <span class="at">Err.train =</span> <span class="dv">1</span> <span class="sc">-</span> presnost.train,</span>
<span id="cb33-3"><a href="simulace3diskr.html#cb33-3" tabindex="-1"></a>                  <span class="at">Err.test =</span> <span class="dv">1</span> <span class="sc">-</span> presnost.test,</span>
<span id="cb33-4"><a href="simulace3diskr.html#cb33-4" tabindex="-1"></a>                  <span class="at">Duration =</span> <span class="fu">as.numeric</span>(duration))</span></code></pre></div>
</details>
</div>
<div id="náhodné-lesy-3" class="section level3 hasAnchor" number="8.3.2">
<h3><span class="header-section-number">8.3.2</span> Náhodné lesy<a href="simulace3diskr.html#náhodné-lesy-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Klasifikátor sestrojený pomocí metody náhodných lesů spočívá v sestrojení několika jednotlivých rozhodovacích stromů, které se následně zkombinují a vytvoří společný klasifikátor (společným “hlasováním”).</p>
<p>Tak jako v případě rozhodovacích stromů máme několik možností na to, jaká data (konečně-rozměrná) použijeme pro sestrojení modelu.
Budeme opět uvažovat diskretizaci intervalu.
V tomto případě využíváme vyhodnocení funkcí na dané síti bodů intervalu <span class="math inline">\(I = [0, 6]\)</span>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="simulace3diskr.html#cb34-1" tabindex="-1"></a><span class="co"># sestrojeni modelu</span></span>
<span id="cb34-2"><a href="simulace3diskr.html#cb34-2" tabindex="-1"></a>start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb34-3"><a href="simulace3diskr.html#cb34-3" tabindex="-1"></a>clf.RF <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(Y <span class="sc">~</span> ., <span class="at">data =</span> grid.data, </span>
<span id="cb34-4"><a href="simulace3diskr.html#cb34-4" tabindex="-1"></a>                       <span class="at">ntree =</span> <span class="dv">500</span>, <span class="co"># pocet stromu</span></span>
<span id="cb34-5"><a href="simulace3diskr.html#cb34-5" tabindex="-1"></a>                       <span class="at">importance =</span> F,</span>
<span id="cb34-6"><a href="simulace3diskr.html#cb34-6" tabindex="-1"></a>                       <span class="at">nodesize =</span> <span class="dv">1</span>)</span>
<span id="cb34-7"><a href="simulace3diskr.html#cb34-7" tabindex="-1"></a>end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb34-8"><a href="simulace3diskr.html#cb34-8" tabindex="-1"></a></span>
<span id="cb34-9"><a href="simulace3diskr.html#cb34-9" tabindex="-1"></a><span class="co"># presnost na trenovacich datech</span></span>
<span id="cb34-10"><a href="simulace3diskr.html#cb34-10" tabindex="-1"></a>predictions.train <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.RF, <span class="at">newdata =</span> grid.data)</span>
<span id="cb34-11"><a href="simulace3diskr.html#cb34-11" tabindex="-1"></a>presnost.train <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.train, predictions.train) <span class="sc">|&gt;</span></span>
<span id="cb34-12"><a href="simulace3diskr.html#cb34-12" tabindex="-1"></a>  <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb34-13"><a href="simulace3diskr.html#cb34-13" tabindex="-1"></a>  </span>
<span id="cb34-14"><a href="simulace3diskr.html#cb34-14" tabindex="-1"></a><span class="co"># presnost na testovacich datech</span></span>
<span id="cb34-15"><a href="simulace3diskr.html#cb34-15" tabindex="-1"></a>predictions.test <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.RF, <span class="at">newdata =</span> grid.data.test)</span>
<span id="cb34-16"><a href="simulace3diskr.html#cb34-16" tabindex="-1"></a>presnost.test <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.test, predictions.test) <span class="sc">|&gt;</span></span>
<span id="cb34-17"><a href="simulace3diskr.html#cb34-17" tabindex="-1"></a>  <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span></code></pre></div>
</details>
<p>Chybovost náhodného lesu na trénovacích datech je tedy 0 % a na testovacích datech 40 %. Časovou náročnost spočítáme následovně.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="simulace3diskr.html#cb35-1" tabindex="-1"></a>duration <span class="ot">&lt;-</span> end_time <span class="sc">-</span> start_time</span>
<span id="cb35-2"><a href="simulace3diskr.html#cb35-2" tabindex="-1"></a>duration <span class="sc">|&gt;</span> <span class="fu">print</span>()</span></code></pre></div>
</details>
<pre><code>## Time difference of 0.406394 secs</code></pre>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="simulace3diskr.html#cb37-1" tabindex="-1"></a>Res <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">model =</span> <span class="st">&#39;RForest - diskr&#39;</span>, </span>
<span id="cb37-2"><a href="simulace3diskr.html#cb37-2" tabindex="-1"></a>                  <span class="at">Err.train =</span> <span class="dv">1</span> <span class="sc">-</span> presnost.train,</span>
<span id="cb37-3"><a href="simulace3diskr.html#cb37-3" tabindex="-1"></a>                  <span class="at">Err.test =</span> <span class="dv">1</span> <span class="sc">-</span> presnost.test,</span>
<span id="cb37-4"><a href="simulace3diskr.html#cb37-4" tabindex="-1"></a>                  <span class="at">Duration =</span> <span class="fu">as.numeric</span>(duration))</span>
<span id="cb37-5"><a href="simulace3diskr.html#cb37-5" tabindex="-1"></a></span>
<span id="cb37-6"><a href="simulace3diskr.html#cb37-6" tabindex="-1"></a>RESULTS <span class="ot">&lt;-</span> <span class="fu">rbind</span>(RESULTS, Res)</span></code></pre></div>
</details>
</div>
<div id="support-vector-machines-7" class="section level3 hasAnchor" number="8.3.3">
<h3><span class="header-section-number">8.3.3</span> Support Vector Machines<a href="simulace3diskr.html#support-vector-machines-7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Nyní se podívejme na klasifikaci našich nasimulovaných křivek pomocí metody podpůrných vektorů (ang. Support Vector Machines, SVM).
Výhodou této klasifikační metody je její výpočetní nenáročnost, neboť pro definici hraniční křivky mezi třídami využívá pouze několik (často málo) pozorování.</p>
<p>Hlavní výhodou SVM je použití tzv.
<em>jádrového triku</em> (kernel trick), pomocí kterého nahradíme obyčejný skalární součin jiným skalárním součinem transformovaných dat, aniž bychom tuto transformaci museli přímo definovat.
Tím dostaneme obecně nelineární dělící hranici mezi klasifikačními třídami.
<em>Jádro</em> (jádrová funkce, ang. kernel, kernel function) <span class="math inline">\(K\)</span> je taková funkce, která splňuje</p>
<p><span class="math display">\[
K(x_i, x_j) = \langle \phi(x_i), \phi(x_j) \rangle_{\mathcal H},
\]</span>
kde <span class="math inline">\(\phi\)</span> je nějaká (neznámá) transformace (ang. feature map), <span class="math inline">\(\mathcal H\)</span> je Hilbertův prostor a <span class="math inline">\(\langle \cdot, \cdot \rangle_{\mathcal H}\)</span> je nějaký skalární součin na tomto Hilbertově prostoru.</p>
<p>Nejčastěji se v praxi volí tři typy jádrových funkcí:</p>
<ul>
<li>lineární jádro – <span class="math inline">\(K(x_i, x_j) = \langle x_i, x_j \rangle\)</span>,</li>
<li>polynomiální jádro – <span class="math inline">\(K(x_i, x_j) = \big(\alpha_0 + \gamma \langle x_i, x_j \rangle \big)^d\)</span>,</li>
<li>radiální (gaussovské) jádro – <span class="math inline">\(\displaystyle{K(x_i, x_j) = \text e^{-\gamma \|x_i - x_j \|^2}}\)</span>.</li>
</ul>
<p>U všech výše zmíněných jader musíme zvolit konstantu <span class="math inline">\(C &gt; 0\)</span>, která udává míru penalizace za překročení dělící hranice mezi třídami (ang. inverse regularization parameter).
S rostoucí hodnotou <span class="math inline">\(C\)</span> bude metoda více penalizovat špatně klasifikovaná data a méně tvar hranice, naopak pro malé hodnoty <span class="math inline">\(C\)</span> metoda nedává takový význam špatně klasifikovaným datům, ale zaměřuje se více na penalizaci tvaru hranice.
Tato konstanta <span class="math inline">\(C\)</span> se defaultně volí rovna 1, můžeme ji určit i přímo například pomocí cross-validace.</p>
<p>Využitím cross-validace můžeme také určit optimální hodnoty ostatních hyperparametrů, které nyní závisí na naší volbě jádrové funkce.
V případě lineárního jádra nevolíme žádný další parametr kromě konstanty <span class="math inline">\(C\)</span>, u polynomiálního jádra musíme určit hodnoty hyperparametrů <span class="math inline">\(\alpha_0, \gamma \text{ a } d\)</span>, jejichž defaultní hodnoty v <code>R</code> jsou postupně <span class="math inline">\(\alpha_0^{default} = 0, \gamma^{default} = \frac{1}{dim(\texttt{data})} \text{ a } d^{default} = 3\)</span>.
Při volbě radiálního jádra máme pouze jeden další hyperparametr <span class="math inline">\(\gamma\)</span>, jehož defaultní hodnota v <code>R</code> je totožná jako u polynomiálního jádra.
Opět bychom mohli hodnoty hyperparametrů určit jako optimální pro naše data, avšak vzhledem k relativní výpočetní náročnosti necháme hodnoty příslušných hyperparametrů na jejich defaultních hodnotách.</p>
<p>V případě funkcionálních dat máme několik možností, jak použít metodu SVM.
Nejjednodušší variantou je použít tuto klasifikační metodu přímo na diskretizovanou funkci.
Začněme nejprve aplikací metody podpůrných vektorů přímo na diskretizovaná data (vyhodnocení funkce na dané síti bodů na intervalu <span class="math inline">\(I = [0, 6]\)</span>), přičemž budeme uvažovat všech tři výše zmíněné jádrové funkce. Nejprve však data znormujeme.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="simulace3diskr.html#cb38-1" tabindex="-1"></a><span class="co"># set norm equal to one</span></span>
<span id="cb38-2"><a href="simulace3diskr.html#cb38-2" tabindex="-1"></a>norms <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb38-3"><a href="simulace3diskr.html#cb38-3" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">dim</span>(XXfd<span class="sc">$</span>coefs)[<span class="dv">2</span>]) {</span>
<span id="cb38-4"><a href="simulace3diskr.html#cb38-4" tabindex="-1"></a>  norms <span class="ot">&lt;-</span> <span class="fu">c</span>(norms, <span class="fu">as.numeric</span>(<span class="dv">1</span> <span class="sc">/</span> <span class="fu">norm.fd</span>(XXfd[i])))</span>
<span id="cb38-5"><a href="simulace3diskr.html#cb38-5" tabindex="-1"></a>  }</span>
<span id="cb38-6"><a href="simulace3diskr.html#cb38-6" tabindex="-1"></a>XXfd_norm <span class="ot">&lt;-</span> XXfd </span>
<span id="cb38-7"><a href="simulace3diskr.html#cb38-7" tabindex="-1"></a>XXfd_norm<span class="sc">$</span>coefs <span class="ot">&lt;-</span> XXfd_norm<span class="sc">$</span>coefs <span class="sc">*</span> <span class="fu">matrix</span>(norms, </span>
<span id="cb38-8"><a href="simulace3diskr.html#cb38-8" tabindex="-1"></a>                                            <span class="at">ncol =</span> <span class="fu">dim</span>(XXfd<span class="sc">$</span>coefs)[<span class="dv">2</span>],</span>
<span id="cb38-9"><a href="simulace3diskr.html#cb38-9" tabindex="-1"></a>                                            <span class="at">nrow =</span> <span class="fu">dim</span>(XXfd<span class="sc">$</span>coefs)[<span class="dv">1</span>],</span>
<span id="cb38-10"><a href="simulace3diskr.html#cb38-10" tabindex="-1"></a>                                            <span class="at">byrow =</span> T)</span>
<span id="cb38-11"><a href="simulace3diskr.html#cb38-11" tabindex="-1"></a></span>
<span id="cb38-12"><a href="simulace3diskr.html#cb38-12" tabindex="-1"></a><span class="co"># rozdeleni na testovaci a trenovaci cast</span></span>
<span id="cb38-13"><a href="simulace3diskr.html#cb38-13" tabindex="-1"></a>X.train_norm <span class="ot">&lt;-</span> <span class="fu">subset</span>(XXfd_norm, split <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb38-14"><a href="simulace3diskr.html#cb38-14" tabindex="-1"></a>X.test_norm <span class="ot">&lt;-</span> <span class="fu">subset</span>(XXfd_norm, split <span class="sc">==</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-15"><a href="simulace3diskr.html#cb38-15" tabindex="-1"></a></span>
<span id="cb38-16"><a href="simulace3diskr.html#cb38-16" tabindex="-1"></a>Y.train_norm <span class="ot">&lt;-</span> <span class="fu">subset</span>(Y, split <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb38-17"><a href="simulace3diskr.html#cb38-17" tabindex="-1"></a>Y.test_norm <span class="ot">&lt;-</span> <span class="fu">subset</span>(Y, split <span class="sc">==</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-18"><a href="simulace3diskr.html#cb38-18" tabindex="-1"></a></span>
<span id="cb38-19"><a href="simulace3diskr.html#cb38-19" tabindex="-1"></a>grid.data <span class="ot">&lt;-</span> <span class="fu">eval.fd</span>(<span class="at">fdobj =</span> X.train_norm, <span class="at">evalarg =</span> t.seq)</span>
<span id="cb38-20"><a href="simulace3diskr.html#cb38-20" tabindex="-1"></a>grid.data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(grid.data)) </span>
<span id="cb38-21"><a href="simulace3diskr.html#cb38-21" tabindex="-1"></a>grid.data<span class="sc">$</span>Y <span class="ot">&lt;-</span> Y.train_norm <span class="sc">|&gt;</span> <span class="fu">factor</span>()</span>
<span id="cb38-22"><a href="simulace3diskr.html#cb38-22" tabindex="-1"></a></span>
<span id="cb38-23"><a href="simulace3diskr.html#cb38-23" tabindex="-1"></a>grid.data.test <span class="ot">&lt;-</span> <span class="fu">eval.fd</span>(<span class="at">fdobj =</span> X.test_norm, <span class="at">evalarg =</span> t.seq)</span>
<span id="cb38-24"><a href="simulace3diskr.html#cb38-24" tabindex="-1"></a>grid.data.test <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(grid.data.test))</span>
<span id="cb38-25"><a href="simulace3diskr.html#cb38-25" tabindex="-1"></a>grid.data.test<span class="sc">$</span>Y <span class="ot">&lt;-</span> Y.test_norm <span class="sc">|&gt;</span> <span class="fu">factor</span>()</span></code></pre></div>
</details>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="simulace3diskr.html#cb39-1" tabindex="-1"></a><span class="co"># sestrojeni modelu</span></span>
<span id="cb39-2"><a href="simulace3diskr.html#cb39-2" tabindex="-1"></a>start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb39-3"><a href="simulace3diskr.html#cb39-3" tabindex="-1"></a>clf.SVM.l <span class="ot">&lt;-</span> <span class="fu">svm</span>(Y <span class="sc">~</span> ., <span class="at">data =</span> grid.data,</span>
<span id="cb39-4"><a href="simulace3diskr.html#cb39-4" tabindex="-1"></a>                 <span class="at">type =</span> <span class="st">&#39;C-classification&#39;</span>,</span>
<span id="cb39-5"><a href="simulace3diskr.html#cb39-5" tabindex="-1"></a>                 <span class="at">scale =</span> <span class="cn">TRUE</span>,</span>
<span id="cb39-6"><a href="simulace3diskr.html#cb39-6" tabindex="-1"></a>                 <span class="at">cost =</span> <span class="dv">100</span>,</span>
<span id="cb39-7"><a href="simulace3diskr.html#cb39-7" tabindex="-1"></a>                 <span class="at">kernel =</span> <span class="st">&#39;linear&#39;</span>)</span>
<span id="cb39-8"><a href="simulace3diskr.html#cb39-8" tabindex="-1"></a>end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb39-9"><a href="simulace3diskr.html#cb39-9" tabindex="-1"></a></span>
<span id="cb39-10"><a href="simulace3diskr.html#cb39-10" tabindex="-1"></a>duration.l <span class="ot">&lt;-</span> end_time <span class="sc">-</span> start_time</span>
<span id="cb39-11"><a href="simulace3diskr.html#cb39-11" tabindex="-1"></a></span>
<span id="cb39-12"><a href="simulace3diskr.html#cb39-12" tabindex="-1"></a>start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb39-13"><a href="simulace3diskr.html#cb39-13" tabindex="-1"></a>clf.SVM.p <span class="ot">&lt;-</span> <span class="fu">svm</span>(Y <span class="sc">~</span> ., <span class="at">data =</span> grid.data,</span>
<span id="cb39-14"><a href="simulace3diskr.html#cb39-14" tabindex="-1"></a>                 <span class="at">type =</span> <span class="st">&#39;C-classification&#39;</span>,</span>
<span id="cb39-15"><a href="simulace3diskr.html#cb39-15" tabindex="-1"></a>                 <span class="at">scale =</span> <span class="cn">TRUE</span>,</span>
<span id="cb39-16"><a href="simulace3diskr.html#cb39-16" tabindex="-1"></a>                 <span class="at">coef0 =</span> <span class="dv">1</span>,</span>
<span id="cb39-17"><a href="simulace3diskr.html#cb39-17" tabindex="-1"></a>                 <span class="at">cost =</span> <span class="dv">100</span>,</span>
<span id="cb39-18"><a href="simulace3diskr.html#cb39-18" tabindex="-1"></a>                 <span class="at">kernel =</span> <span class="st">&#39;polynomial&#39;</span>)</span>
<span id="cb39-19"><a href="simulace3diskr.html#cb39-19" tabindex="-1"></a>end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb39-20"><a href="simulace3diskr.html#cb39-20" tabindex="-1"></a></span>
<span id="cb39-21"><a href="simulace3diskr.html#cb39-21" tabindex="-1"></a>duration.p <span class="ot">&lt;-</span> end_time <span class="sc">-</span> start_time</span>
<span id="cb39-22"><a href="simulace3diskr.html#cb39-22" tabindex="-1"></a></span>
<span id="cb39-23"><a href="simulace3diskr.html#cb39-23" tabindex="-1"></a>start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb39-24"><a href="simulace3diskr.html#cb39-24" tabindex="-1"></a>clf.SVM.r <span class="ot">&lt;-</span> <span class="fu">svm</span>(Y <span class="sc">~</span> ., <span class="at">data =</span> grid.data,</span>
<span id="cb39-25"><a href="simulace3diskr.html#cb39-25" tabindex="-1"></a>                 <span class="at">type =</span> <span class="st">&#39;C-classification&#39;</span>,</span>
<span id="cb39-26"><a href="simulace3diskr.html#cb39-26" tabindex="-1"></a>                 <span class="at">scale =</span> <span class="cn">TRUE</span>,</span>
<span id="cb39-27"><a href="simulace3diskr.html#cb39-27" tabindex="-1"></a>                 <span class="at">cost =</span> <span class="dv">100000</span>,</span>
<span id="cb39-28"><a href="simulace3diskr.html#cb39-28" tabindex="-1"></a>                 <span class="at">gamma =</span> <span class="fl">0.0001</span>,</span>
<span id="cb39-29"><a href="simulace3diskr.html#cb39-29" tabindex="-1"></a>                 <span class="at">kernel =</span> <span class="st">&#39;radial&#39;</span>)</span>
<span id="cb39-30"><a href="simulace3diskr.html#cb39-30" tabindex="-1"></a>end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb39-31"><a href="simulace3diskr.html#cb39-31" tabindex="-1"></a></span>
<span id="cb39-32"><a href="simulace3diskr.html#cb39-32" tabindex="-1"></a>duration.r <span class="ot">&lt;-</span> end_time <span class="sc">-</span> start_time</span>
<span id="cb39-33"><a href="simulace3diskr.html#cb39-33" tabindex="-1"></a></span>
<span id="cb39-34"><a href="simulace3diskr.html#cb39-34" tabindex="-1"></a><span class="co"># presnost na trenovacich datech</span></span>
<span id="cb39-35"><a href="simulace3diskr.html#cb39-35" tabindex="-1"></a>predictions.train.l <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.SVM.l, <span class="at">newdata =</span> grid.data)</span>
<span id="cb39-36"><a href="simulace3diskr.html#cb39-36" tabindex="-1"></a>presnost.train.l <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.train, predictions.train.l) <span class="sc">|&gt;</span></span>
<span id="cb39-37"><a href="simulace3diskr.html#cb39-37" tabindex="-1"></a>  <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb39-38"><a href="simulace3diskr.html#cb39-38" tabindex="-1"></a></span>
<span id="cb39-39"><a href="simulace3diskr.html#cb39-39" tabindex="-1"></a>predictions.train.p <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.SVM.p, <span class="at">newdata =</span> grid.data)</span>
<span id="cb39-40"><a href="simulace3diskr.html#cb39-40" tabindex="-1"></a>presnost.train.p <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.train, predictions.train.p) <span class="sc">|&gt;</span></span>
<span id="cb39-41"><a href="simulace3diskr.html#cb39-41" tabindex="-1"></a>  <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb39-42"><a href="simulace3diskr.html#cb39-42" tabindex="-1"></a></span>
<span id="cb39-43"><a href="simulace3diskr.html#cb39-43" tabindex="-1"></a>predictions.train.r <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.SVM.r, <span class="at">newdata =</span> grid.data)</span>
<span id="cb39-44"><a href="simulace3diskr.html#cb39-44" tabindex="-1"></a>presnost.train.r <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.train, predictions.train.r) <span class="sc">|&gt;</span></span>
<span id="cb39-45"><a href="simulace3diskr.html#cb39-45" tabindex="-1"></a>  <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb39-46"><a href="simulace3diskr.html#cb39-46" tabindex="-1"></a></span>
<span id="cb39-47"><a href="simulace3diskr.html#cb39-47" tabindex="-1"></a><span class="co"># presnost na testovacich datech</span></span>
<span id="cb39-48"><a href="simulace3diskr.html#cb39-48" tabindex="-1"></a>predictions.test.l <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.SVM.l, <span class="at">newdata =</span> grid.data.test)</span>
<span id="cb39-49"><a href="simulace3diskr.html#cb39-49" tabindex="-1"></a>presnost.test.l <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.test, predictions.test.l) <span class="sc">|&gt;</span></span>
<span id="cb39-50"><a href="simulace3diskr.html#cb39-50" tabindex="-1"></a>  <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb39-51"><a href="simulace3diskr.html#cb39-51" tabindex="-1"></a></span>
<span id="cb39-52"><a href="simulace3diskr.html#cb39-52" tabindex="-1"></a>predictions.test.p <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.SVM.p, <span class="at">newdata =</span> grid.data.test)</span>
<span id="cb39-53"><a href="simulace3diskr.html#cb39-53" tabindex="-1"></a>presnost.test.p <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.test, predictions.test.p) <span class="sc">|&gt;</span></span>
<span id="cb39-54"><a href="simulace3diskr.html#cb39-54" tabindex="-1"></a>  <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb39-55"><a href="simulace3diskr.html#cb39-55" tabindex="-1"></a></span>
<span id="cb39-56"><a href="simulace3diskr.html#cb39-56" tabindex="-1"></a>predictions.test.r <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.SVM.r, <span class="at">newdata =</span> grid.data.test)</span>
<span id="cb39-57"><a href="simulace3diskr.html#cb39-57" tabindex="-1"></a>presnost.test.r <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.test, predictions.test.r) <span class="sc">|&gt;</span></span>
<span id="cb39-58"><a href="simulace3diskr.html#cb39-58" tabindex="-1"></a>  <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span></code></pre></div>
</details>
<p>Chybovost metody SVM na trénovacích datech je tedy 5.71 % pro lineární jádro, 2.14 % pro polynomiální jádro a 3.57 % pro gaussovské jádro.
Na testovacích datech je potom chybovost metody 16.67 % pro lineární jádro, 16.67 % pro polynomiální jádro a 13.33 % pro radiální jádro. Časovou náročnost spočítáme následovně.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="simulace3diskr.html#cb40-1" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&#39;Linear kernel:&#39;</span>, <span class="at">quote =</span> F)</span></code></pre></div>
</details>
<pre><code>## [1] Linear kernel:</code></pre>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="simulace3diskr.html#cb42-1" tabindex="-1"></a>duration.l <span class="sc">|&gt;</span> <span class="fu">print</span>()</span></code></pre></div>
</details>
<pre><code>## Time difference of 0.03050113 secs</code></pre>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="simulace3diskr.html#cb44-1" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&#39;Polynomial kernel:&#39;</span>, <span class="at">quote =</span> F)</span></code></pre></div>
</details>
<pre><code>## [1] Polynomial kernel:</code></pre>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="simulace3diskr.html#cb46-1" tabindex="-1"></a>duration.p <span class="sc">|&gt;</span> <span class="fu">print</span>()</span></code></pre></div>
</details>
<pre><code>## Time difference of 0.01895189 secs</code></pre>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="simulace3diskr.html#cb48-1" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&#39;Radial kernel:&#39;</span>, <span class="at">quote =</span> F)</span></code></pre></div>
</details>
<pre><code>## [1] Radial kernel:</code></pre>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="simulace3diskr.html#cb50-1" tabindex="-1"></a>duration.r <span class="sc">|&gt;</span> <span class="fu">print</span>()</span></code></pre></div>
</details>
<pre><code>## Time difference of 0.02759504 secs</code></pre>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="simulace3diskr.html#cb52-1" tabindex="-1"></a>Res <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">model =</span> <span class="fu">c</span>(<span class="st">&#39;SVM linear - diskr&#39;</span>, </span>
<span id="cb52-2"><a href="simulace3diskr.html#cb52-2" tabindex="-1"></a>                            <span class="st">&#39;SVM poly - diskr&#39;</span>, </span>
<span id="cb52-3"><a href="simulace3diskr.html#cb52-3" tabindex="-1"></a>                            <span class="st">&#39;SVM rbf - diskr&#39;</span>), </span>
<span id="cb52-4"><a href="simulace3diskr.html#cb52-4" tabindex="-1"></a>                  <span class="at">Err.train =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">c</span>(presnost.train.l, presnost.train.p, presnost.train.r),</span>
<span id="cb52-5"><a href="simulace3diskr.html#cb52-5" tabindex="-1"></a>                  <span class="at">Err.test =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">c</span>(presnost.test.l, presnost.test.p, presnost.test.r),</span>
<span id="cb52-6"><a href="simulace3diskr.html#cb52-6" tabindex="-1"></a>                  <span class="at">Duration =</span> <span class="fu">c</span>(<span class="fu">as.numeric</span>(duration.l), </span>
<span id="cb52-7"><a href="simulace3diskr.html#cb52-7" tabindex="-1"></a>                               <span class="fu">as.numeric</span>(duration.p), <span class="fu">as.numeric</span>(duration.r)))</span>
<span id="cb52-8"><a href="simulace3diskr.html#cb52-8" tabindex="-1"></a></span>
<span id="cb52-9"><a href="simulace3diskr.html#cb52-9" tabindex="-1"></a>RESULTS <span class="ot">&lt;-</span> <span class="fu">rbind</span>(RESULTS, Res)</span></code></pre></div>
</details>
</div>
<div id="tabulka-výsledků-7" class="section level3 hasAnchor" number="8.3.4">
<h3><span class="header-section-number">8.3.4</span> Tabulka výsledků<a href="simulace3diskr.html#tabulka-výsledků-7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<table>
<caption><span id="tab:unnamed-chunk-35">Tabulka 8.1: </span>Souhrnné výsledky použitých metod na simulovaných datech. <span class="math inline">\(\widehat{Err}_{train}\)</span> značí odhad trénovací chybovosti a <span class="math inline">\(\widehat{Err}_{test}\)</span> testovací chybovosti.</caption>
<thead>
<tr class="header">
<th align="left">Model</th>
<th align="center"><span class="math inline">\(\widehat{Err}_{train}\quad\quad\quad\quad\quad\)</span></th>
<th align="center"><span class="math inline">\(\widehat{Err}_{test}\quad\quad\quad\quad\quad\)</span></th>
<th align="right">Duration</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Tree - diskr.</td>
<td align="center">0.3357</td>
<td align="center">0.4667</td>
<td align="right">0.4916</td>
</tr>
<tr class="even">
<td align="left">RForest - diskr</td>
<td align="center">0.0000</td>
<td align="center">0.4000</td>
<td align="right">0.4064</td>
</tr>
<tr class="odd">
<td align="left">SVM linear - diskr</td>
<td align="center">0.0571</td>
<td align="center">0.1667</td>
<td align="right">0.0305</td>
</tr>
<tr class="even">
<td align="left">SVM poly - diskr</td>
<td align="center">0.0214</td>
<td align="center">0.1667</td>
<td align="right">0.0190</td>
</tr>
<tr class="odd">
<td align="left">SVM rbf - diskr</td>
<td align="center">0.0357</td>
<td align="center">0.1333</td>
<td align="right">0.0276</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="simul3diskr" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Simulační studie<a href="simulace3diskr.html#simul3diskr" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>V celé předchozí části jsme se zabývali pouze jedním náhodně vygenerovaným souborem funkcí ze dvou klasifikačních tříd, který jsme následně opět náhodně rozdělili na testovací a trénovací část.
Poté jsme jednotlivé klasifikátory získané pomocí uvažovaných metod ohodnotili na základě testovací a trénovací chybovosti.</p>
<p>Jelikož se vygenerovaná data (a jejich rozdělení na dvě části) mohou při každém zopakování výrazně lišit, budou se i chybovosti jednotlivých klasifikačních algoritmů výrazně lišit.
Proto dělat jakékoli závěry o metodách a porovnávat je mezi sebou může být na základě jednoho vygenerovaného datového souboru velmi zavádějící.</p>
<p>Z tohoto důvodu se v této části zaměříme na opakování celého předchozího postupu pro různé vygenerované soubory.
Výsledky si budeme ukládat do tabulky a nakonec spočítáme průměrné charakteristiky modelů přes jednotlivá opakování.
Aby byly naše závěry dostatečně obecné, zvolíme počet opakování <span class="math inline">\(n_{sim} = 10\)</span>.</p>
<p>Nyní zopakujeme celou předchozí část <code>n.sim</code>-krát a hodnoty chybovostí si budeme ukládat to objektu <code>SIMUL_params</code>. Přitom budeme měnit hodnotu parametru <span class="math inline">\(p\)</span> a podíváme se, jak se mění výsledky jednotlivých vybraných klasifikačních metod v závislosti na této hodnotě.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="simulace3diskr.html#cb53-1" tabindex="-1"></a><span class="co"># nastaveni generatoru pseudonahodnych cisel</span></span>
<span id="cb53-2"><a href="simulace3diskr.html#cb53-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb53-3"><a href="simulace3diskr.html#cb53-3" tabindex="-1"></a></span>
<span id="cb53-4"><a href="simulace3diskr.html#cb53-4" tabindex="-1"></a><span class="co"># pocet simulaci pro kazdou hodnotu simulacniho parametru</span></span>
<span id="cb53-5"><a href="simulace3diskr.html#cb53-5" tabindex="-1"></a>n.sim <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb53-6"><a href="simulace3diskr.html#cb53-6" tabindex="-1"></a></span>
<span id="cb53-7"><a href="simulace3diskr.html#cb53-7" tabindex="-1"></a>methods <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;RF_discr&#39;</span>,</span>
<span id="cb53-8"><a href="simulace3diskr.html#cb53-8" tabindex="-1"></a>             <span class="st">&#39;SVM linear - diskr&#39;</span>, <span class="st">&#39;SVM poly - diskr&#39;</span>, <span class="st">&#39;SVM rbf - diskr&#39;</span>)</span>
<span id="cb53-9"><a href="simulace3diskr.html#cb53-9" tabindex="-1"></a></span>
<span id="cb53-10"><a href="simulace3diskr.html#cb53-10" tabindex="-1"></a><span class="co"># vektor delek p ekvidistantni posloupnosti </span></span>
<span id="cb53-11"><a href="simulace3diskr.html#cb53-11" tabindex="-1"></a>p_vector <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">4</span>, <span class="dv">250</span>, <span class="at">by =</span> <span class="dv">2</span>)</span>
<span id="cb53-12"><a href="simulace3diskr.html#cb53-12" tabindex="-1"></a><span class="co"># p_vector &lt;- seq(10, 250, by = 10)</span></span>
<span id="cb53-13"><a href="simulace3diskr.html#cb53-13" tabindex="-1"></a></span>
<span id="cb53-14"><a href="simulace3diskr.html#cb53-14" tabindex="-1"></a><span class="co"># vysledny objekt, do nehoz ukladame vysledky simulaci</span></span>
<span id="cb53-15"><a href="simulace3diskr.html#cb53-15" tabindex="-1"></a>SIMUL_params <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="at">data =</span> <span class="cn">NA</span>, <span class="at">dim =</span> <span class="fu">c</span>(<span class="fu">length</span>(methods), <span class="dv">6</span>, <span class="fu">length</span>(p_vector)),</span>
<span id="cb53-16"><a href="simulace3diskr.html#cb53-16" tabindex="-1"></a>                      <span class="at">dimnames =</span> <span class="fu">list</span>(</span>
<span id="cb53-17"><a href="simulace3diskr.html#cb53-17" tabindex="-1"></a>                        <span class="at">method =</span> methods,</span>
<span id="cb53-18"><a href="simulace3diskr.html#cb53-18" tabindex="-1"></a>                        <span class="at">metric =</span> <span class="fu">c</span>(<span class="st">&#39;ERRtrain&#39;</span>, <span class="st">&#39;Errtest&#39;</span>, </span>
<span id="cb53-19"><a href="simulace3diskr.html#cb53-19" tabindex="-1"></a>                                   <span class="st">&#39;SDtrain&#39;</span>, <span class="st">&#39;SDtest&#39;</span>, <span class="st">&#39;Duration&#39;</span>, <span class="st">&#39;SDduration&#39;</span>),</span>
<span id="cb53-20"><a href="simulace3diskr.html#cb53-20" tabindex="-1"></a>                        <span class="at">sigma =</span> <span class="fu">paste0</span>(p_vector)))</span>
<span id="cb53-21"><a href="simulace3diskr.html#cb53-21" tabindex="-1"></a></span>
<span id="cb53-22"><a href="simulace3diskr.html#cb53-22" tabindex="-1"></a><span class="co"># CV_res &lt;- data.frame(matrix(NA, ncol = 4, </span></span>
<span id="cb53-23"><a href="simulace3diskr.html#cb53-23" tabindex="-1"></a><span class="co">#                             nrow = length(p_vector),</span></span>
<span id="cb53-24"><a href="simulace3diskr.html#cb53-24" tabindex="-1"></a><span class="co">#                             dimnames = list(paste0(p_vector),</span></span>
<span id="cb53-25"><a href="simulace3diskr.html#cb53-25" tabindex="-1"></a><span class="co">#                                             c(&#39;C.l&#39;, &#39;C.p&#39;, &#39;C.r&#39;, &#39;gamma&#39;))))</span></span>
<span id="cb53-26"><a href="simulace3diskr.html#cb53-26" tabindex="-1"></a></span>
<span id="cb53-27"><a href="simulace3diskr.html#cb53-27" tabindex="-1"></a><span class="cf">for</span> (n_p <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(p_vector)) {</span>
<span id="cb53-28"><a href="simulace3diskr.html#cb53-28" tabindex="-1"></a>  <span class="do">## list, do ktereho budeme ukladat hodnoty chybovosti</span></span>
<span id="cb53-29"><a href="simulace3diskr.html#cb53-29" tabindex="-1"></a>  <span class="co"># ve sloupcich budou metody</span></span>
<span id="cb53-30"><a href="simulace3diskr.html#cb53-30" tabindex="-1"></a>  <span class="co"># v radcich budou jednotliva opakovani</span></span>
<span id="cb53-31"><a href="simulace3diskr.html#cb53-31" tabindex="-1"></a>  <span class="co"># list ma dve polozky ... train a test</span></span>
<span id="cb53-32"><a href="simulace3diskr.html#cb53-32" tabindex="-1"></a>  SIMULACE <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">train =</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">ncol =</span> <span class="fu">length</span>(methods), </span>
<span id="cb53-33"><a href="simulace3diskr.html#cb53-33" tabindex="-1"></a>                                               <span class="at">nrow =</span> n.sim,</span>
<span id="cb53-34"><a href="simulace3diskr.html#cb53-34" tabindex="-1"></a>                                               <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span>n.sim, methods))), </span>
<span id="cb53-35"><a href="simulace3diskr.html#cb53-35" tabindex="-1"></a>                   <span class="at">test =</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">ncol =</span> <span class="fu">length</span>(methods), </span>
<span id="cb53-36"><a href="simulace3diskr.html#cb53-36" tabindex="-1"></a>                                               <span class="at">nrow =</span> n.sim,</span>
<span id="cb53-37"><a href="simulace3diskr.html#cb53-37" tabindex="-1"></a>                                               <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span>n.sim, methods))),</span>
<span id="cb53-38"><a href="simulace3diskr.html#cb53-38" tabindex="-1"></a>                   <span class="at">duration =</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">ncol =</span> <span class="fu">length</span>(methods), </span>
<span id="cb53-39"><a href="simulace3diskr.html#cb53-39" tabindex="-1"></a>                                               <span class="at">nrow =</span> n.sim,</span>
<span id="cb53-40"><a href="simulace3diskr.html#cb53-40" tabindex="-1"></a>                                               <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span>n.sim, methods)))<span class="co">#,</span></span>
<span id="cb53-41"><a href="simulace3diskr.html#cb53-41" tabindex="-1"></a>                   <span class="co"># CV = as.data.frame(matrix(NA, ncol = 4, </span></span>
<span id="cb53-42"><a href="simulace3diskr.html#cb53-42" tabindex="-1"></a>                   <span class="co">#                             nrow = n.sim,</span></span>
<span id="cb53-43"><a href="simulace3diskr.html#cb53-43" tabindex="-1"></a>                   <span class="co">#                             dimnames = list(1:n.sim, </span></span>
<span id="cb53-44"><a href="simulace3diskr.html#cb53-44" tabindex="-1"></a>                   <span class="co">#                                             c(&#39;C.l&#39;, &#39;C.p&#39;, &#39;C.r&#39;, &#39;gamma&#39;))))</span></span>
<span id="cb53-45"><a href="simulace3diskr.html#cb53-45" tabindex="-1"></a>                   )</span>
<span id="cb53-46"><a href="simulace3diskr.html#cb53-46" tabindex="-1"></a>  </span>
<span id="cb53-47"><a href="simulace3diskr.html#cb53-47" tabindex="-1"></a>  <span class="do">## SIMULACE</span></span>
<span id="cb53-48"><a href="simulace3diskr.html#cb53-48" tabindex="-1"></a>  </span>
<span id="cb53-49"><a href="simulace3diskr.html#cb53-49" tabindex="-1"></a>  <span class="cf">for</span>(sim <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n.sim) {</span>
<span id="cb53-50"><a href="simulace3diskr.html#cb53-50" tabindex="-1"></a>    <span class="co"># pocet vygenerovanych pozorovani pro kazdou tridu</span></span>
<span id="cb53-51"><a href="simulace3diskr.html#cb53-51" tabindex="-1"></a>    n <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb53-52"><a href="simulace3diskr.html#cb53-52" tabindex="-1"></a>    <span class="co"># vektor casu ekvidistantni na intervalu [0, 6]</span></span>
<span id="cb53-53"><a href="simulace3diskr.html#cb53-53" tabindex="-1"></a>    t <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">6</span>, <span class="at">length =</span> <span class="dv">51</span>)</span>
<span id="cb53-54"><a href="simulace3diskr.html#cb53-54" tabindex="-1"></a>    </span>
<span id="cb53-55"><a href="simulace3diskr.html#cb53-55" tabindex="-1"></a>    <span class="co"># pro Y = 0</span></span>
<span id="cb53-56"><a href="simulace3diskr.html#cb53-56" tabindex="-1"></a>    X0 <span class="ot">&lt;-</span> <span class="fu">generate_values</span>(t, funkce_0, n, <span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb53-57"><a href="simulace3diskr.html#cb53-57" tabindex="-1"></a>    <span class="co"># pro Y = 1</span></span>
<span id="cb53-58"><a href="simulace3diskr.html#cb53-58" tabindex="-1"></a>    X1 <span class="ot">&lt;-</span> <span class="fu">generate_values</span>(t, funkce_1, n, <span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb53-59"><a href="simulace3diskr.html#cb53-59" tabindex="-1"></a>    </span>
<span id="cb53-60"><a href="simulace3diskr.html#cb53-60" tabindex="-1"></a>    rangeval <span class="ot">&lt;-</span> <span class="fu">range</span>(t)</span>
<span id="cb53-61"><a href="simulace3diskr.html#cb53-61" tabindex="-1"></a>    breaks <span class="ot">&lt;-</span> t</span>
<span id="cb53-62"><a href="simulace3diskr.html#cb53-62" tabindex="-1"></a>    norder <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb53-63"><a href="simulace3diskr.html#cb53-63" tabindex="-1"></a>    </span>
<span id="cb53-64"><a href="simulace3diskr.html#cb53-64" tabindex="-1"></a>    bbasis <span class="ot">&lt;-</span> <span class="fu">create.bspline.basis</span>(<span class="at">rangeval =</span> rangeval, </span>
<span id="cb53-65"><a href="simulace3diskr.html#cb53-65" tabindex="-1"></a>                                   <span class="at">norder =</span> norder, </span>
<span id="cb53-66"><a href="simulace3diskr.html#cb53-66" tabindex="-1"></a>                                   <span class="at">breaks =</span> breaks)</span>
<span id="cb53-67"><a href="simulace3diskr.html#cb53-67" tabindex="-1"></a>    </span>
<span id="cb53-68"><a href="simulace3diskr.html#cb53-68" tabindex="-1"></a>    curv.Lfd <span class="ot">&lt;-</span> <span class="fu">int2Lfd</span>(<span class="dv">2</span>) </span>
<span id="cb53-69"><a href="simulace3diskr.html#cb53-69" tabindex="-1"></a>    <span class="co"># spojeni pozorovani do jedne matice</span></span>
<span id="cb53-70"><a href="simulace3diskr.html#cb53-70" tabindex="-1"></a>    XX <span class="ot">&lt;-</span> <span class="fu">cbind</span>(X0, X1)</span>
<span id="cb53-71"><a href="simulace3diskr.html#cb53-71" tabindex="-1"></a>    </span>
<span id="cb53-72"><a href="simulace3diskr.html#cb53-72" tabindex="-1"></a>    lambda.vect <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">^</span><span class="fu">seq</span>(<span class="at">from =</span> <span class="sc">-</span><span class="dv">4</span>, <span class="at">to =</span> <span class="dv">2</span>, <span class="at">length.out =</span> <span class="dv">40</span>) <span class="co"># vektor lambd</span></span>
<span id="cb53-73"><a href="simulace3diskr.html#cb53-73" tabindex="-1"></a>    gcv <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="at">length =</span> <span class="fu">length</span>(lambda.vect)) <span class="co"># prazdny vektor pro ulozebi GCV</span></span>
<span id="cb53-74"><a href="simulace3diskr.html#cb53-74" tabindex="-1"></a>    </span>
<span id="cb53-75"><a href="simulace3diskr.html#cb53-75" tabindex="-1"></a>    <span class="cf">for</span>(index <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(lambda.vect)) {</span>
<span id="cb53-76"><a href="simulace3diskr.html#cb53-76" tabindex="-1"></a>      curv.Fdpar <span class="ot">&lt;-</span> <span class="fu">fdPar</span>(bbasis, curv.Lfd, lambda.vect[index])</span>
<span id="cb53-77"><a href="simulace3diskr.html#cb53-77" tabindex="-1"></a>      BSmooth <span class="ot">&lt;-</span> <span class="fu">smooth.basis</span>(t, XX, curv.Fdpar) <span class="co"># vyhlazeni</span></span>
<span id="cb53-78"><a href="simulace3diskr.html#cb53-78" tabindex="-1"></a>      gcv[index] <span class="ot">&lt;-</span> <span class="fu">mean</span>(BSmooth<span class="sc">$</span>gcv) <span class="co"># prumer pres vsechny pozorovane krivky</span></span>
<span id="cb53-79"><a href="simulace3diskr.html#cb53-79" tabindex="-1"></a>    }</span>
<span id="cb53-80"><a href="simulace3diskr.html#cb53-80" tabindex="-1"></a>    </span>
<span id="cb53-81"><a href="simulace3diskr.html#cb53-81" tabindex="-1"></a>    GCV <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb53-82"><a href="simulace3diskr.html#cb53-82" tabindex="-1"></a>      <span class="at">lambda =</span> <span class="fu">round</span>(<span class="fu">log10</span>(lambda.vect), <span class="dv">3</span>),</span>
<span id="cb53-83"><a href="simulace3diskr.html#cb53-83" tabindex="-1"></a>      <span class="at">GCV =</span> gcv</span>
<span id="cb53-84"><a href="simulace3diskr.html#cb53-84" tabindex="-1"></a>    )</span>
<span id="cb53-85"><a href="simulace3diskr.html#cb53-85" tabindex="-1"></a>    </span>
<span id="cb53-86"><a href="simulace3diskr.html#cb53-86" tabindex="-1"></a>    <span class="co"># najdeme hodnotu minima</span></span>
<span id="cb53-87"><a href="simulace3diskr.html#cb53-87" tabindex="-1"></a>    lambda.opt <span class="ot">&lt;-</span> lambda.vect[<span class="fu">which.min</span>(gcv)]</span>
<span id="cb53-88"><a href="simulace3diskr.html#cb53-88" tabindex="-1"></a>    </span>
<span id="cb53-89"><a href="simulace3diskr.html#cb53-89" tabindex="-1"></a>    curv.fdPar <span class="ot">&lt;-</span> <span class="fu">fdPar</span>(bbasis, curv.Lfd, lambda.opt)</span>
<span id="cb53-90"><a href="simulace3diskr.html#cb53-90" tabindex="-1"></a>    BSmooth <span class="ot">&lt;-</span> <span class="fu">smooth.basis</span>(t, XX, curv.fdPar)</span>
<span id="cb53-91"><a href="simulace3diskr.html#cb53-91" tabindex="-1"></a>    XXfd <span class="ot">&lt;-</span> BSmooth<span class="sc">$</span>fd</span>
<span id="cb53-92"><a href="simulace3diskr.html#cb53-92" tabindex="-1"></a>    </span>
<span id="cb53-93"><a href="simulace3diskr.html#cb53-93" tabindex="-1"></a>    fdobjSmootheval <span class="ot">&lt;-</span> <span class="fu">eval.fd</span>(<span class="at">fdobj =</span> XXfd, <span class="at">evalarg =</span> t)</span>
<span id="cb53-94"><a href="simulace3diskr.html#cb53-94" tabindex="-1"></a>    </span>
<span id="cb53-95"><a href="simulace3diskr.html#cb53-95" tabindex="-1"></a>    <span class="co"># rozdeleni na testovaci a trenovaci cast</span></span>
<span id="cb53-96"><a href="simulace3diskr.html#cb53-96" tabindex="-1"></a>    split <span class="ot">&lt;-</span> <span class="fu">sample.split</span>(XXfd<span class="sc">$</span>fdnames<span class="sc">$</span>reps, <span class="at">SplitRatio =</span> <span class="fl">0.7</span>)</span>
<span id="cb53-97"><a href="simulace3diskr.html#cb53-97" tabindex="-1"></a>    </span>
<span id="cb53-98"><a href="simulace3diskr.html#cb53-98" tabindex="-1"></a>    Y <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">each =</span> n)</span>
<span id="cb53-99"><a href="simulace3diskr.html#cb53-99" tabindex="-1"></a>    </span>
<span id="cb53-100"><a href="simulace3diskr.html#cb53-100" tabindex="-1"></a>    X.train <span class="ot">&lt;-</span> <span class="fu">subset</span>(XXfd, split <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb53-101"><a href="simulace3diskr.html#cb53-101" tabindex="-1"></a>    X.test <span class="ot">&lt;-</span> <span class="fu">subset</span>(XXfd, split <span class="sc">==</span> <span class="cn">FALSE</span>)</span>
<span id="cb53-102"><a href="simulace3diskr.html#cb53-102" tabindex="-1"></a>    </span>
<span id="cb53-103"><a href="simulace3diskr.html#cb53-103" tabindex="-1"></a>    Y.train <span class="ot">&lt;-</span> <span class="fu">subset</span>(Y, split <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb53-104"><a href="simulace3diskr.html#cb53-104" tabindex="-1"></a>    Y.test <span class="ot">&lt;-</span> <span class="fu">subset</span>(Y, split <span class="sc">==</span> <span class="cn">FALSE</span>)</span>
<span id="cb53-105"><a href="simulace3diskr.html#cb53-105" tabindex="-1"></a>    </span>
<span id="cb53-106"><a href="simulace3diskr.html#cb53-106" tabindex="-1"></a>    x.train <span class="ot">&lt;-</span> <span class="fu">fdata</span>(X.train)</span>
<span id="cb53-107"><a href="simulace3diskr.html#cb53-107" tabindex="-1"></a>    y.train <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">factor</span>(Y.train))</span>
<span id="cb53-108"><a href="simulace3diskr.html#cb53-108" tabindex="-1"></a>    </span>
<span id="cb53-109"><a href="simulace3diskr.html#cb53-109" tabindex="-1"></a>    <span class="do">## 1) Rozhodovací stromy</span></span>
<span id="cb53-110"><a href="simulace3diskr.html#cb53-110" tabindex="-1"></a>    </span>
<span id="cb53-111"><a href="simulace3diskr.html#cb53-111" tabindex="-1"></a>    <span class="co"># posloupnost bodu, ve kterych funkce vyhodnotime</span></span>
<span id="cb53-112"><a href="simulace3diskr.html#cb53-112" tabindex="-1"></a>    t.seq <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">6</span>, <span class="at">length =</span> p_vector[n_p])</span>
<span id="cb53-113"><a href="simulace3diskr.html#cb53-113" tabindex="-1"></a>       </span>
<span id="cb53-114"><a href="simulace3diskr.html#cb53-114" tabindex="-1"></a>    grid.data <span class="ot">&lt;-</span> <span class="fu">eval.fd</span>(<span class="at">fdobj =</span> X.train, <span class="at">evalarg =</span> t.seq)</span>
<span id="cb53-115"><a href="simulace3diskr.html#cb53-115" tabindex="-1"></a>    grid.data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(grid.data)) <span class="co"># transpozice kvuli funkcim v radku</span></span>
<span id="cb53-116"><a href="simulace3diskr.html#cb53-116" tabindex="-1"></a>    grid.data<span class="sc">$</span>Y <span class="ot">&lt;-</span> Y.train <span class="sc">|&gt;</span> <span class="fu">factor</span>()</span>
<span id="cb53-117"><a href="simulace3diskr.html#cb53-117" tabindex="-1"></a>    </span>
<span id="cb53-118"><a href="simulace3diskr.html#cb53-118" tabindex="-1"></a>    grid.data.test <span class="ot">&lt;-</span> <span class="fu">eval.fd</span>(<span class="at">fdobj =</span> X.test, <span class="at">evalarg =</span> t.seq)</span>
<span id="cb53-119"><a href="simulace3diskr.html#cb53-119" tabindex="-1"></a>    grid.data.test <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(grid.data.test))</span>
<span id="cb53-120"><a href="simulace3diskr.html#cb53-120" tabindex="-1"></a>    grid.data.test<span class="sc">$</span>Y <span class="ot">&lt;-</span> Y.test <span class="sc">|&gt;</span> <span class="fu">factor</span>()</span>
<span id="cb53-121"><a href="simulace3diskr.html#cb53-121" tabindex="-1"></a>    </span>
<span id="cb53-122"><a href="simulace3diskr.html#cb53-122" tabindex="-1"></a>    <span class="co"># sestrojeni modelu</span></span>
<span id="cb53-123"><a href="simulace3diskr.html#cb53-123" tabindex="-1"></a>    <span class="co"># start_time &lt;- Sys.time()</span></span>
<span id="cb53-124"><a href="simulace3diskr.html#cb53-124" tabindex="-1"></a>    <span class="co"># clf.tree &lt;- train(Y ~ ., data = grid.data, </span></span>
<span id="cb53-125"><a href="simulace3diskr.html#cb53-125" tabindex="-1"></a>    <span class="co">#                  method = &quot;rpart&quot;, </span></span>
<span id="cb53-126"><a href="simulace3diskr.html#cb53-126" tabindex="-1"></a>    <span class="co">#                  trControl = trainControl(method = &quot;CV&quot;, number = 10),</span></span>
<span id="cb53-127"><a href="simulace3diskr.html#cb53-127" tabindex="-1"></a>    <span class="co">#                  metric = &quot;Accuracy&quot;)</span></span>
<span id="cb53-128"><a href="simulace3diskr.html#cb53-128" tabindex="-1"></a>    <span class="co"># end_time &lt;- Sys.time()</span></span>
<span id="cb53-129"><a href="simulace3diskr.html#cb53-129" tabindex="-1"></a>    <span class="co"># duration &lt;- end_time - start_time</span></span>
<span id="cb53-130"><a href="simulace3diskr.html#cb53-130" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-131"><a href="simulace3diskr.html#cb53-131" tabindex="-1"></a>    <span class="co"># # presnost na trenovacich datech</span></span>
<span id="cb53-132"><a href="simulace3diskr.html#cb53-132" tabindex="-1"></a>    <span class="co"># predictions.train &lt;- predict(clf.tree, newdata = grid.data)</span></span>
<span id="cb53-133"><a href="simulace3diskr.html#cb53-133" tabindex="-1"></a>    <span class="co"># presnost.train &lt;- table(Y.train, predictions.train) |&gt;</span></span>
<span id="cb53-134"><a href="simulace3diskr.html#cb53-134" tabindex="-1"></a>    <span class="co">#   prop.table() |&gt; diag() |&gt; sum()</span></span>
<span id="cb53-135"><a href="simulace3diskr.html#cb53-135" tabindex="-1"></a>    <span class="co">#   </span></span>
<span id="cb53-136"><a href="simulace3diskr.html#cb53-136" tabindex="-1"></a>    <span class="co"># # presnost na trenovacich datech</span></span>
<span id="cb53-137"><a href="simulace3diskr.html#cb53-137" tabindex="-1"></a>    <span class="co"># predictions.test &lt;- predict(clf.tree, newdata = grid.data.test)</span></span>
<span id="cb53-138"><a href="simulace3diskr.html#cb53-138" tabindex="-1"></a>    <span class="co"># presnost.test &lt;- table(Y.test, predictions.test) |&gt;</span></span>
<span id="cb53-139"><a href="simulace3diskr.html#cb53-139" tabindex="-1"></a>    <span class="co">#   prop.table() |&gt; diag() |&gt; sum()</span></span>
<span id="cb53-140"><a href="simulace3diskr.html#cb53-140" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-141"><a href="simulace3diskr.html#cb53-141" tabindex="-1"></a>    <span class="co"># RESULTS &lt;- data.frame(model = &#39;Tree_discr&#39;, </span></span>
<span id="cb53-142"><a href="simulace3diskr.html#cb53-142" tabindex="-1"></a>    <span class="co">#                   Err.train = 1 - presnost.train,</span></span>
<span id="cb53-143"><a href="simulace3diskr.html#cb53-143" tabindex="-1"></a>    <span class="co">#                   Err.test = 1 - presnost.test,</span></span>
<span id="cb53-144"><a href="simulace3diskr.html#cb53-144" tabindex="-1"></a>    <span class="co">#                   Duration = as.numeric(duration))</span></span>
<span id="cb53-145"><a href="simulace3diskr.html#cb53-145" tabindex="-1"></a>    </span>
<span id="cb53-146"><a href="simulace3diskr.html#cb53-146" tabindex="-1"></a>    <span class="do">## 2) Náhodné lesy</span></span>
<span id="cb53-147"><a href="simulace3diskr.html#cb53-147" tabindex="-1"></a>  </span>
<span id="cb53-148"><a href="simulace3diskr.html#cb53-148" tabindex="-1"></a>    <span class="co"># sestrojeni modelu</span></span>
<span id="cb53-149"><a href="simulace3diskr.html#cb53-149" tabindex="-1"></a>    start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb53-150"><a href="simulace3diskr.html#cb53-150" tabindex="-1"></a>    clf.RF <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(Y <span class="sc">~</span> ., <span class="at">data =</span> grid.data, </span>
<span id="cb53-151"><a href="simulace3diskr.html#cb53-151" tabindex="-1"></a>                           <span class="at">ntree =</span> <span class="dv">500</span>, <span class="co"># pocet stromu</span></span>
<span id="cb53-152"><a href="simulace3diskr.html#cb53-152" tabindex="-1"></a>                           <span class="at">importance =</span> <span class="cn">TRUE</span>,</span>
<span id="cb53-153"><a href="simulace3diskr.html#cb53-153" tabindex="-1"></a>                           <span class="at">nodesize =</span> <span class="dv">5</span>)</span>
<span id="cb53-154"><a href="simulace3diskr.html#cb53-154" tabindex="-1"></a>    end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb53-155"><a href="simulace3diskr.html#cb53-155" tabindex="-1"></a>    duration <span class="ot">&lt;-</span> end_time <span class="sc">-</span> start_time</span>
<span id="cb53-156"><a href="simulace3diskr.html#cb53-156" tabindex="-1"></a>    </span>
<span id="cb53-157"><a href="simulace3diskr.html#cb53-157" tabindex="-1"></a>    <span class="co"># presnost na trenovacich datech</span></span>
<span id="cb53-158"><a href="simulace3diskr.html#cb53-158" tabindex="-1"></a>    predictions.train <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.RF, <span class="at">newdata =</span> grid.data)</span>
<span id="cb53-159"><a href="simulace3diskr.html#cb53-159" tabindex="-1"></a>    presnost.train <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.train, predictions.train) <span class="sc">|&gt;</span></span>
<span id="cb53-160"><a href="simulace3diskr.html#cb53-160" tabindex="-1"></a>      <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb53-161"><a href="simulace3diskr.html#cb53-161" tabindex="-1"></a>      </span>
<span id="cb53-162"><a href="simulace3diskr.html#cb53-162" tabindex="-1"></a>    <span class="co"># presnost na trenovacich datech</span></span>
<span id="cb53-163"><a href="simulace3diskr.html#cb53-163" tabindex="-1"></a>    predictions.test <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.RF, <span class="at">newdata =</span> grid.data.test)</span>
<span id="cb53-164"><a href="simulace3diskr.html#cb53-164" tabindex="-1"></a>    presnost.test <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.test, predictions.test) <span class="sc">|&gt;</span></span>
<span id="cb53-165"><a href="simulace3diskr.html#cb53-165" tabindex="-1"></a>      <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb53-166"><a href="simulace3diskr.html#cb53-166" tabindex="-1"></a>    </span>
<span id="cb53-167"><a href="simulace3diskr.html#cb53-167" tabindex="-1"></a>    RESULTS <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">model =</span> <span class="st">&#39;RF_discr&#39;</span>, </span>
<span id="cb53-168"><a href="simulace3diskr.html#cb53-168" tabindex="-1"></a>                      <span class="at">Err.train =</span> <span class="dv">1</span> <span class="sc">-</span> presnost.train,</span>
<span id="cb53-169"><a href="simulace3diskr.html#cb53-169" tabindex="-1"></a>                      <span class="at">Err.test =</span> <span class="dv">1</span> <span class="sc">-</span> presnost.test,</span>
<span id="cb53-170"><a href="simulace3diskr.html#cb53-170" tabindex="-1"></a>                      <span class="at">Duration =</span> <span class="fu">as.numeric</span>(duration))</span>
<span id="cb53-171"><a href="simulace3diskr.html#cb53-171" tabindex="-1"></a>    </span>
<span id="cb53-172"><a href="simulace3diskr.html#cb53-172" tabindex="-1"></a>    <span class="co"># RESULTS &lt;- rbind(RESULTS, Res)</span></span>
<span id="cb53-173"><a href="simulace3diskr.html#cb53-173" tabindex="-1"></a>    </span>
<span id="cb53-174"><a href="simulace3diskr.html#cb53-174" tabindex="-1"></a>    <span class="do">## 3) SVM</span></span>
<span id="cb53-175"><a href="simulace3diskr.html#cb53-175" tabindex="-1"></a>    </span>
<span id="cb53-176"><a href="simulace3diskr.html#cb53-176" tabindex="-1"></a>    <span class="co"># normovani dat</span></span>
<span id="cb53-177"><a href="simulace3diskr.html#cb53-177" tabindex="-1"></a>    norms <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb53-178"><a href="simulace3diskr.html#cb53-178" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">dim</span>(XXfd<span class="sc">$</span>coefs)[<span class="dv">2</span>]) {</span>
<span id="cb53-179"><a href="simulace3diskr.html#cb53-179" tabindex="-1"></a>      norms <span class="ot">&lt;-</span> <span class="fu">c</span>(norms, <span class="fu">as.numeric</span>(<span class="dv">1</span> <span class="sc">/</span> <span class="fu">norm.fd</span>(XXfd[i])))</span>
<span id="cb53-180"><a href="simulace3diskr.html#cb53-180" tabindex="-1"></a>      }</span>
<span id="cb53-181"><a href="simulace3diskr.html#cb53-181" tabindex="-1"></a>    XXfd_norm <span class="ot">&lt;-</span> XXfd </span>
<span id="cb53-182"><a href="simulace3diskr.html#cb53-182" tabindex="-1"></a>    XXfd_norm<span class="sc">$</span>coefs <span class="ot">&lt;-</span> XXfd_norm<span class="sc">$</span>coefs <span class="sc">*</span> <span class="fu">matrix</span>(norms, </span>
<span id="cb53-183"><a href="simulace3diskr.html#cb53-183" tabindex="-1"></a>                                                <span class="at">ncol =</span> <span class="fu">dim</span>(XXfd<span class="sc">$</span>coefs)[<span class="dv">2</span>],</span>
<span id="cb53-184"><a href="simulace3diskr.html#cb53-184" tabindex="-1"></a>                                                <span class="at">nrow =</span> <span class="fu">dim</span>(XXfd<span class="sc">$</span>coefs)[<span class="dv">1</span>],</span>
<span id="cb53-185"><a href="simulace3diskr.html#cb53-185" tabindex="-1"></a>                                                <span class="at">byrow =</span> T)</span>
<span id="cb53-186"><a href="simulace3diskr.html#cb53-186" tabindex="-1"></a>    </span>
<span id="cb53-187"><a href="simulace3diskr.html#cb53-187" tabindex="-1"></a>    <span class="co"># rozdeleni na testovaci a trenovaci cast</span></span>
<span id="cb53-188"><a href="simulace3diskr.html#cb53-188" tabindex="-1"></a>    X.train_norm <span class="ot">&lt;-</span> <span class="fu">subset</span>(XXfd_norm, split <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb53-189"><a href="simulace3diskr.html#cb53-189" tabindex="-1"></a>    X.test_norm <span class="ot">&lt;-</span> <span class="fu">subset</span>(XXfd_norm, split <span class="sc">==</span> <span class="cn">FALSE</span>)</span>
<span id="cb53-190"><a href="simulace3diskr.html#cb53-190" tabindex="-1"></a>    </span>
<span id="cb53-191"><a href="simulace3diskr.html#cb53-191" tabindex="-1"></a>    Y.train_norm <span class="ot">&lt;-</span> <span class="fu">subset</span>(Y, split <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb53-192"><a href="simulace3diskr.html#cb53-192" tabindex="-1"></a>    Y.test_norm <span class="ot">&lt;-</span> <span class="fu">subset</span>(Y, split <span class="sc">==</span> <span class="cn">FALSE</span>)</span>
<span id="cb53-193"><a href="simulace3diskr.html#cb53-193" tabindex="-1"></a>    </span>
<span id="cb53-194"><a href="simulace3diskr.html#cb53-194" tabindex="-1"></a>    grid.data <span class="ot">&lt;-</span> <span class="fu">eval.fd</span>(<span class="at">fdobj =</span> X.train_norm, <span class="at">evalarg =</span> t.seq)</span>
<span id="cb53-195"><a href="simulace3diskr.html#cb53-195" tabindex="-1"></a>    grid.data <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(grid.data)) </span>
<span id="cb53-196"><a href="simulace3diskr.html#cb53-196" tabindex="-1"></a>    grid.data<span class="sc">$</span>Y <span class="ot">&lt;-</span> Y.train_norm <span class="sc">|&gt;</span> <span class="fu">factor</span>()</span>
<span id="cb53-197"><a href="simulace3diskr.html#cb53-197" tabindex="-1"></a>    </span>
<span id="cb53-198"><a href="simulace3diskr.html#cb53-198" tabindex="-1"></a>    grid.data.test <span class="ot">&lt;-</span> <span class="fu">eval.fd</span>(<span class="at">fdobj =</span> X.test_norm, <span class="at">evalarg =</span> t.seq)</span>
<span id="cb53-199"><a href="simulace3diskr.html#cb53-199" tabindex="-1"></a>    grid.data.test <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(grid.data.test))</span>
<span id="cb53-200"><a href="simulace3diskr.html#cb53-200" tabindex="-1"></a>    grid.data.test<span class="sc">$</span>Y <span class="ot">&lt;-</span> Y.test_norm <span class="sc">|&gt;</span> <span class="fu">factor</span>()</span>
<span id="cb53-201"><a href="simulace3diskr.html#cb53-201" tabindex="-1"></a>    </span>
<span id="cb53-202"><a href="simulace3diskr.html#cb53-202" tabindex="-1"></a>    start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb53-203"><a href="simulace3diskr.html#cb53-203" tabindex="-1"></a>    clf.SVM.l <span class="ot">&lt;-</span> <span class="fu">svm</span>(Y <span class="sc">~</span> ., <span class="at">data =</span> grid.data,</span>
<span id="cb53-204"><a href="simulace3diskr.html#cb53-204" tabindex="-1"></a>                     <span class="at">type =</span> <span class="st">&#39;C-classification&#39;</span>,</span>
<span id="cb53-205"><a href="simulace3diskr.html#cb53-205" tabindex="-1"></a>                     <span class="at">scale =</span> <span class="cn">TRUE</span>,</span>
<span id="cb53-206"><a href="simulace3diskr.html#cb53-206" tabindex="-1"></a>                     <span class="at">cost =</span> <span class="dv">100</span>,</span>
<span id="cb53-207"><a href="simulace3diskr.html#cb53-207" tabindex="-1"></a>                     <span class="at">kernel =</span> <span class="st">&#39;linear&#39;</span>)</span>
<span id="cb53-208"><a href="simulace3diskr.html#cb53-208" tabindex="-1"></a>    end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb53-209"><a href="simulace3diskr.html#cb53-209" tabindex="-1"></a></span>
<span id="cb53-210"><a href="simulace3diskr.html#cb53-210" tabindex="-1"></a>    duration.l <span class="ot">&lt;-</span> end_time <span class="sc">-</span> start_time</span>
<span id="cb53-211"><a href="simulace3diskr.html#cb53-211" tabindex="-1"></a></span>
<span id="cb53-212"><a href="simulace3diskr.html#cb53-212" tabindex="-1"></a>    start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb53-213"><a href="simulace3diskr.html#cb53-213" tabindex="-1"></a>    clf.SVM.p <span class="ot">&lt;-</span> <span class="fu">svm</span>(Y <span class="sc">~</span> ., <span class="at">data =</span> grid.data,</span>
<span id="cb53-214"><a href="simulace3diskr.html#cb53-214" tabindex="-1"></a>                     <span class="at">type =</span> <span class="st">&#39;C-classification&#39;</span>,</span>
<span id="cb53-215"><a href="simulace3diskr.html#cb53-215" tabindex="-1"></a>                     <span class="at">scale =</span> <span class="cn">TRUE</span>,</span>
<span id="cb53-216"><a href="simulace3diskr.html#cb53-216" tabindex="-1"></a>                     <span class="at">coef0 =</span> <span class="dv">1</span>,</span>
<span id="cb53-217"><a href="simulace3diskr.html#cb53-217" tabindex="-1"></a>                     <span class="at">cost =</span> <span class="dv">100</span>,</span>
<span id="cb53-218"><a href="simulace3diskr.html#cb53-218" tabindex="-1"></a>                     <span class="at">kernel =</span> <span class="st">&#39;polynomial&#39;</span>)</span>
<span id="cb53-219"><a href="simulace3diskr.html#cb53-219" tabindex="-1"></a>    end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb53-220"><a href="simulace3diskr.html#cb53-220" tabindex="-1"></a></span>
<span id="cb53-221"><a href="simulace3diskr.html#cb53-221" tabindex="-1"></a>    duration.p <span class="ot">&lt;-</span> end_time <span class="sc">-</span> start_time</span>
<span id="cb53-222"><a href="simulace3diskr.html#cb53-222" tabindex="-1"></a></span>
<span id="cb53-223"><a href="simulace3diskr.html#cb53-223" tabindex="-1"></a>    start_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb53-224"><a href="simulace3diskr.html#cb53-224" tabindex="-1"></a>    clf.SVM.r <span class="ot">&lt;-</span> <span class="fu">svm</span>(Y <span class="sc">~</span> ., <span class="at">data =</span> grid.data,</span>
<span id="cb53-225"><a href="simulace3diskr.html#cb53-225" tabindex="-1"></a>                     <span class="at">type =</span> <span class="st">&#39;C-classification&#39;</span>,</span>
<span id="cb53-226"><a href="simulace3diskr.html#cb53-226" tabindex="-1"></a>                     <span class="at">scale =</span> <span class="cn">TRUE</span>,</span>
<span id="cb53-227"><a href="simulace3diskr.html#cb53-227" tabindex="-1"></a>                     <span class="at">cost =</span> <span class="dv">100000</span>,</span>
<span id="cb53-228"><a href="simulace3diskr.html#cb53-228" tabindex="-1"></a>                     <span class="at">gamma =</span> <span class="fl">0.0001</span>,</span>
<span id="cb53-229"><a href="simulace3diskr.html#cb53-229" tabindex="-1"></a>                     <span class="at">kernel =</span> <span class="st">&#39;radial&#39;</span>)</span>
<span id="cb53-230"><a href="simulace3diskr.html#cb53-230" tabindex="-1"></a>    end_time <span class="ot">&lt;-</span> <span class="fu">Sys.time</span>()</span>
<span id="cb53-231"><a href="simulace3diskr.html#cb53-231" tabindex="-1"></a></span>
<span id="cb53-232"><a href="simulace3diskr.html#cb53-232" tabindex="-1"></a>    duration.r <span class="ot">&lt;-</span> end_time <span class="sc">-</span> start_time</span>
<span id="cb53-233"><a href="simulace3diskr.html#cb53-233" tabindex="-1"></a></span>
<span id="cb53-234"><a href="simulace3diskr.html#cb53-234" tabindex="-1"></a>    <span class="co"># presnost na trenovacich datech</span></span>
<span id="cb53-235"><a href="simulace3diskr.html#cb53-235" tabindex="-1"></a>    predictions.train.l <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.SVM.l, <span class="at">newdata =</span> grid.data)</span>
<span id="cb53-236"><a href="simulace3diskr.html#cb53-236" tabindex="-1"></a>    presnost.train.l <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.train, predictions.train.l) <span class="sc">|&gt;</span></span>
<span id="cb53-237"><a href="simulace3diskr.html#cb53-237" tabindex="-1"></a>      <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb53-238"><a href="simulace3diskr.html#cb53-238" tabindex="-1"></a></span>
<span id="cb53-239"><a href="simulace3diskr.html#cb53-239" tabindex="-1"></a>    predictions.train.p <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.SVM.p, <span class="at">newdata =</span> grid.data)</span>
<span id="cb53-240"><a href="simulace3diskr.html#cb53-240" tabindex="-1"></a>    presnost.train.p <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.train, predictions.train.p) <span class="sc">|&gt;</span></span>
<span id="cb53-241"><a href="simulace3diskr.html#cb53-241" tabindex="-1"></a>      <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb53-242"><a href="simulace3diskr.html#cb53-242" tabindex="-1"></a></span>
<span id="cb53-243"><a href="simulace3diskr.html#cb53-243" tabindex="-1"></a>    predictions.train.r <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.SVM.r, <span class="at">newdata =</span> grid.data)</span>
<span id="cb53-244"><a href="simulace3diskr.html#cb53-244" tabindex="-1"></a>    presnost.train.r <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.train, predictions.train.r) <span class="sc">|&gt;</span></span>
<span id="cb53-245"><a href="simulace3diskr.html#cb53-245" tabindex="-1"></a>      <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb53-246"><a href="simulace3diskr.html#cb53-246" tabindex="-1"></a></span>
<span id="cb53-247"><a href="simulace3diskr.html#cb53-247" tabindex="-1"></a>    <span class="co"># presnost na testovacich datech</span></span>
<span id="cb53-248"><a href="simulace3diskr.html#cb53-248" tabindex="-1"></a>    predictions.test.l <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.SVM.l, <span class="at">newdata =</span> grid.data.test)</span>
<span id="cb53-249"><a href="simulace3diskr.html#cb53-249" tabindex="-1"></a>    presnost.test.l <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.test, predictions.test.l) <span class="sc">|&gt;</span></span>
<span id="cb53-250"><a href="simulace3diskr.html#cb53-250" tabindex="-1"></a>      <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb53-251"><a href="simulace3diskr.html#cb53-251" tabindex="-1"></a></span>
<span id="cb53-252"><a href="simulace3diskr.html#cb53-252" tabindex="-1"></a>    predictions.test.p <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.SVM.p, <span class="at">newdata =</span> grid.data.test)</span>
<span id="cb53-253"><a href="simulace3diskr.html#cb53-253" tabindex="-1"></a>    presnost.test.p <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.test, predictions.test.p) <span class="sc">|&gt;</span></span>
<span id="cb53-254"><a href="simulace3diskr.html#cb53-254" tabindex="-1"></a>      <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb53-255"><a href="simulace3diskr.html#cb53-255" tabindex="-1"></a></span>
<span id="cb53-256"><a href="simulace3diskr.html#cb53-256" tabindex="-1"></a>    predictions.test.r <span class="ot">&lt;-</span> <span class="fu">predict</span>(clf.SVM.r, <span class="at">newdata =</span> grid.data.test)</span>
<span id="cb53-257"><a href="simulace3diskr.html#cb53-257" tabindex="-1"></a>    presnost.test.r <span class="ot">&lt;-</span> <span class="fu">table</span>(Y.test, predictions.test.r) <span class="sc">|&gt;</span></span>
<span id="cb53-258"><a href="simulace3diskr.html#cb53-258" tabindex="-1"></a>      <span class="fu">prop.table</span>() <span class="sc">|&gt;</span> <span class="fu">diag</span>() <span class="sc">|&gt;</span> <span class="fu">sum</span>()</span>
<span id="cb53-259"><a href="simulace3diskr.html#cb53-259" tabindex="-1"></a>    </span>
<span id="cb53-260"><a href="simulace3diskr.html#cb53-260" tabindex="-1"></a>    <span class="co"># # rozdelime trenovaci data na k casti</span></span>
<span id="cb53-261"><a href="simulace3diskr.html#cb53-261" tabindex="-1"></a>    <span class="co"># k_cv &lt;- 5</span></span>
<span id="cb53-262"><a href="simulace3diskr.html#cb53-262" tabindex="-1"></a>    <span class="co"># folds &lt;- createMultiFolds(1:sum(split), k = k_cv, time = 1)</span></span>
<span id="cb53-263"><a href="simulace3diskr.html#cb53-263" tabindex="-1"></a>    <span class="co"># # kontrola, ze mame opravdu k = k_cv</span></span>
<span id="cb53-264"><a href="simulace3diskr.html#cb53-264" tabindex="-1"></a>    <span class="co"># while (length(folds) != k_cv) {</span></span>
<span id="cb53-265"><a href="simulace3diskr.html#cb53-265" tabindex="-1"></a>    <span class="co">#   folds &lt;- createMultiFolds(1:sum(split), k = k_cv, time = 1)</span></span>
<span id="cb53-266"><a href="simulace3diskr.html#cb53-266" tabindex="-1"></a>    <span class="co"># }</span></span>
<span id="cb53-267"><a href="simulace3diskr.html#cb53-267" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-268"><a href="simulace3diskr.html#cb53-268" tabindex="-1"></a>    <span class="co"># # ktere hodnoty gamma chceme uvazovat</span></span>
<span id="cb53-269"><a href="simulace3diskr.html#cb53-269" tabindex="-1"></a>    <span class="co"># gamma.cv &lt;- 10^seq(-4, 3, length = 8)</span></span>
<span id="cb53-270"><a href="simulace3diskr.html#cb53-270" tabindex="-1"></a>    <span class="co"># C.cv &lt;- 10^seq(-3, 5, length = 9)</span></span>
<span id="cb53-271"><a href="simulace3diskr.html#cb53-271" tabindex="-1"></a>    <span class="co"># p.cv &lt;- 3</span></span>
<span id="cb53-272"><a href="simulace3diskr.html#cb53-272" tabindex="-1"></a>    <span class="co"># coef0 &lt;- 1</span></span>
<span id="cb53-273"><a href="simulace3diskr.html#cb53-273" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-274"><a href="simulace3diskr.html#cb53-274" tabindex="-1"></a>    <span class="co"># # list se tremi slozkami ... array pro jednotlive jadra -&gt; linear, poly, radial</span></span>
<span id="cb53-275"><a href="simulace3diskr.html#cb53-275" tabindex="-1"></a>    <span class="co"># # prazdna matice, do ktere vlozime jednotlive vysledky</span></span>
<span id="cb53-276"><a href="simulace3diskr.html#cb53-276" tabindex="-1"></a>    <span class="co"># # ve sloupcich budou hodnoty presnosti pro dane</span></span>
<span id="cb53-277"><a href="simulace3diskr.html#cb53-277" tabindex="-1"></a>    <span class="co"># # v radcich budou hodnoty pro danou gamma a vrstvy odpovidaji folds</span></span>
<span id="cb53-278"><a href="simulace3diskr.html#cb53-278" tabindex="-1"></a>    <span class="co"># CV.results &lt;- list(</span></span>
<span id="cb53-279"><a href="simulace3diskr.html#cb53-279" tabindex="-1"></a>    <span class="co">#   SVM.l = array(NA, dim = c(length(C.cv), k_cv)),</span></span>
<span id="cb53-280"><a href="simulace3diskr.html#cb53-280" tabindex="-1"></a>    <span class="co">#   SVM.p = array(NA, dim = c(length(C.cv), length(p.cv), k_cv)),</span></span>
<span id="cb53-281"><a href="simulace3diskr.html#cb53-281" tabindex="-1"></a>    <span class="co">#   SVM.r = array(NA, dim = c(length(C.cv), length(gamma.cv), k_cv))</span></span>
<span id="cb53-282"><a href="simulace3diskr.html#cb53-282" tabindex="-1"></a>    <span class="co"># )</span></span>
<span id="cb53-283"><a href="simulace3diskr.html#cb53-283" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-284"><a href="simulace3diskr.html#cb53-284" tabindex="-1"></a>    <span class="co"># # nejprve projdeme hodnoty C</span></span>
<span id="cb53-285"><a href="simulace3diskr.html#cb53-285" tabindex="-1"></a>    <span class="co"># for (C in C.cv) {</span></span>
<span id="cb53-286"><a href="simulace3diskr.html#cb53-286" tabindex="-1"></a>    <span class="co">#   # projdeme jednotlive folds</span></span>
<span id="cb53-287"><a href="simulace3diskr.html#cb53-287" tabindex="-1"></a>    <span class="co">#   for (index_cv in 1:k_cv) {</span></span>
<span id="cb53-288"><a href="simulace3diskr.html#cb53-288" tabindex="-1"></a>    <span class="co">#     # definice testovaci a trenovaci casti pro CV</span></span>
<span id="cb53-289"><a href="simulace3diskr.html#cb53-289" tabindex="-1"></a>    <span class="co">#     fold &lt;- folds[[index_cv]]</span></span>
<span id="cb53-290"><a href="simulace3diskr.html#cb53-290" tabindex="-1"></a>    <span class="co">#     cv_sample &lt;- 1:dim(grid.data)[1] %in% fold</span></span>
<span id="cb53-291"><a href="simulace3diskr.html#cb53-291" tabindex="-1"></a>    <span class="co">#     </span></span>
<span id="cb53-292"><a href="simulace3diskr.html#cb53-292" tabindex="-1"></a>    <span class="co">#     data.grid.train.cv &lt;- as.data.frame(grid.data[cv_sample, ])</span></span>
<span id="cb53-293"><a href="simulace3diskr.html#cb53-293" tabindex="-1"></a>    <span class="co">#     data.grid.test.cv &lt;- as.data.frame(grid.data[!cv_sample, ])</span></span>
<span id="cb53-294"><a href="simulace3diskr.html#cb53-294" tabindex="-1"></a>    <span class="co">#     </span></span>
<span id="cb53-295"><a href="simulace3diskr.html#cb53-295" tabindex="-1"></a>    <span class="co">#     ## LINEARNI JADRO</span></span>
<span id="cb53-296"><a href="simulace3diskr.html#cb53-296" tabindex="-1"></a>    <span class="co">#     # sestrojeni modelu</span></span>
<span id="cb53-297"><a href="simulace3diskr.html#cb53-297" tabindex="-1"></a>    <span class="co">#     clf.SVM.l &lt;- svm(Y ~ ., data = data.grid.train.cv,</span></span>
<span id="cb53-298"><a href="simulace3diskr.html#cb53-298" tabindex="-1"></a>    <span class="co">#                      type = &#39;C-classification&#39;,</span></span>
<span id="cb53-299"><a href="simulace3diskr.html#cb53-299" tabindex="-1"></a>    <span class="co">#                      scale = TRUE,</span></span>
<span id="cb53-300"><a href="simulace3diskr.html#cb53-300" tabindex="-1"></a>    <span class="co">#                      cost = C,</span></span>
<span id="cb53-301"><a href="simulace3diskr.html#cb53-301" tabindex="-1"></a>    <span class="co">#                      kernel = &#39;linear&#39;)</span></span>
<span id="cb53-302"><a href="simulace3diskr.html#cb53-302" tabindex="-1"></a>    <span class="co">#     </span></span>
<span id="cb53-303"><a href="simulace3diskr.html#cb53-303" tabindex="-1"></a>    <span class="co">#     # presnost na validacnich datech</span></span>
<span id="cb53-304"><a href="simulace3diskr.html#cb53-304" tabindex="-1"></a>    <span class="co">#     predictions.test.l &lt;- predict(clf.SVM.l, newdata = data.grid.test.cv)</span></span>
<span id="cb53-305"><a href="simulace3diskr.html#cb53-305" tabindex="-1"></a>    <span class="co">#     presnost.test.l &lt;- table(data.grid.test.cv$Y, predictions.test.l) |&gt;</span></span>
<span id="cb53-306"><a href="simulace3diskr.html#cb53-306" tabindex="-1"></a>    <span class="co">#       prop.table() |&gt; diag() |&gt; sum()</span></span>
<span id="cb53-307"><a href="simulace3diskr.html#cb53-307" tabindex="-1"></a>    <span class="co">#     </span></span>
<span id="cb53-308"><a href="simulace3diskr.html#cb53-308" tabindex="-1"></a>    <span class="co">#     # presnosti vlozime na pozice pro dane C a fold</span></span>
<span id="cb53-309"><a href="simulace3diskr.html#cb53-309" tabindex="-1"></a>    <span class="co">#     CV.results$SVM.l[(1:length(C.cv))[C.cv == C], </span></span>
<span id="cb53-310"><a href="simulace3diskr.html#cb53-310" tabindex="-1"></a>    <span class="co">#                      index_cv] &lt;- presnost.test.l</span></span>
<span id="cb53-311"><a href="simulace3diskr.html#cb53-311" tabindex="-1"></a>    <span class="co">#     </span></span>
<span id="cb53-312"><a href="simulace3diskr.html#cb53-312" tabindex="-1"></a>    <span class="co">#     ## POLYNOMIALNI JADRO</span></span>
<span id="cb53-313"><a href="simulace3diskr.html#cb53-313" tabindex="-1"></a>    <span class="co">#     for (p in p.cv) {</span></span>
<span id="cb53-314"><a href="simulace3diskr.html#cb53-314" tabindex="-1"></a>    <span class="co">#       # sestrojeni modelu</span></span>
<span id="cb53-315"><a href="simulace3diskr.html#cb53-315" tabindex="-1"></a>    <span class="co">#       clf.SVM.p &lt;- svm(Y ~ ., data = data.grid.train.cv,</span></span>
<span id="cb53-316"><a href="simulace3diskr.html#cb53-316" tabindex="-1"></a>    <span class="co">#                        type = &#39;C-classification&#39;,</span></span>
<span id="cb53-317"><a href="simulace3diskr.html#cb53-317" tabindex="-1"></a>    <span class="co">#                        scale = TRUE,</span></span>
<span id="cb53-318"><a href="simulace3diskr.html#cb53-318" tabindex="-1"></a>    <span class="co">#                        cost = C,</span></span>
<span id="cb53-319"><a href="simulace3diskr.html#cb53-319" tabindex="-1"></a>    <span class="co">#                        coef0 = 1,</span></span>
<span id="cb53-320"><a href="simulace3diskr.html#cb53-320" tabindex="-1"></a>    <span class="co">#                        degree = p,</span></span>
<span id="cb53-321"><a href="simulace3diskr.html#cb53-321" tabindex="-1"></a>    <span class="co">#                        kernel = &#39;polynomial&#39;)</span></span>
<span id="cb53-322"><a href="simulace3diskr.html#cb53-322" tabindex="-1"></a>    <span class="co">#       </span></span>
<span id="cb53-323"><a href="simulace3diskr.html#cb53-323" tabindex="-1"></a>    <span class="co">#       # presnost na validacnich datech</span></span>
<span id="cb53-324"><a href="simulace3diskr.html#cb53-324" tabindex="-1"></a>    <span class="co">#       predictions.test.p &lt;- predict(clf.SVM.p, </span></span>
<span id="cb53-325"><a href="simulace3diskr.html#cb53-325" tabindex="-1"></a>    <span class="co">#                                     newdata = data.grid.test.cv)</span></span>
<span id="cb53-326"><a href="simulace3diskr.html#cb53-326" tabindex="-1"></a>    <span class="co">#       presnost.test.p &lt;- table(data.grid.test.cv$Y, predictions.test.p) |&gt;</span></span>
<span id="cb53-327"><a href="simulace3diskr.html#cb53-327" tabindex="-1"></a>    <span class="co">#         prop.table() |&gt; diag() |&gt; sum()</span></span>
<span id="cb53-328"><a href="simulace3diskr.html#cb53-328" tabindex="-1"></a>    <span class="co">#       </span></span>
<span id="cb53-329"><a href="simulace3diskr.html#cb53-329" tabindex="-1"></a>    <span class="co">#       # presnosti vlozime na pozice pro dane C, p a fold</span></span>
<span id="cb53-330"><a href="simulace3diskr.html#cb53-330" tabindex="-1"></a>    <span class="co">#       CV.results$SVM.p[(1:length(C.cv))[C.cv == C], </span></span>
<span id="cb53-331"><a href="simulace3diskr.html#cb53-331" tabindex="-1"></a>    <span class="co">#                        (1:length(p.cv))[p.cv == p],</span></span>
<span id="cb53-332"><a href="simulace3diskr.html#cb53-332" tabindex="-1"></a>    <span class="co">#                        index_cv] &lt;- presnost.test.p</span></span>
<span id="cb53-333"><a href="simulace3diskr.html#cb53-333" tabindex="-1"></a>    <span class="co">#     }</span></span>
<span id="cb53-334"><a href="simulace3diskr.html#cb53-334" tabindex="-1"></a>    <span class="co">#         </span></span>
<span id="cb53-335"><a href="simulace3diskr.html#cb53-335" tabindex="-1"></a>    <span class="co">#     ## RADIALNI JADRO</span></span>
<span id="cb53-336"><a href="simulace3diskr.html#cb53-336" tabindex="-1"></a>    <span class="co">#     for (gamma in gamma.cv) {</span></span>
<span id="cb53-337"><a href="simulace3diskr.html#cb53-337" tabindex="-1"></a>    <span class="co">#       # sestrojeni modelu</span></span>
<span id="cb53-338"><a href="simulace3diskr.html#cb53-338" tabindex="-1"></a>    <span class="co">#       clf.SVM.r &lt;- svm(Y ~ ., data = data.grid.train.cv,</span></span>
<span id="cb53-339"><a href="simulace3diskr.html#cb53-339" tabindex="-1"></a>    <span class="co">#                        type = &#39;C-classification&#39;,</span></span>
<span id="cb53-340"><a href="simulace3diskr.html#cb53-340" tabindex="-1"></a>    <span class="co">#                        scale = TRUE,</span></span>
<span id="cb53-341"><a href="simulace3diskr.html#cb53-341" tabindex="-1"></a>    <span class="co">#                        cost = C,</span></span>
<span id="cb53-342"><a href="simulace3diskr.html#cb53-342" tabindex="-1"></a>    <span class="co">#                        gamma = gamma,</span></span>
<span id="cb53-343"><a href="simulace3diskr.html#cb53-343" tabindex="-1"></a>    <span class="co">#                        kernel = &#39;radial&#39;)</span></span>
<span id="cb53-344"><a href="simulace3diskr.html#cb53-344" tabindex="-1"></a>    <span class="co">#       </span></span>
<span id="cb53-345"><a href="simulace3diskr.html#cb53-345" tabindex="-1"></a>    <span class="co">#       # presnost na validacnich datech</span></span>
<span id="cb53-346"><a href="simulace3diskr.html#cb53-346" tabindex="-1"></a>    <span class="co">#       predictions.test.r &lt;- predict(clf.SVM.r, newdata = data.grid.test.cv)</span></span>
<span id="cb53-347"><a href="simulace3diskr.html#cb53-347" tabindex="-1"></a>    <span class="co">#       presnost.test.r &lt;- table(data.grid.test.cv$Y, predictions.test.r) |&gt;</span></span>
<span id="cb53-348"><a href="simulace3diskr.html#cb53-348" tabindex="-1"></a>    <span class="co">#         prop.table() |&gt; diag() |&gt; sum()</span></span>
<span id="cb53-349"><a href="simulace3diskr.html#cb53-349" tabindex="-1"></a>    <span class="co">#       </span></span>
<span id="cb53-350"><a href="simulace3diskr.html#cb53-350" tabindex="-1"></a>    <span class="co">#       # presnosti vlozime na pozice pro dane C, gamma a fold</span></span>
<span id="cb53-351"><a href="simulace3diskr.html#cb53-351" tabindex="-1"></a>    <span class="co">#       CV.results$SVM.r[(1:length(C.cv))[C.cv == C], </span></span>
<span id="cb53-352"><a href="simulace3diskr.html#cb53-352" tabindex="-1"></a>    <span class="co">#                        (1:length(gamma.cv))[gamma.cv == gamma],</span></span>
<span id="cb53-353"><a href="simulace3diskr.html#cb53-353" tabindex="-1"></a>    <span class="co">#                        index_cv] &lt;- presnost.test.r</span></span>
<span id="cb53-354"><a href="simulace3diskr.html#cb53-354" tabindex="-1"></a>    <span class="co">#     }</span></span>
<span id="cb53-355"><a href="simulace3diskr.html#cb53-355" tabindex="-1"></a>    <span class="co">#   }</span></span>
<span id="cb53-356"><a href="simulace3diskr.html#cb53-356" tabindex="-1"></a>    <span class="co"># }</span></span>
<span id="cb53-357"><a href="simulace3diskr.html#cb53-357" tabindex="-1"></a>    <span class="co"># # spocitame prumerne presnosti pro jednotliva C pres folds</span></span>
<span id="cb53-358"><a href="simulace3diskr.html#cb53-358" tabindex="-1"></a>    <span class="co"># ## Linearni jadro</span></span>
<span id="cb53-359"><a href="simulace3diskr.html#cb53-359" tabindex="-1"></a>    <span class="co"># CV.results$SVM.l &lt;- apply(CV.results$SVM.l, 1, mean)</span></span>
<span id="cb53-360"><a href="simulace3diskr.html#cb53-360" tabindex="-1"></a>    <span class="co"># ## Polynomialni jadro</span></span>
<span id="cb53-361"><a href="simulace3diskr.html#cb53-361" tabindex="-1"></a>    <span class="co"># CV.results$SVM.p &lt;- apply(CV.results$SVM.p, c(1, 2), mean)</span></span>
<span id="cb53-362"><a href="simulace3diskr.html#cb53-362" tabindex="-1"></a>    <span class="co"># ## Radialni jadro</span></span>
<span id="cb53-363"><a href="simulace3diskr.html#cb53-363" tabindex="-1"></a>    <span class="co"># CV.results$SVM.r &lt;- apply(CV.results$SVM.r, c(1, 2), mean)</span></span>
<span id="cb53-364"><a href="simulace3diskr.html#cb53-364" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-365"><a href="simulace3diskr.html#cb53-365" tabindex="-1"></a>    <span class="co"># C.opt &lt;- c(which.max(CV.results$SVM.l), </span></span>
<span id="cb53-366"><a href="simulace3diskr.html#cb53-366" tabindex="-1"></a>    <span class="co">#            which.max(CV.results$SVM.p) %% length(C.cv), </span></span>
<span id="cb53-367"><a href="simulace3diskr.html#cb53-367" tabindex="-1"></a>    <span class="co">#            which.max(CV.results$SVM.r) %% length(C.cv))</span></span>
<span id="cb53-368"><a href="simulace3diskr.html#cb53-368" tabindex="-1"></a>    <span class="co"># C.opt[C.opt == 0] &lt;- length(C.cv)</span></span>
<span id="cb53-369"><a href="simulace3diskr.html#cb53-369" tabindex="-1"></a>    <span class="co"># C.opt &lt;- C.cv[C.opt]</span></span>
<span id="cb53-370"><a href="simulace3diskr.html#cb53-370" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-371"><a href="simulace3diskr.html#cb53-371" tabindex="-1"></a>    <span class="co"># gamma.opt &lt;- which.max(t(CV.results$SVM.r)) %% length(gamma.cv)</span></span>
<span id="cb53-372"><a href="simulace3diskr.html#cb53-372" tabindex="-1"></a>    <span class="co"># gamma.opt[gamma.opt == 0] &lt;- length(gamma.cv)</span></span>
<span id="cb53-373"><a href="simulace3diskr.html#cb53-373" tabindex="-1"></a>    <span class="co"># gamma.opt &lt;- gamma.cv[gamma.opt]</span></span>
<span id="cb53-374"><a href="simulace3diskr.html#cb53-374" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-375"><a href="simulace3diskr.html#cb53-375" tabindex="-1"></a>    <span class="co"># SIMULACE$CV[sim, ] &lt;- c(C.opt, gamma.opt)</span></span>
<span id="cb53-376"><a href="simulace3diskr.html#cb53-376" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-377"><a href="simulace3diskr.html#cb53-377" tabindex="-1"></a>    <span class="co"># # sestrojeni modelu</span></span>
<span id="cb53-378"><a href="simulace3diskr.html#cb53-378" tabindex="-1"></a>    <span class="co"># start_time &lt;- Sys.time()</span></span>
<span id="cb53-379"><a href="simulace3diskr.html#cb53-379" tabindex="-1"></a>    <span class="co"># clf.SVM.l &lt;- svm(Y ~ ., data = grid.data,</span></span>
<span id="cb53-380"><a href="simulace3diskr.html#cb53-380" tabindex="-1"></a>    <span class="co">#                  type = &#39;C-classification&#39;,</span></span>
<span id="cb53-381"><a href="simulace3diskr.html#cb53-381" tabindex="-1"></a>    <span class="co">#                  scale = TRUE,</span></span>
<span id="cb53-382"><a href="simulace3diskr.html#cb53-382" tabindex="-1"></a>    <span class="co">#                  cost = C.opt[1],</span></span>
<span id="cb53-383"><a href="simulace3diskr.html#cb53-383" tabindex="-1"></a>    <span class="co">#                  kernel = &#39;linear&#39;)</span></span>
<span id="cb53-384"><a href="simulace3diskr.html#cb53-384" tabindex="-1"></a>    <span class="co"># end_time &lt;- Sys.time()</span></span>
<span id="cb53-385"><a href="simulace3diskr.html#cb53-385" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-386"><a href="simulace3diskr.html#cb53-386" tabindex="-1"></a>    <span class="co"># duration.l &lt;- end_time - start_time</span></span>
<span id="cb53-387"><a href="simulace3diskr.html#cb53-387" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-388"><a href="simulace3diskr.html#cb53-388" tabindex="-1"></a>    <span class="co"># start_time &lt;- Sys.time()</span></span>
<span id="cb53-389"><a href="simulace3diskr.html#cb53-389" tabindex="-1"></a>    <span class="co"># clf.SVM.p &lt;- svm(Y ~ ., data = grid.data,</span></span>
<span id="cb53-390"><a href="simulace3diskr.html#cb53-390" tabindex="-1"></a>    <span class="co">#                  type = &#39;C-classification&#39;,</span></span>
<span id="cb53-391"><a href="simulace3diskr.html#cb53-391" tabindex="-1"></a>    <span class="co">#                  scale = TRUE,</span></span>
<span id="cb53-392"><a href="simulace3diskr.html#cb53-392" tabindex="-1"></a>    <span class="co">#                  cost = C.opt[2],</span></span>
<span id="cb53-393"><a href="simulace3diskr.html#cb53-393" tabindex="-1"></a>    <span class="co">#                  degree = p.opt,</span></span>
<span id="cb53-394"><a href="simulace3diskr.html#cb53-394" tabindex="-1"></a>    <span class="co">#                  coef0 = 1,</span></span>
<span id="cb53-395"><a href="simulace3diskr.html#cb53-395" tabindex="-1"></a>    <span class="co">#                  kernel = &#39;polynomial&#39;)</span></span>
<span id="cb53-396"><a href="simulace3diskr.html#cb53-396" tabindex="-1"></a>    <span class="co"># end_time &lt;- Sys.time()</span></span>
<span id="cb53-397"><a href="simulace3diskr.html#cb53-397" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-398"><a href="simulace3diskr.html#cb53-398" tabindex="-1"></a>    <span class="co"># duration.p &lt;- end_time - start_time</span></span>
<span id="cb53-399"><a href="simulace3diskr.html#cb53-399" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-400"><a href="simulace3diskr.html#cb53-400" tabindex="-1"></a>    <span class="co"># start_time &lt;- Sys.time()</span></span>
<span id="cb53-401"><a href="simulace3diskr.html#cb53-401" tabindex="-1"></a>    <span class="co"># clf.SVM.r &lt;- svm(Y ~ ., data = grid.data,</span></span>
<span id="cb53-402"><a href="simulace3diskr.html#cb53-402" tabindex="-1"></a>    <span class="co">#                  type = &#39;C-classification&#39;,</span></span>
<span id="cb53-403"><a href="simulace3diskr.html#cb53-403" tabindex="-1"></a>    <span class="co">#                  scale = TRUE, </span></span>
<span id="cb53-404"><a href="simulace3diskr.html#cb53-404" tabindex="-1"></a>    <span class="co">#                  cost = C.opt[3],</span></span>
<span id="cb53-405"><a href="simulace3diskr.html#cb53-405" tabindex="-1"></a>    <span class="co">#                  gamma = gamma.opt,</span></span>
<span id="cb53-406"><a href="simulace3diskr.html#cb53-406" tabindex="-1"></a>    <span class="co">#                  kernel = &#39;radial&#39;)</span></span>
<span id="cb53-407"><a href="simulace3diskr.html#cb53-407" tabindex="-1"></a>    <span class="co"># end_time &lt;- Sys.time()</span></span>
<span id="cb53-408"><a href="simulace3diskr.html#cb53-408" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-409"><a href="simulace3diskr.html#cb53-409" tabindex="-1"></a>    <span class="co"># duration.r &lt;- end_time - start_time</span></span>
<span id="cb53-410"><a href="simulace3diskr.html#cb53-410" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-411"><a href="simulace3diskr.html#cb53-411" tabindex="-1"></a>    <span class="co"># # presnost na trenovacich datech</span></span>
<span id="cb53-412"><a href="simulace3diskr.html#cb53-412" tabindex="-1"></a>    <span class="co"># predictions.train.l &lt;- predict(clf.SVM.l, newdata = grid.data)</span></span>
<span id="cb53-413"><a href="simulace3diskr.html#cb53-413" tabindex="-1"></a>    <span class="co"># presnost.train.l &lt;- table(Y.train, predictions.train.l) |&gt;</span></span>
<span id="cb53-414"><a href="simulace3diskr.html#cb53-414" tabindex="-1"></a>    <span class="co">#   prop.table() |&gt; diag() |&gt; sum()</span></span>
<span id="cb53-415"><a href="simulace3diskr.html#cb53-415" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-416"><a href="simulace3diskr.html#cb53-416" tabindex="-1"></a>    <span class="co"># predictions.train.p &lt;- predict(clf.SVM.p, newdata = grid.data)</span></span>
<span id="cb53-417"><a href="simulace3diskr.html#cb53-417" tabindex="-1"></a>    <span class="co"># presnost.train.p &lt;- table(Y.train, predictions.train.p) |&gt;</span></span>
<span id="cb53-418"><a href="simulace3diskr.html#cb53-418" tabindex="-1"></a>    <span class="co">#   prop.table() |&gt; diag() |&gt; sum()</span></span>
<span id="cb53-419"><a href="simulace3diskr.html#cb53-419" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-420"><a href="simulace3diskr.html#cb53-420" tabindex="-1"></a>    <span class="co"># predictions.train.r &lt;- predict(clf.SVM.r, newdata = grid.data)</span></span>
<span id="cb53-421"><a href="simulace3diskr.html#cb53-421" tabindex="-1"></a>    <span class="co"># presnost.train.r &lt;- table(Y.train, predictions.train.r) |&gt;</span></span>
<span id="cb53-422"><a href="simulace3diskr.html#cb53-422" tabindex="-1"></a>    <span class="co">#   prop.table() |&gt; diag() |&gt; sum()</span></span>
<span id="cb53-423"><a href="simulace3diskr.html#cb53-423" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-424"><a href="simulace3diskr.html#cb53-424" tabindex="-1"></a>    <span class="co"># # presnost na testovacich datech</span></span>
<span id="cb53-425"><a href="simulace3diskr.html#cb53-425" tabindex="-1"></a>    <span class="co"># predictions.test.l &lt;- predict(clf.SVM.l, newdata = grid.data.test)</span></span>
<span id="cb53-426"><a href="simulace3diskr.html#cb53-426" tabindex="-1"></a>    <span class="co"># presnost.test.l &lt;- table(Y.test, predictions.test.l) |&gt;</span></span>
<span id="cb53-427"><a href="simulace3diskr.html#cb53-427" tabindex="-1"></a>    <span class="co">#   prop.table() |&gt; diag() |&gt; sum()</span></span>
<span id="cb53-428"><a href="simulace3diskr.html#cb53-428" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-429"><a href="simulace3diskr.html#cb53-429" tabindex="-1"></a>    <span class="co"># predictions.test.p &lt;- predict(clf.SVM.p, newdata = grid.data.test)</span></span>
<span id="cb53-430"><a href="simulace3diskr.html#cb53-430" tabindex="-1"></a>    <span class="co"># presnost.test.p &lt;- table(Y.test, predictions.test.p) |&gt;</span></span>
<span id="cb53-431"><a href="simulace3diskr.html#cb53-431" tabindex="-1"></a>    <span class="co">#   prop.table() |&gt; diag() |&gt; sum()</span></span>
<span id="cb53-432"><a href="simulace3diskr.html#cb53-432" tabindex="-1"></a>    <span class="co"># </span></span>
<span id="cb53-433"><a href="simulace3diskr.html#cb53-433" tabindex="-1"></a>    <span class="co"># predictions.test.r &lt;- predict(clf.SVM.r, newdata = grid.data.test)</span></span>
<span id="cb53-434"><a href="simulace3diskr.html#cb53-434" tabindex="-1"></a>    <span class="co"># presnost.test.r &lt;- table(Y.test, predictions.test.r) |&gt;</span></span>
<span id="cb53-435"><a href="simulace3diskr.html#cb53-435" tabindex="-1"></a>    <span class="co">#   prop.table() |&gt; diag() |&gt; sum()</span></span>
<span id="cb53-436"><a href="simulace3diskr.html#cb53-436" tabindex="-1"></a>    </span>
<span id="cb53-437"><a href="simulace3diskr.html#cb53-437" tabindex="-1"></a>    Res <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">model =</span> <span class="fu">c</span>(<span class="st">&#39;SVM linear - diskr&#39;</span>, </span>
<span id="cb53-438"><a href="simulace3diskr.html#cb53-438" tabindex="-1"></a>                                <span class="st">&#39;SVM poly - diskr&#39;</span>, </span>
<span id="cb53-439"><a href="simulace3diskr.html#cb53-439" tabindex="-1"></a>                                <span class="st">&#39;SVM rbf - diskr&#39;</span>), </span>
<span id="cb53-440"><a href="simulace3diskr.html#cb53-440" tabindex="-1"></a>                      <span class="at">Err.train =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">c</span>(presnost.train.l,</span>
<span id="cb53-441"><a href="simulace3diskr.html#cb53-441" tabindex="-1"></a>                                        presnost.train.p, presnost.train.r),</span>
<span id="cb53-442"><a href="simulace3diskr.html#cb53-442" tabindex="-1"></a>                      <span class="at">Err.test =</span> <span class="dv">1</span> <span class="sc">-</span> <span class="fu">c</span>(presnost.test.l, </span>
<span id="cb53-443"><a href="simulace3diskr.html#cb53-443" tabindex="-1"></a>                                       presnost.test.p, presnost.test.r),</span>
<span id="cb53-444"><a href="simulace3diskr.html#cb53-444" tabindex="-1"></a>                      <span class="at">Duration =</span> <span class="fu">c</span>(<span class="fu">as.numeric</span>(duration.l), </span>
<span id="cb53-445"><a href="simulace3diskr.html#cb53-445" tabindex="-1"></a>                               <span class="fu">as.numeric</span>(duration.p), <span class="fu">as.numeric</span>(duration.r)))</span>
<span id="cb53-446"><a href="simulace3diskr.html#cb53-446" tabindex="-1"></a>    </span>
<span id="cb53-447"><a href="simulace3diskr.html#cb53-447" tabindex="-1"></a>    RESULTS <span class="ot">&lt;-</span> <span class="fu">rbind</span>(RESULTS, Res)</span>
<span id="cb53-448"><a href="simulace3diskr.html#cb53-448" tabindex="-1"></a></span>
<span id="cb53-449"><a href="simulace3diskr.html#cb53-449" tabindex="-1"></a>    <span class="do">## pridame vysledky do objektu SIMULACE</span></span>
<span id="cb53-450"><a href="simulace3diskr.html#cb53-450" tabindex="-1"></a>    </span>
<span id="cb53-451"><a href="simulace3diskr.html#cb53-451" tabindex="-1"></a>    SIMULACE<span class="sc">$</span>train[sim, ] <span class="ot">&lt;-</span> RESULTS<span class="sc">$</span>Err.train</span>
<span id="cb53-452"><a href="simulace3diskr.html#cb53-452" tabindex="-1"></a>    SIMULACE<span class="sc">$</span>test[sim, ] <span class="ot">&lt;-</span> RESULTS<span class="sc">$</span>Err.test</span>
<span id="cb53-453"><a href="simulace3diskr.html#cb53-453" tabindex="-1"></a>    SIMULACE<span class="sc">$</span>duration[sim, ] <span class="ot">&lt;-</span> RESULTS<span class="sc">$</span>Duration</span>
<span id="cb53-454"><a href="simulace3diskr.html#cb53-454" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&#39;</span><span class="sc">\r</span><span class="st">&#39;</span>, <span class="fu">paste0</span>(n_p, <span class="st">&#39;: &#39;</span>, sim))</span>
<span id="cb53-455"><a href="simulace3diskr.html#cb53-455" tabindex="-1"></a>  }</span>
<span id="cb53-456"><a href="simulace3diskr.html#cb53-456" tabindex="-1"></a>  </span>
<span id="cb53-457"><a href="simulace3diskr.html#cb53-457" tabindex="-1"></a>  <span class="co"># Nyní spočítáme průměrné testovací a trénovací chybovosti pro jednotlivé </span></span>
<span id="cb53-458"><a href="simulace3diskr.html#cb53-458" tabindex="-1"></a>  <span class="co"># klasifikační metody.</span></span>
<span id="cb53-459"><a href="simulace3diskr.html#cb53-459" tabindex="-1"></a>  </span>
<span id="cb53-460"><a href="simulace3diskr.html#cb53-460" tabindex="-1"></a>  <span class="co"># dame do vysledne tabulky</span></span>
<span id="cb53-461"><a href="simulace3diskr.html#cb53-461" tabindex="-1"></a>  </span>
<span id="cb53-462"><a href="simulace3diskr.html#cb53-462" tabindex="-1"></a>  SIMULACE.df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Err.train =</span> <span class="fu">apply</span>(SIMULACE<span class="sc">$</span>train, <span class="dv">2</span>, mean),</span>
<span id="cb53-463"><a href="simulace3diskr.html#cb53-463" tabindex="-1"></a>                            <span class="at">Err.test =</span> <span class="fu">apply</span>(SIMULACE<span class="sc">$</span>test, <span class="dv">2</span>, mean),</span>
<span id="cb53-464"><a href="simulace3diskr.html#cb53-464" tabindex="-1"></a>                            <span class="at">SD.train =</span> <span class="fu">apply</span>(SIMULACE<span class="sc">$</span>train, <span class="dv">2</span>, sd),</span>
<span id="cb53-465"><a href="simulace3diskr.html#cb53-465" tabindex="-1"></a>                            <span class="at">SD.test =</span> <span class="fu">apply</span>(SIMULACE<span class="sc">$</span>test, <span class="dv">2</span>, sd),</span>
<span id="cb53-466"><a href="simulace3diskr.html#cb53-466" tabindex="-1"></a>                            <span class="at">Duration =</span> <span class="fu">apply</span>(SIMULACE<span class="sc">$</span>duration, <span class="dv">2</span>, mean),</span>
<span id="cb53-467"><a href="simulace3diskr.html#cb53-467" tabindex="-1"></a>                            <span class="at">SD.dur =</span> <span class="fu">apply</span>(SIMULACE<span class="sc">$</span>duration, <span class="dv">2</span>, sd))</span>
<span id="cb53-468"><a href="simulace3diskr.html#cb53-468" tabindex="-1"></a>  </span>
<span id="cb53-469"><a href="simulace3diskr.html#cb53-469" tabindex="-1"></a>  <span class="co"># CV_res[n_p, ] &lt;- apply(SIMULACE$CV, 2, median)</span></span>
<span id="cb53-470"><a href="simulace3diskr.html#cb53-470" tabindex="-1"></a>  </span>
<span id="cb53-471"><a href="simulace3diskr.html#cb53-471" tabindex="-1"></a>  SIMUL_params[, , n_p] <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(SIMULACE.df)</span>
<span id="cb53-472"><a href="simulace3diskr.html#cb53-472" tabindex="-1"></a>}</span>
<span id="cb53-473"><a href="simulace3diskr.html#cb53-473" tabindex="-1"></a></span>
<span id="cb53-474"><a href="simulace3diskr.html#cb53-474" tabindex="-1"></a><span class="co"># ulozime vysledne hodnoty </span></span>
<span id="cb53-475"><a href="simulace3diskr.html#cb53-475" tabindex="-1"></a><span class="fu">save</span>(SIMUL_params, <span class="at">file =</span> <span class="st">&#39;RData/simulace_params_diskretizace_03_cv.RData&#39;</span>)</span></code></pre></div>
</details>
<div id="grafický-výstup-3" class="section level3 hasAnchor" number="8.4.1">
<h3><span class="header-section-number">8.4.1</span> Grafický výstup<a href="simulace3diskr.html#grafický-výstup-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Podívejme se na závislost simulovaných výsledků na hodnotě parametru <span class="math inline">\(p\)</span>. Začněme trénovacími chybovostmi.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="simulace3diskr.html#cb54-1" tabindex="-1"></a>methods_names <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb54-2"><a href="simulace3diskr.html#cb54-2" tabindex="-1"></a>      <span class="co"># &#39;Rozhodovací strom&#39;,</span></span>
<span id="cb54-3"><a href="simulace3diskr.html#cb54-3" tabindex="-1"></a>      <span class="st">&#39;Náhodný les&#39;</span>,</span>
<span id="cb54-4"><a href="simulace3diskr.html#cb54-4" tabindex="-1"></a>      <span class="st">&#39;SVM (linear)&#39;</span>,</span>
<span id="cb54-5"><a href="simulace3diskr.html#cb54-5" tabindex="-1"></a>      <span class="st">&#39;SVM (poly)&#39;</span>,</span>
<span id="cb54-6"><a href="simulace3diskr.html#cb54-6" tabindex="-1"></a>      <span class="st">&#39;SVM (radial)&#39;</span></span>
<span id="cb54-7"><a href="simulace3diskr.html#cb54-7" tabindex="-1"></a>)</span></code></pre></div>
</details>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="simulace3diskr.html#cb55-1" tabindex="-1"></a><span class="co"># pro trenovaci data</span></span>
<span id="cb55-2"><a href="simulace3diskr.html#cb55-2" tabindex="-1"></a>SIMUL_params[, <span class="dv">1</span>, ] <span class="sc">|&gt;</span> </span>
<span id="cb55-3"><a href="simulace3diskr.html#cb55-3" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb55-4"><a href="simulace3diskr.html#cb55-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">method =</span> methods) <span class="sc">|&gt;</span></span>
<span id="cb55-5"><a href="simulace3diskr.html#cb55-5" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">as.character</span>(p_vector), </span>
<span id="cb55-6"><a href="simulace3diskr.html#cb55-6" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&#39;p&#39;</span>, </span>
<span id="cb55-7"><a href="simulace3diskr.html#cb55-7" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&#39;Err&#39;</span>) <span class="sc">|&gt;</span></span>
<span id="cb55-8"><a href="simulace3diskr.html#cb55-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">method =</span> <span class="fu">factor</span>(method, <span class="at">levels =</span> methods, <span class="at">labels =</span> methods, <span class="at">ordered =</span> <span class="cn">TRUE</span>), </span>
<span id="cb55-9"><a href="simulace3diskr.html#cb55-9" tabindex="-1"></a>         <span class="at">p =</span> <span class="fu">as.numeric</span>(p)) <span class="sc">|&gt;</span> </span>
<span id="cb55-10"><a href="simulace3diskr.html#cb55-10" tabindex="-1"></a>  <span class="fu">filter</span>(method <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;RF_discr&quot;</span>, <span class="st">&quot;SVM linear - diskr&quot;</span>,</span>
<span id="cb55-11"><a href="simulace3diskr.html#cb55-11" tabindex="-1"></a>                       <span class="st">&quot;SVM poly - diskr&quot;</span>, <span class="st">&quot;SVM rbf - diskr&quot;</span>)) <span class="sc">|&gt;</span></span>
<span id="cb55-12"><a href="simulace3diskr.html#cb55-12" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> p, <span class="at">y =</span> Err, <span class="at">colour =</span> method)) <span class="sc">+</span> </span>
<span id="cb55-13"><a href="simulace3diskr.html#cb55-13" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb55-14"><a href="simulace3diskr.html#cb55-14" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb55-15"><a href="simulace3diskr.html#cb55-15" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">expression</span>(p),</span>
<span id="cb55-16"><a href="simulace3diskr.html#cb55-16" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">expression</span>(<span class="fu">widehat</span>(Err)[train]),</span>
<span id="cb55-17"><a href="simulace3diskr.html#cb55-17" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">&#39;Klasifikační metoda&#39;</span>) <span class="sc">+</span> </span>
<span id="cb55-18"><a href="simulace3diskr.html#cb55-18" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&#39;right&#39;</span>)</span></code></pre></div>
</details>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-40"></span>
<img src="08-Simulace_3_discretisation_files/figure-html/unnamed-chunk-40-1.png" alt="Graf závislosti trénovací chybovosti pro jednotlivé klasifikační metody na hodnotě parametru $p$." width="672" />
<p class="caption">
Obrázek 8.9: Graf závislosti trénovací chybovosti pro jednotlivé klasifikační metody na hodnotě parametru <span class="math inline">\(p\)</span>.
</p>
</div>
<p>Následně pro testovací chybovosti, což je graf, který nás zajímá nejvíce.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="simulace3diskr.html#cb56-1" tabindex="-1"></a><span class="co"># pro testovaci data</span></span>
<span id="cb56-2"><a href="simulace3diskr.html#cb56-2" tabindex="-1"></a>SIMUL_params[, <span class="dv">2</span>, ] <span class="sc">|&gt;</span> </span>
<span id="cb56-3"><a href="simulace3diskr.html#cb56-3" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb56-4"><a href="simulace3diskr.html#cb56-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">method =</span> methods) <span class="sc">|&gt;</span></span>
<span id="cb56-5"><a href="simulace3diskr.html#cb56-5" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">as.character</span>(p_vector), </span>
<span id="cb56-6"><a href="simulace3diskr.html#cb56-6" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&#39;p&#39;</span>, </span>
<span id="cb56-7"><a href="simulace3diskr.html#cb56-7" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&#39;Err&#39;</span>) <span class="sc">|&gt;</span></span>
<span id="cb56-8"><a href="simulace3diskr.html#cb56-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">method =</span> <span class="fu">factor</span>(method, <span class="at">levels =</span> methods, <span class="at">labels =</span> methods, <span class="at">ordered =</span> <span class="cn">TRUE</span>), </span>
<span id="cb56-9"><a href="simulace3diskr.html#cb56-9" tabindex="-1"></a>         <span class="at">p =</span> <span class="fu">as.numeric</span>(p)) <span class="sc">|&gt;</span> </span>
<span id="cb56-10"><a href="simulace3diskr.html#cb56-10" tabindex="-1"></a>  <span class="fu">filter</span>(method <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;RF_discr&quot;</span>, <span class="st">&quot;SVM linear - diskr&quot;</span>,</span>
<span id="cb56-11"><a href="simulace3diskr.html#cb56-11" tabindex="-1"></a>                       <span class="st">&quot;SVM poly - diskr&quot;</span>, <span class="st">&quot;SVM rbf - diskr&quot;</span>)) <span class="sc">|&gt;</span></span>
<span id="cb56-12"><a href="simulace3diskr.html#cb56-12" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> p, <span class="at">y =</span> Err, <span class="at">colour =</span> method)) <span class="sc">+</span> </span>
<span id="cb56-13"><a href="simulace3diskr.html#cb56-13" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb56-14"><a href="simulace3diskr.html#cb56-14" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb56-15"><a href="simulace3diskr.html#cb56-15" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">expression</span>(p),</span>
<span id="cb56-16"><a href="simulace3diskr.html#cb56-16" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">expression</span>(<span class="fu">widehat</span>(Err)[test]),</span>
<span id="cb56-17"><a href="simulace3diskr.html#cb56-17" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">&#39;Klasifikační metoda&#39;</span>) <span class="sc">+</span> </span>
<span id="cb56-18"><a href="simulace3diskr.html#cb56-18" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&#39;right&#39;</span>)</span></code></pre></div>
</details>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-41"></span>
<img src="08-Simulace_3_discretisation_files/figure-html/unnamed-chunk-41-1.png" alt="Graf závislosti testovací chybovosti pro jednotlivé klasifikační metody na hodnotě parametru $p$." width="672" />
<p class="caption">
Obrázek 8.10: Graf závislosti testovací chybovosti pro jednotlivé klasifikační metody na hodnotě parametru <span class="math inline">\(p\)</span>.
</p>
</div>
<p>Nakonec si vykresleme graf pro časovou náročnost metod.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="simulace3diskr.html#cb57-1" tabindex="-1"></a>SIMUL_params[, <span class="dv">5</span>, ] <span class="sc">|&gt;</span> </span>
<span id="cb57-2"><a href="simulace3diskr.html#cb57-2" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb57-3"><a href="simulace3diskr.html#cb57-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">method =</span> methods) <span class="sc">|&gt;</span></span>
<span id="cb57-4"><a href="simulace3diskr.html#cb57-4" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">as.character</span>(p_vector), </span>
<span id="cb57-5"><a href="simulace3diskr.html#cb57-5" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&#39;p&#39;</span>, </span>
<span id="cb57-6"><a href="simulace3diskr.html#cb57-6" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&#39;Duration&#39;</span>) <span class="sc">|&gt;</span></span>
<span id="cb57-7"><a href="simulace3diskr.html#cb57-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">method =</span> <span class="fu">factor</span>(method, <span class="at">levels =</span> methods, <span class="at">labels =</span> methods, <span class="at">ordered =</span> <span class="cn">TRUE</span>), </span>
<span id="cb57-8"><a href="simulace3diskr.html#cb57-8" tabindex="-1"></a>         <span class="at">p =</span> <span class="fu">as.numeric</span>(p)) <span class="sc">|&gt;</span> </span>
<span id="cb57-9"><a href="simulace3diskr.html#cb57-9" tabindex="-1"></a>  <span class="fu">filter</span>(method <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;RF_discr&quot;</span>, <span class="st">&quot;SVM linear - diskr&quot;</span>,</span>
<span id="cb57-10"><a href="simulace3diskr.html#cb57-10" tabindex="-1"></a>                       <span class="st">&quot;SVM poly - diskr&quot;</span>, <span class="st">&quot;SVM rbf - diskr&quot;</span>)) <span class="sc">|&gt;</span></span>
<span id="cb57-11"><a href="simulace3diskr.html#cb57-11" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> p, <span class="at">y =</span> Duration, <span class="at">colour =</span> method, <span class="at">linetype =</span> method)) <span class="sc">+</span> </span>
<span id="cb57-12"><a href="simulace3diskr.html#cb57-12" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb57-13"><a href="simulace3diskr.html#cb57-13" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb57-14"><a href="simulace3diskr.html#cb57-14" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="fu">expression</span>(p),</span>
<span id="cb57-15"><a href="simulace3diskr.html#cb57-15" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Duration [s]&quot;</span>,</span>
<span id="cb57-16"><a href="simulace3diskr.html#cb57-16" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">&#39;Klasifikační metoda&#39;</span>,</span>
<span id="cb57-17"><a href="simulace3diskr.html#cb57-17" tabindex="-1"></a>       <span class="at">linetype =</span> <span class="st">&#39;Klasifikační metoda&#39;</span>) <span class="sc">+</span> </span>
<span id="cb57-18"><a href="simulace3diskr.html#cb57-18" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&#39;right&#39;</span>) <span class="sc">+</span> </span>
<span id="cb57-19"><a href="simulace3diskr.html#cb57-19" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb57-20"><a href="simulace3diskr.html#cb57-20" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&#39;deepskyblue2&#39;</span>, <span class="st">&#39;deepskyblue2&#39;</span>, <span class="st">&#39;tomato&#39;</span>,</span>
<span id="cb57-21"><a href="simulace3diskr.html#cb57-21" tabindex="-1"></a>                                 <span class="st">&#39;tomato&#39;</span>, <span class="st">&#39;tomato&#39;</span>)) <span class="sc">+</span> </span>
<span id="cb57-22"><a href="simulace3diskr.html#cb57-22" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&#39;solid&#39;</span>, <span class="st">&#39;dashed&#39;</span>,</span>
<span id="cb57-23"><a href="simulace3diskr.html#cb57-23" tabindex="-1"></a>                                   <span class="st">&#39;solid&#39;</span>, <span class="st">&#39;dashed&#39;</span>, <span class="st">&#39;dotted&#39;</span>))</span></code></pre></div>
</details>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-42"></span>
<img src="08-Simulace_3_discretisation_files/figure-html/unnamed-chunk-42-1.png" alt="Graf závislosti časové náročnosti metod pro jednotlivé klasifikační metody na hodnotě parametru $p$." width="672" />
<p class="caption">
Obrázek 8.11: Graf závislosti časové náročnosti metod pro jednotlivé klasifikační metody na hodnotě parametru <span class="math inline">\(p\)</span>.
</p>
</div>
<p>Jelikož jsou výsledky zatíženy náhodnými výchylkami a zvýšení počtu opakování <code>n.sim</code> by bylo výpočetně velmi náročné, vyhlaďme nyní křivky závislosti průměrné testovací chybovosti na počtu <span class="math inline">\(p\)</span>.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="simulace3diskr.html#cb58-1" tabindex="-1"></a>Dat <span class="ot">&lt;-</span> SIMUL_params[, <span class="dv">2</span>, ] <span class="sc">|&gt;</span> </span>
<span id="cb58-2"><a href="simulace3diskr.html#cb58-2" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> <span class="fu">t</span>()</span>
<span id="cb58-3"><a href="simulace3diskr.html#cb58-3" tabindex="-1"></a></span>
<span id="cb58-4"><a href="simulace3diskr.html#cb58-4" tabindex="-1"></a>breaks <span class="ot">&lt;-</span> p_vector</span>
<span id="cb58-5"><a href="simulace3diskr.html#cb58-5" tabindex="-1"></a>rangeval <span class="ot">&lt;-</span> <span class="fu">range</span>(breaks)</span>
<span id="cb58-6"><a href="simulace3diskr.html#cb58-6" tabindex="-1"></a>norder <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb58-7"><a href="simulace3diskr.html#cb58-7" tabindex="-1"></a>wtvec <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">124</span>)</span>
<span id="cb58-8"><a href="simulace3diskr.html#cb58-8" tabindex="-1"></a><span class="co"># wtvec &lt;- c(seq(50, 10, length = 4), seq(0.1, 0.1, length = 10), rep(1, 110))</span></span>
<span id="cb58-9"><a href="simulace3diskr.html#cb58-9" tabindex="-1"></a></span>
<span id="cb58-10"><a href="simulace3diskr.html#cb58-10" tabindex="-1"></a>bbasis <span class="ot">&lt;-</span> <span class="fu">create.bspline.basis</span>(<span class="at">rangeval =</span> rangeval, </span>
<span id="cb58-11"><a href="simulace3diskr.html#cb58-11" tabindex="-1"></a>                               <span class="at">norder =</span> norder, </span>
<span id="cb58-12"><a href="simulace3diskr.html#cb58-12" tabindex="-1"></a>                               <span class="at">breaks =</span> breaks)</span>
<span id="cb58-13"><a href="simulace3diskr.html#cb58-13" tabindex="-1"></a></span>
<span id="cb58-14"><a href="simulace3diskr.html#cb58-14" tabindex="-1"></a>curv.Lfd <span class="ot">&lt;-</span> <span class="fu">int2Lfd</span>(<span class="dv">2</span>)</span>
<span id="cb58-15"><a href="simulace3diskr.html#cb58-15" tabindex="-1"></a></span>
<span id="cb58-16"><a href="simulace3diskr.html#cb58-16" tabindex="-1"></a>lambda.vect <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">^</span><span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">3</span>, <span class="at">to =</span> <span class="dv">5</span>, <span class="at">length.out =</span> <span class="dv">50</span>) <span class="co"># vektor lambd</span></span>
<span id="cb58-17"><a href="simulace3diskr.html#cb58-17" tabindex="-1"></a>gcv <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="at">length =</span> <span class="fu">length</span>(lambda.vect)) <span class="co"># prazdny vektor pro ulozebi GCV</span></span>
<span id="cb58-18"><a href="simulace3diskr.html#cb58-18" tabindex="-1"></a></span>
<span id="cb58-19"><a href="simulace3diskr.html#cb58-19" tabindex="-1"></a><span class="cf">for</span>(index <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(lambda.vect)) {</span>
<span id="cb58-20"><a href="simulace3diskr.html#cb58-20" tabindex="-1"></a>  curv.Fdpar <span class="ot">&lt;-</span> <span class="fu">fdPar</span>(bbasis, curv.Lfd, lambda.vect[index])</span>
<span id="cb58-21"><a href="simulace3diskr.html#cb58-21" tabindex="-1"></a>  BSmooth <span class="ot">&lt;-</span> <span class="fu">smooth.basis</span>(breaks, Dat, curv.Fdpar, </span>
<span id="cb58-22"><a href="simulace3diskr.html#cb58-22" tabindex="-1"></a>                          <span class="at">wtvec =</span> wtvec) <span class="co"># vyhlazeni</span></span>
<span id="cb58-23"><a href="simulace3diskr.html#cb58-23" tabindex="-1"></a>  gcv[index] <span class="ot">&lt;-</span> <span class="fu">mean</span>(BSmooth<span class="sc">$</span>gcv) <span class="co"># prumer pres vsechny pozorovane krivky</span></span>
<span id="cb58-24"><a href="simulace3diskr.html#cb58-24" tabindex="-1"></a>}</span>
<span id="cb58-25"><a href="simulace3diskr.html#cb58-25" tabindex="-1"></a></span>
<span id="cb58-26"><a href="simulace3diskr.html#cb58-26" tabindex="-1"></a>GCV <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb58-27"><a href="simulace3diskr.html#cb58-27" tabindex="-1"></a>  <span class="at">lambda =</span> <span class="fu">round</span>(<span class="fu">log10</span>(lambda.vect), <span class="dv">3</span>),</span>
<span id="cb58-28"><a href="simulace3diskr.html#cb58-28" tabindex="-1"></a>  <span class="at">GCV =</span> gcv</span>
<span id="cb58-29"><a href="simulace3diskr.html#cb58-29" tabindex="-1"></a>)</span>
<span id="cb58-30"><a href="simulace3diskr.html#cb58-30" tabindex="-1"></a></span>
<span id="cb58-31"><a href="simulace3diskr.html#cb58-31" tabindex="-1"></a><span class="co"># najdeme hodnotu minima</span></span>
<span id="cb58-32"><a href="simulace3diskr.html#cb58-32" tabindex="-1"></a>lambda.opt <span class="ot">&lt;-</span> lambda.vect[<span class="fu">which.min</span>(gcv)]</span>
<span id="cb58-33"><a href="simulace3diskr.html#cb58-33" tabindex="-1"></a></span>
<span id="cb58-34"><a href="simulace3diskr.html#cb58-34" tabindex="-1"></a>curv.fdPar <span class="ot">&lt;-</span> <span class="fu">fdPar</span>(bbasis, curv.Lfd, lambda.opt)</span>
<span id="cb58-35"><a href="simulace3diskr.html#cb58-35" tabindex="-1"></a>BSmooth <span class="ot">&lt;-</span> <span class="fu">smooth.basis</span>(breaks, Dat, curv.fdPar,</span>
<span id="cb58-36"><a href="simulace3diskr.html#cb58-36" tabindex="-1"></a>                        <span class="at">wtvec =</span> wtvec)</span>
<span id="cb58-37"><a href="simulace3diskr.html#cb58-37" tabindex="-1"></a>XXfd <span class="ot">&lt;-</span> BSmooth<span class="sc">$</span>fd</span>
<span id="cb58-38"><a href="simulace3diskr.html#cb58-38" tabindex="-1"></a></span>
<span id="cb58-39"><a href="simulace3diskr.html#cb58-39" tabindex="-1"></a>fdobjSmootheval <span class="ot">&lt;-</span> <span class="fu">eval.fd</span>(<span class="at">fdobj =</span> XXfd, </span>
<span id="cb58-40"><a href="simulace3diskr.html#cb58-40" tabindex="-1"></a>                           <span class="at">evalarg =</span> <span class="fu">seq</span>(<span class="fu">min</span>(p_vector), <span class="fu">max</span>(p_vector), <span class="at">length =</span> <span class="dv">101</span>))</span>
<span id="cb58-41"><a href="simulace3diskr.html#cb58-41" tabindex="-1"></a></span>
<span id="cb58-42"><a href="simulace3diskr.html#cb58-42" tabindex="-1"></a>df_plot_smooth <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb58-43"><a href="simulace3diskr.html#cb58-43" tabindex="-1"></a>  <span class="at">method =</span> <span class="fu">rep</span>(<span class="fu">colnames</span>(fdobjSmootheval), <span class="at">each =</span> <span class="fu">dim</span>(fdobjSmootheval)[<span class="dv">1</span>]),</span>
<span id="cb58-44"><a href="simulace3diskr.html#cb58-44" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(fdobjSmootheval),</span>
<span id="cb58-45"><a href="simulace3diskr.html#cb58-45" tabindex="-1"></a>  <span class="at">p =</span> <span class="fu">rep</span>(<span class="fu">seq</span>(<span class="fu">min</span>(p_vector), <span class="fu">max</span>(p_vector), <span class="at">length =</span> <span class="dv">101</span>), <span class="fu">length</span>(methods))</span>
<span id="cb58-46"><a href="simulace3diskr.html#cb58-46" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb58-47"><a href="simulace3diskr.html#cb58-47" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">method =</span> <span class="fu">factor</span>(method, <span class="at">levels =</span> methods, <span class="at">labels =</span> methods, <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
</details>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="simulace3diskr.html#cb59-1" tabindex="-1"></a><span class="co"># pro testovaci data</span></span>
<span id="cb59-2"><a href="simulace3diskr.html#cb59-2" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> SIMUL_params[, <span class="dv">2</span>, ] <span class="sc">|&gt;</span> </span>
<span id="cb59-3"><a href="simulace3diskr.html#cb59-3" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb59-4"><a href="simulace3diskr.html#cb59-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">method =</span> methods) <span class="sc">|&gt;</span></span>
<span id="cb59-5"><a href="simulace3diskr.html#cb59-5" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">as.character</span>(p_vector), </span>
<span id="cb59-6"><a href="simulace3diskr.html#cb59-6" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&#39;p&#39;</span>, </span>
<span id="cb59-7"><a href="simulace3diskr.html#cb59-7" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&#39;Err&#39;</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-8"><a href="simulace3diskr.html#cb59-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">method =</span> <span class="fu">factor</span>(method, <span class="at">levels =</span> methods, <span class="at">labels =</span> methods, <span class="at">ordered =</span> <span class="cn">TRUE</span>), </span>
<span id="cb59-9"><a href="simulace3diskr.html#cb59-9" tabindex="-1"></a>         <span class="at">p =</span> <span class="fu">as.numeric</span>(p)) <span class="sc">|&gt;</span> </span>
<span id="cb59-10"><a href="simulace3diskr.html#cb59-10" tabindex="-1"></a>  <span class="fu">filter</span>(method <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;RF_discr&quot;</span>, <span class="st">&quot;SVM linear - diskr&quot;</span>,</span>
<span id="cb59-11"><a href="simulace3diskr.html#cb59-11" tabindex="-1"></a>                       <span class="st">&quot;SVM poly - diskr&quot;</span>, <span class="st">&quot;SVM rbf - diskr&quot;</span>)) <span class="sc">|&gt;</span></span>
<span id="cb59-12"><a href="simulace3diskr.html#cb59-12" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> p, <span class="at">y =</span> Err, <span class="at">colour =</span> method, <span class="at">shape =</span> method)) <span class="sc">+</span> </span>
<span id="cb59-13"><a href="simulace3diskr.html#cb59-13" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="fl">0.6</span>) <span class="sc">+</span> </span>
<span id="cb59-14"><a href="simulace3diskr.html#cb59-14" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb59-15"><a href="simulace3diskr.html#cb59-15" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&#39;p&#39;</span>,</span>
<span id="cb59-16"><a href="simulace3diskr.html#cb59-16" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&#39;Testovaci chybovost&#39;</span>,</span>
<span id="cb59-17"><a href="simulace3diskr.html#cb59-17" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">&#39;Klasifikační metoda&#39;</span>,</span>
<span id="cb59-18"><a href="simulace3diskr.html#cb59-18" tabindex="-1"></a>       <span class="at">linetype =</span> <span class="st">&#39;Klasifikační metoda&#39;</span>,</span>
<span id="cb59-19"><a href="simulace3diskr.html#cb59-19" tabindex="-1"></a>       <span class="at">shape =</span> <span class="st">&#39;Klasifikační metoda&#39;</span>) <span class="sc">+</span> </span>
<span id="cb59-20"><a href="simulace3diskr.html#cb59-20" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&#39;none&#39;</span>,</span>
<span id="cb59-21"><a href="simulace3diskr.html#cb59-21" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>), <span class="st">&quot;cm&quot;</span>),</span>
<span id="cb59-22"><a href="simulace3diskr.html#cb59-22" tabindex="-1"></a>        <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb59-23"><a href="simulace3diskr.html#cb59-23" tabindex="-1"></a>    <span class="co"># scale_y_log10() +</span></span>
<span id="cb59-24"><a href="simulace3diskr.html#cb59-24" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> df_plot_smooth, <span class="fu">aes</span>(<span class="at">x =</span> p, <span class="at">y =</span> value, <span class="at">col =</span> method,</span>
<span id="cb59-25"><a href="simulace3diskr.html#cb59-25" tabindex="-1"></a>                                       <span class="at">linetype =</span> method),</span>
<span id="cb59-26"><a href="simulace3diskr.html#cb59-26" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">0.95</span>) <span class="sc">+</span> </span>
<span id="cb59-27"><a href="simulace3diskr.html#cb59-27" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&#39;deepskyblue2&#39;</span>, <span class="st">&#39;deepskyblue2&#39;</span>, <span class="co">#&#39;tomato&#39;,</span></span>
<span id="cb59-28"><a href="simulace3diskr.html#cb59-28" tabindex="-1"></a>                                 <span class="st">&#39;tomato&#39;</span>, <span class="st">&#39;tomato&#39;</span>),</span>
<span id="cb59-29"><a href="simulace3diskr.html#cb59-29" tabindex="-1"></a>                      <span class="at">labels =</span> methods_names) <span class="sc">+</span> </span>
<span id="cb59-30"><a href="simulace3diskr.html#cb59-30" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&#39;solid&#39;</span>, <span class="st">&#39;dashed&#39;</span>,</span>
<span id="cb59-31"><a href="simulace3diskr.html#cb59-31" tabindex="-1"></a>                                   <span class="st">&#39;solid&#39;</span>, <span class="st">&#39;dashed&#39;</span><span class="co">#, &#39;dotted&#39;</span></span>
<span id="cb59-32"><a href="simulace3diskr.html#cb59-32" tabindex="-1"></a>                                   ),</span>
<span id="cb59-33"><a href="simulace3diskr.html#cb59-33" tabindex="-1"></a>                        <span class="at">labels =</span> methods_names) <span class="sc">+</span> </span>
<span id="cb59-34"><a href="simulace3diskr.html#cb59-34" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">1</span>, <span class="dv">16</span>, <span class="dv">1</span>),</span>
<span id="cb59-35"><a href="simulace3diskr.html#cb59-35" tabindex="-1"></a>                     <span class="at">labels =</span> methods_names) <span class="sc">+</span></span>
<span id="cb59-36"><a href="simulace3diskr.html#cb59-36" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="fl">1.2</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>)),</span>
<span id="cb59-37"><a href="simulace3diskr.html#cb59-37" tabindex="-1"></a>         <span class="at">linetype =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">linewidth =</span> <span class="fl">0.8</span>)))</span>
<span id="cb59-38"><a href="simulace3diskr.html#cb59-38" tabindex="-1"></a>p1</span></code></pre></div>
</details>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-44"></span>
<img src="08-Simulace_3_discretisation_files/figure-html/unnamed-chunk-44-1.png" alt="Graf závislosti testovací chybovosti pro jednotlivé klasifikační metody na hodnotě parametru $p$." width="672" />
<p class="caption">
Obrázek 8.12: Graf závislosti testovací chybovosti pro jednotlivé klasifikační metody na hodnotě parametru <span class="math inline">\(p\)</span>.
</p>
</div>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="simulace3diskr.html#cb60-1" tabindex="-1"></a><span class="co"># ggsave(&quot;figures/kap6_sim_03diskr_curvesErr.tex&quot;, device = tikz, width = 4.5, height = 4.5)</span></span></code></pre></div>
</details>
<p>Přidáme ke grafu časovou náročnost.</p>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="simulace3diskr.html#cb61-1" tabindex="-1"></a>Dat <span class="ot">&lt;-</span> SIMUL_params[, <span class="dv">5</span>, ] <span class="sc">|&gt;</span> </span>
<span id="cb61-2"><a href="simulace3diskr.html#cb61-2" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> <span class="fu">t</span>()</span>
<span id="cb61-3"><a href="simulace3diskr.html#cb61-3" tabindex="-1"></a></span>
<span id="cb61-4"><a href="simulace3diskr.html#cb61-4" tabindex="-1"></a>breaks <span class="ot">&lt;-</span> p_vector</span>
<span id="cb61-5"><a href="simulace3diskr.html#cb61-5" tabindex="-1"></a>rangeval <span class="ot">&lt;-</span> <span class="fu">range</span>(breaks)</span>
<span id="cb61-6"><a href="simulace3diskr.html#cb61-6" tabindex="-1"></a>norder <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb61-7"><a href="simulace3diskr.html#cb61-7" tabindex="-1"></a>wtvec <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">124</span>)</span>
<span id="cb61-8"><a href="simulace3diskr.html#cb61-8" tabindex="-1"></a><span class="co"># wtvec &lt;- c(seq(50, 10, length = 4), seq(0.1, 0.1, length = 10), rep(1, 110))</span></span>
<span id="cb61-9"><a href="simulace3diskr.html#cb61-9" tabindex="-1"></a></span>
<span id="cb61-10"><a href="simulace3diskr.html#cb61-10" tabindex="-1"></a>bbasis <span class="ot">&lt;-</span> <span class="fu">create.bspline.basis</span>(<span class="at">rangeval =</span> rangeval, </span>
<span id="cb61-11"><a href="simulace3diskr.html#cb61-11" tabindex="-1"></a>                               <span class="at">norder =</span> norder, </span>
<span id="cb61-12"><a href="simulace3diskr.html#cb61-12" tabindex="-1"></a>                               <span class="at">breaks =</span> breaks)</span>
<span id="cb61-13"><a href="simulace3diskr.html#cb61-13" tabindex="-1"></a></span>
<span id="cb61-14"><a href="simulace3diskr.html#cb61-14" tabindex="-1"></a>curv.Lfd <span class="ot">&lt;-</span> <span class="fu">int2Lfd</span>(<span class="dv">2</span>)</span>
<span id="cb61-15"><a href="simulace3diskr.html#cb61-15" tabindex="-1"></a></span>
<span id="cb61-16"><a href="simulace3diskr.html#cb61-16" tabindex="-1"></a>lambda.vect <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">^</span><span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">3</span>, <span class="at">to =</span> <span class="dv">5</span>, <span class="at">length.out =</span> <span class="dv">50</span>) <span class="co"># vektor lambd</span></span>
<span id="cb61-17"><a href="simulace3diskr.html#cb61-17" tabindex="-1"></a>gcv <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="at">length =</span> <span class="fu">length</span>(lambda.vect)) <span class="co"># prazdny vektor pro ulozebi GCV</span></span>
<span id="cb61-18"><a href="simulace3diskr.html#cb61-18" tabindex="-1"></a></span>
<span id="cb61-19"><a href="simulace3diskr.html#cb61-19" tabindex="-1"></a><span class="cf">for</span>(index <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(lambda.vect)) {</span>
<span id="cb61-20"><a href="simulace3diskr.html#cb61-20" tabindex="-1"></a>  curv.Fdpar <span class="ot">&lt;-</span> <span class="fu">fdPar</span>(bbasis, curv.Lfd, lambda.vect[index])</span>
<span id="cb61-21"><a href="simulace3diskr.html#cb61-21" tabindex="-1"></a>  BSmooth <span class="ot">&lt;-</span> <span class="fu">smooth.basis</span>(breaks, Dat, curv.Fdpar, </span>
<span id="cb61-22"><a href="simulace3diskr.html#cb61-22" tabindex="-1"></a>                          <span class="at">wtvec =</span> wtvec) <span class="co"># vyhlazeni</span></span>
<span id="cb61-23"><a href="simulace3diskr.html#cb61-23" tabindex="-1"></a>  gcv[index] <span class="ot">&lt;-</span> <span class="fu">mean</span>(BSmooth<span class="sc">$</span>gcv) <span class="co"># prumer pres vsechny pozorovane krivky</span></span>
<span id="cb61-24"><a href="simulace3diskr.html#cb61-24" tabindex="-1"></a>}</span>
<span id="cb61-25"><a href="simulace3diskr.html#cb61-25" tabindex="-1"></a></span>
<span id="cb61-26"><a href="simulace3diskr.html#cb61-26" tabindex="-1"></a>GCV <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb61-27"><a href="simulace3diskr.html#cb61-27" tabindex="-1"></a>  <span class="at">lambda =</span> <span class="fu">round</span>(<span class="fu">log10</span>(lambda.vect), <span class="dv">3</span>),</span>
<span id="cb61-28"><a href="simulace3diskr.html#cb61-28" tabindex="-1"></a>  <span class="at">GCV =</span> gcv</span>
<span id="cb61-29"><a href="simulace3diskr.html#cb61-29" tabindex="-1"></a>)</span>
<span id="cb61-30"><a href="simulace3diskr.html#cb61-30" tabindex="-1"></a></span>
<span id="cb61-31"><a href="simulace3diskr.html#cb61-31" tabindex="-1"></a><span class="co"># najdeme hodnotu minima</span></span>
<span id="cb61-32"><a href="simulace3diskr.html#cb61-32" tabindex="-1"></a>lambda.opt <span class="ot">&lt;-</span> lambda.vect[<span class="fu">which.min</span>(gcv)]</span>
<span id="cb61-33"><a href="simulace3diskr.html#cb61-33" tabindex="-1"></a></span>
<span id="cb61-34"><a href="simulace3diskr.html#cb61-34" tabindex="-1"></a>curv.fdPar <span class="ot">&lt;-</span> <span class="fu">fdPar</span>(bbasis, curv.Lfd, lambda.opt)</span>
<span id="cb61-35"><a href="simulace3diskr.html#cb61-35" tabindex="-1"></a>BSmooth <span class="ot">&lt;-</span> <span class="fu">smooth.basis</span>(breaks, Dat, curv.fdPar,</span>
<span id="cb61-36"><a href="simulace3diskr.html#cb61-36" tabindex="-1"></a>                        <span class="at">wtvec =</span> wtvec)</span>
<span id="cb61-37"><a href="simulace3diskr.html#cb61-37" tabindex="-1"></a>XXfd <span class="ot">&lt;-</span> BSmooth<span class="sc">$</span>fd</span>
<span id="cb61-38"><a href="simulace3diskr.html#cb61-38" tabindex="-1"></a></span>
<span id="cb61-39"><a href="simulace3diskr.html#cb61-39" tabindex="-1"></a>fdobjSmootheval <span class="ot">&lt;-</span> <span class="fu">eval.fd</span>(<span class="at">fdobj =</span> XXfd, </span>
<span id="cb61-40"><a href="simulace3diskr.html#cb61-40" tabindex="-1"></a>                           <span class="at">evalarg =</span> <span class="fu">seq</span>(<span class="fu">min</span>(p_vector), <span class="fu">max</span>(p_vector), <span class="at">length =</span> <span class="dv">101</span>))</span>
<span id="cb61-41"><a href="simulace3diskr.html#cb61-41" tabindex="-1"></a></span>
<span id="cb61-42"><a href="simulace3diskr.html#cb61-42" tabindex="-1"></a>df_plot_smooth_2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb61-43"><a href="simulace3diskr.html#cb61-43" tabindex="-1"></a>  <span class="at">method =</span> <span class="fu">rep</span>(<span class="fu">colnames</span>(fdobjSmootheval), <span class="at">each =</span> <span class="fu">dim</span>(fdobjSmootheval)[<span class="dv">1</span>]),</span>
<span id="cb61-44"><a href="simulace3diskr.html#cb61-44" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(fdobjSmootheval),</span>
<span id="cb61-45"><a href="simulace3diskr.html#cb61-45" tabindex="-1"></a>  <span class="at">p =</span> <span class="fu">rep</span>(<span class="fu">seq</span>(<span class="fu">min</span>(p_vector), <span class="fu">max</span>(p_vector), <span class="at">length =</span> <span class="dv">101</span>), <span class="fu">length</span>(methods))</span>
<span id="cb61-46"><a href="simulace3diskr.html#cb61-46" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb61-47"><a href="simulace3diskr.html#cb61-47" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">method =</span> <span class="fu">factor</span>(method, <span class="at">levels =</span> methods, <span class="at">labels =</span> methods, <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
</details>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="simulace3diskr.html#cb62-1" tabindex="-1"></a><span class="co"># pro testovaci data</span></span>
<span id="cb62-2"><a href="simulace3diskr.html#cb62-2" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> SIMUL_params[, <span class="dv">5</span>, ] <span class="sc">|&gt;</span> </span>
<span id="cb62-3"><a href="simulace3diskr.html#cb62-3" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb62-4"><a href="simulace3diskr.html#cb62-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">method =</span> methods) <span class="sc">|&gt;</span></span>
<span id="cb62-5"><a href="simulace3diskr.html#cb62-5" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">as.character</span>(p_vector), </span>
<span id="cb62-6"><a href="simulace3diskr.html#cb62-6" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&#39;p&#39;</span>, </span>
<span id="cb62-7"><a href="simulace3diskr.html#cb62-7" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&#39;Err&#39;</span>) <span class="sc">|&gt;</span></span>
<span id="cb62-8"><a href="simulace3diskr.html#cb62-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">method =</span> <span class="fu">factor</span>(method, <span class="at">levels =</span> methods, <span class="at">labels =</span> methods, <span class="at">ordered =</span> <span class="cn">TRUE</span>), </span>
<span id="cb62-9"><a href="simulace3diskr.html#cb62-9" tabindex="-1"></a>         <span class="at">p =</span> <span class="fu">as.numeric</span>(p)) <span class="sc">|&gt;</span> </span>
<span id="cb62-10"><a href="simulace3diskr.html#cb62-10" tabindex="-1"></a>  <span class="fu">filter</span>(method <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;RF_discr&quot;</span>, <span class="st">&quot;SVM linear - diskr&quot;</span>,</span>
<span id="cb62-11"><a href="simulace3diskr.html#cb62-11" tabindex="-1"></a>                       <span class="st">&quot;SVM poly - diskr&quot;</span>, <span class="st">&quot;SVM rbf - diskr&quot;</span>)) <span class="sc">|&gt;</span></span>
<span id="cb62-12"><a href="simulace3diskr.html#cb62-12" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> p, <span class="at">y =</span> Err, <span class="at">colour =</span> method, <span class="at">shape =</span> method)) <span class="sc">+</span> </span>
<span id="cb62-13"><a href="simulace3diskr.html#cb62-13" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="fl">0.6</span>) <span class="sc">+</span> </span>
<span id="cb62-14"><a href="simulace3diskr.html#cb62-14" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb62-15"><a href="simulace3diskr.html#cb62-15" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&#39;p&#39;</span>,</span>
<span id="cb62-16"><a href="simulace3diskr.html#cb62-16" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&#39;Testovaci chybovost&#39;</span>,</span>
<span id="cb62-17"><a href="simulace3diskr.html#cb62-17" tabindex="-1"></a>       <span class="at">colour =</span> <span class="st">&#39;Klasifikační metoda&#39;</span>,</span>
<span id="cb62-18"><a href="simulace3diskr.html#cb62-18" tabindex="-1"></a>       <span class="at">linetype =</span> <span class="st">&#39;Klasifikační metoda&#39;</span>,</span>
<span id="cb62-19"><a href="simulace3diskr.html#cb62-19" tabindex="-1"></a>       <span class="at">shape =</span> <span class="st">&#39;Klasifikační metoda&#39;</span>) <span class="sc">+</span> </span>
<span id="cb62-20"><a href="simulace3diskr.html#cb62-20" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.7</span>, <span class="fl">0.16</span>),<span class="co">#&#39;right&#39;,</span></span>
<span id="cb62-21"><a href="simulace3diskr.html#cb62-21" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>), <span class="st">&quot;cm&quot;</span>),</span>
<span id="cb62-22"><a href="simulace3diskr.html#cb62-22" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb62-23"><a href="simulace3diskr.html#cb62-23" tabindex="-1"></a>        <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill=</span><span class="st">&#39;transparent&#39;</span>),</span>
<span id="cb62-24"><a href="simulace3diskr.html#cb62-24" tabindex="-1"></a>        <span class="at">legend.key =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="cn">NA</span>, <span class="at">fill =</span> <span class="cn">NA</span>)) <span class="sc">+</span></span>
<span id="cb62-25"><a href="simulace3diskr.html#cb62-25" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>() <span class="sc">+</span></span>
<span id="cb62-26"><a href="simulace3diskr.html#cb62-26" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">data =</span> df_plot_smooth_2, <span class="fu">aes</span>(<span class="at">x =</span> p, <span class="at">y =</span> value, <span class="at">col =</span> method,</span>
<span id="cb62-27"><a href="simulace3diskr.html#cb62-27" tabindex="-1"></a>                                       <span class="at">linetype =</span> method),</span>
<span id="cb62-28"><a href="simulace3diskr.html#cb62-28" tabindex="-1"></a>            <span class="at">linewidth =</span> <span class="fl">0.95</span>) <span class="sc">+</span> </span>
<span id="cb62-29"><a href="simulace3diskr.html#cb62-29" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&#39;deepskyblue2&#39;</span>, <span class="st">&#39;deepskyblue2&#39;</span>, <span class="co">#&#39;tomato&#39;,</span></span>
<span id="cb62-30"><a href="simulace3diskr.html#cb62-30" tabindex="-1"></a>                                 <span class="st">&#39;tomato&#39;</span>, <span class="st">&#39;tomato&#39;</span>),</span>
<span id="cb62-31"><a href="simulace3diskr.html#cb62-31" tabindex="-1"></a>                      <span class="at">labels =</span> methods_names) <span class="sc">+</span> </span>
<span id="cb62-32"><a href="simulace3diskr.html#cb62-32" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&#39;solid&#39;</span>, <span class="st">&#39;dashed&#39;</span>,</span>
<span id="cb62-33"><a href="simulace3diskr.html#cb62-33" tabindex="-1"></a>                                   <span class="st">&#39;solid&#39;</span>, <span class="st">&#39;dashed&#39;</span><span class="co">#, &#39;dotted&#39;</span></span>
<span id="cb62-34"><a href="simulace3diskr.html#cb62-34" tabindex="-1"></a>                                   ),</span>
<span id="cb62-35"><a href="simulace3diskr.html#cb62-35" tabindex="-1"></a>                        <span class="at">labels =</span> methods_names) <span class="sc">+</span> </span>
<span id="cb62-36"><a href="simulace3diskr.html#cb62-36" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="dv">16</span>, <span class="dv">1</span>, <span class="dv">16</span>, <span class="dv">1</span>),</span>
<span id="cb62-37"><a href="simulace3diskr.html#cb62-37" tabindex="-1"></a>                     <span class="at">labels =</span> methods_names) <span class="sc">+</span></span>
<span id="cb62-38"><a href="simulace3diskr.html#cb62-38" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="fl">1.2</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>)),</span>
<span id="cb62-39"><a href="simulace3diskr.html#cb62-39" tabindex="-1"></a>         <span class="at">linetype =</span> <span class="fu">guide_legend</span>(<span class="at">override.aes =</span> <span class="fu">list</span>(<span class="at">linewidth =</span> <span class="fl">0.8</span>)))</span>
<span id="cb62-40"><a href="simulace3diskr.html#cb62-40" tabindex="-1"></a>p2</span></code></pre></div>
</details>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-46"></span>
<img src="08-Simulace_3_discretisation_files/figure-html/unnamed-chunk-46-1.png" alt="Graf závislosti testovací chybovosti pro jednotlivé klasifikační metody na hodnotě parametru $p$." width="672" />
<p class="caption">
Obrázek 8.13: Graf závislosti testovací chybovosti pro jednotlivé klasifikační metody na hodnotě parametru <span class="math inline">\(p\)</span>.
</p>
</div>
<details class=chunk-details><summary class=chunk-summary><span class=chunk-summary-text>Code</span></summary>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="simulace3diskr.html#cb63-1" tabindex="-1"></a><span class="co"># ggsave(&quot;figures/kap6_sim_03diskr_curvesTime.tex&quot;, device = tikz, width = 4.5, height = 4.5)</span></span></code></pre></div>
</details>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="simulace3shift.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="simulace4.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": null,
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/Tomas-Pompa/MastersThesis/blob/main/08-Simulace_3_discretisation.Rmd",
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
